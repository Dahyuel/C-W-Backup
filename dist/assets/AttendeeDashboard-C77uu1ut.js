import{u as Te,a as Ue,r,s as i,g as Me,b as Qe,j as e,U as y,C as D}from"./index-Cj-T6Nn4.js";import{D as K,T as Fe,S as Z,Q as ee,B as se,X as E,b as $e}from"./DashboardLayout-C3lQ1M3v.js";import{A as M}from"./activity-BtMvvcVd.js";import{C as Q}from"./calendar-B7AoxtT0.js";import{C as te}from"./clock-ur7lrMmp.js";import{M as A}from"./map-pin-CGJaJU9m.js";import{X as ae}from"./x-circle-DnOqFS0N.js";import"./heart-D5GG3oA0.js";const Ve=()=>{const{profile:t}=Te();Ue();const[m,re]=r.useState(null),[F,ne]=r.useState([]),[$,le]=r.useState([]),[q,ie]=r.useState([]),[ce,oe]=r.useState([]),[de,me]=r.useState([]),[o,xe]=r.useState("overview"),[g,P]=r.useState(1),[I,he]=r.useState(!0),[L,W]=r.useState(!1),[ge,B]=r.useState(!1),[Y,N]=r.useState(""),[ue,z]=r.useState(!1),[n,f]=r.useState(null),[be,j]=r.useState(!1),[v,w]=r.useState(!1),[X,c]=r.useState(null),[G,u]=r.useState(null),[d,k]=r.useState(null),[fe,C]=r.useState(!1),[x,R]=r.useState(null),[je,S]=r.useState(!1),[pe,O]=r.useState(!1);r.useEffect(()=>{ye();const s=i.channel("sessions_changes").on("postgres_changes",{event:"*",schema:"public",table:"sessions"},h=>{console.log("Session change detected:",h),b()}).subscribe(),a=i.channel("attendances_changes").on("postgres_changes",{event:"*",schema:"public",table:"attendances",filter:"scan_type=eq.booking"},h=>{console.log("Booking change detected:",h),b(),t!=null&&t.id&&p()}).subscribe(),l=i.channel("user_scores_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_scores",filter:`user_id=eq.${t==null?void 0:t.id}`},h=>{console.log("User score change detected:",h),V(),H()}).subscribe();return()=>{i.removeChannel(s),i.removeChannel(a),i.removeChannel(l)}},[t==null?void 0:t.id]),r.useEffect(()=>{if(o==="sessions"){const s=setInterval(()=>{b(),t!=null&&t.id&&p()},3e4);return()=>clearInterval(s)}},[o,t==null?void 0:t.id]),r.useEffect(()=>{o==="events"&&J(g)},[o,g]);const ye=async()=>{if(t!=null&&t.id)try{await V(),await H(),await J(1),await b(),await p(),await ve()}catch(s){console.error(s)}finally{he(!1)}},V=async()=>{if(t!=null&&t.id)try{const{data:s,error:a}=await Me(t.id);a?console.error("Error fetching user score:",a):s&&re(s)}catch(s){console.error("Error fetching user score:",s)}},H=async()=>{if(t!=null&&t.id)try{const{data:s,error:a}=await Qe(t.id,5);a?console.error("Error fetching recent activities:",a):ne(s)}catch(s){console.error("Error fetching recent activities:",s)}},J=async s=>{O(!0);try{const{data:a,error:l}=await i.from("schedule_items").select("*").order("start_time",{ascending:!0});if(l)console.error("Error fetching events:",l);else if(a){const h=a.filter(U=>Ne(U.start_time)===s);le(h)}}catch(a){console.error("Error fetching events:",a)}finally{O(!1)}},Ne=s=>{const a=new Date(s),l=new Date("2024-03-18"),h=a.getTime()-l.getTime(),U=Math.ceil(h/(1e3*60*60*24));return Math.max(1,Math.min(5,U+1))},b=async()=>{W(!0);try{const{data:s,error:a}=await i.from("sessions").select("*").order("start_time",{ascending:!0});a?console.error("Error fetching sessions:",a):s&&ie(s)}catch(s){console.error("Error fetching sessions:",s)}finally{W(!1)}},p=async()=>{if(t!=null&&t.id)try{const{data:s,error:a}=await i.from("attendances").select("session_id, scanned_at").eq("user_id",t.id).eq("scan_type","booking");a?console.error("Error fetching user bookings:",a):s&&me(s.map(l=>({session_id:l.session_id,booked_at:l.scanned_at})))}catch(s){console.error("Error fetching user bookings:",s)}},ve=async()=>{try{const{data:s,error:a}=await i.from("companies").select("*").order("name",{ascending:!0});a?console.error("Error fetching companies:",a):s&&oe(s)}catch(s){console.error("Error fetching companies:",s)}},we=async()=>{if(t!=null&&t.id){z(!0);try{const s=await $e.toDataURL(t.id,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"});N(s)}catch(s){console.error("Error generating QR code:",s),N("")}finally{z(!1)}}},ke=()=>{B(!0),we()},Ce=s=>{f(s),j(!0),c(null),u(null)},Se=s=>{k(s),C(!0)},_e=s=>{R(s),S(!0)},T=s=>de.some(a=>a.session_id===s),_=s=>s.max_attendees&&s.current_bookings>=s.max_attendees,De=async s=>{if(t!=null&&t.id){w(!0),c(null),u(null);try{const{data:a,error:l}=await i.rpc("book_session",{p_user_id:t.id,p_session_id:s,p_scanned_by:t.id});l?c(l.message||"Failed to book session"):a!=null&&a.success?(u("Session booked successfully!"),await b(),await p(),setTimeout(()=>{j(!1),f(null)},2e3)):c((a==null?void 0:a.message)||"Failed to book session")}catch{c("An error occurred while booking the session")}finally{w(!1)}}},Ee=async s=>{if(t!=null&&t.id){w(!0),c(null),u(null);try{const{data:a,error:l}=await i.rpc("cancel_booking",{p_user_id:t.id,p_session_id:s});l?c(l.message||"Failed to cancel booking"):a!=null&&a.success?(u("Booking cancelled successfully!"),await b(),await p(),setTimeout(()=>{j(!1),f(null)},2e3)):c((a==null?void 0:a.message)||"Failed to cancel booking")}catch{c("An error occurred while cancelling the booking")}finally{w(!1)}}},Ae=s=>{switch(s){case"attendance":return e.jsx(D,{className:"h-4 w-4 text-green-500"});case"session":return e.jsx(y,{className:"h-4 w-4 text-blue-500"});case"event":return e.jsx(Q,{className:"h-4 w-4 text-purple-500"});case"bonus":return e.jsx(Z,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(M,{className:"h-4 w-4 text-gray-500"})}};if(I)return e.jsx(K,{title:"Dashboard",subtitle:"Welcome back to Career Week",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})});const Le=["/src/Assets/day1.png","/src/Assets/day2.png","/src/Assets/day3.png","/src/Assets/day4.png","/src/Assets/day5.png"],Be=s=>{window.open(s,"_blank")},Re=[{key:"overview",label:"Overview"},{key:"events",label:"Events"},{key:"sessions",label:"Sessions"},{key:"maps",label:"Maps"},{key:"employers",label:"Employers"}];return e.jsx(K,{title:"Attendee Dashboard",subtitle:`Welcome back, ${t==null?void 0:t.first_name}!`,children:e.jsxs("div",{className:"fade-in-up-blur",children:[e.jsx("div",{className:"flex space-x-1 sm:space-x-4 border-b mb-6 overflow-x-auto scrollbar-hide fade-in-left",children:Re.map(s=>e.jsx("button",{onClick:()=>xe(s.key),className:`py-2 px-2 sm:px-4 font-semibold text-sm sm:text-base whitespace-nowrap transition-all duration-300 ${o===s.key?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-orange-600"}`,children:s.label},s.key))}),o==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 grid-stagger-blur",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 card-hover-enhanced dashboard-card",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your Score"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(m==null?void 0:m.score)||0}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mt-2",children:e.jsx(Fe,{className:"h-6 w-6 text-orange-600"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 card-hover-enhanced dashboard-card",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your Rank"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["#",(m==null?void 0:m.rank)||0]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["of ",(m==null?void 0:m.total_users)||0," attendees"]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mt-2",children:e.jsx(Z,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 card-hover-enhanced dashboard-card",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your QR Code"}),e.jsx("button",{onClick:ke,className:"mt-2 bg-orange-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-orange-600 transition-colors",children:"Show QR"}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mt-2",children:e.jsx(ee,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 card-hover-enhanced dashboard-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent Activities"}),e.jsx(M,{className:"h-5 w-5 text-gray-400"})]}),F.length>0?e.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:F.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[Ae(s.activity_type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-900 truncate",children:s.activity_description}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.awarded_at).toLocaleDateString()})]})]}),e.jsxs("span",{className:"text-xs font-semibold text-green-600 ml-2",children:["+",s.points]})]},s.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-500",children:"No recent activities"})]})]})]}),o==="events"&&e.jsxs("div",{className:"tab-content-animate",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4 sm:mb-0",children:[e.jsx(Q,{className:"h-5 w-5 mr-2 text-orange-600"})," 5-Day Stage Activities"]}),e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(s=>e.jsxs("button",{onClick:()=>P(s),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${g===s?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",s]},s))})]}),pe?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):$.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 grid-stagger-blur",children:$.map(s=>e.jsxs("div",{onClick:()=>_e(s),className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 cursor-pointer h-full flex flex-col card-hover-enhanced dashboard-card",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 flex-1",children:s.title})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3 flex-1",children:s.description}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-500 mt-auto",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{className:"h-3 w-3 mr-2 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[new Date(s.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," -",new Date(s.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-3 w-3 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.location})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:s.item_type?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.item_type}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Event"})})]},s.id))}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[e.jsx(Q,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-500",children:["No events scheduled for Day ",g]})]})]}),o==="sessions"&&e.jsxs("div",{className:"tab-content-animate",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(y,{className:"h-5 w-5 mr-2 text-orange-600"})," Available Sessions"]}),L&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500 mr-2"}),"Updating..."]})]}),q.length===0&&!I?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(y,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No sessions available"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 grid-stagger-blur",children:q.map(s=>{const a=T(s.id),l=_(s);return e.jsxs("div",{onClick:()=>Ce(s),className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 cursor-pointer relative card-hover-enhanced dashboard-card",children:[L&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"})}),e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:s.title}),a&&e.jsx(D,{className:"h-5 w-5 text-green-500 flex-shrink-0 ml-2"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.description}),s.speaker&&e.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["Speaker: ",s.speaker]}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{className:"h-3 w-3 mr-1"}),new Date(s.start_time).toLocaleDateString()," ",new Date(s.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-3 w-3 mr-1"}),s.location]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{className:`transition-colors ${L?"text-orange-500":""}`,children:[s.current_bookings||0,"/",s.max_attendees||"Unlimited"," booked"]})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:a?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(D,{className:"h-3 w-3 mr-1"}),"Booked"]}):l?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(ae,{className:"h-3 w-3 mr-1"}),"Full"]}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Available"})})]},s.id)})})]}),o==="maps"&&e.jsxs("div",{className:"tab-content-animate",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Event Maps"}),e.jsx("div",{className:"flex space-x-2 mb-4",children:[1,2,3,4,5].map(s=>e.jsxs("button",{onClick:()=>P(s),className:`px-4 py-2 rounded-lg text-sm ${g===s?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"}`,children:["Day ",s]},s))}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-4 flex justify-center",children:e.jsx("img",{src:Le[g-1],alt:`Day ${g} Map`,className:"max-w-full h-auto rounded-lg"})})]}),o==="employers"&&e.jsxs("div",{className:"tab-content-animate",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(se,{className:"h-5 w-5 mr-2 text-orange-600"})," Participating Companies"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 grid-stagger-blur",children:ce.map(s=>e.jsx("div",{onClick:()=>Se(s),className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 cursor-pointer card-hover-enhanced dashboard-card",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:s.logo_url,alt:`${s.name} logo`,className:"h-16 w-auto mx-auto mb-4 object-contain"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:s.description}),s.booth_number&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 mb-2",children:["Booth ",s.booth_number]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx(se,{className:"h-5 w-5 text-orange-500"})})]})},s.id))})]}),ge&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-backdrop-blur",onClick:()=>{B(!1),N("")},children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full text-center modal-content-blur",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your QR Code"}),e.jsx("button",{onClick:()=>{B(!1),N("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"w-48 h-48 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center",children:ue?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Generating..."})]}):Y?e.jsx("img",{src:Y,alt:"QR Code",className:"w-full h-full object-contain rounded-lg"}):e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-500",children:"QR Code"})]})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Show this QR code for check-ins"}),(t==null?void 0:t.id)&&e.jsx("p",{className:"text-xs text-gray-400 mt-1 font-mono break-all",children:t.id})]})}),je&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-backdrop-blur",onClick:()=>{S(!1),R(null)},children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Event Details"}),e.jsx("button",{onClick:()=>{S(!1),R(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:x.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:x.description})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date & Time"}),e.jsx("p",{className:"text-gray-900",children:new Date(x.start_time).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[new Date(x.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," -",new Date(x.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsxs("p",{className:"text-gray-900 flex items-center",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),x.location]})]}),x.item_type&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type"}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:x.item_type})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>S(!1),className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Close Details"})})]})]})})}),be&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-backdrop-blur",onClick:()=>{j(!1),f(null),c(null),u(null)},children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Session Details"}),e.jsx("button",{onClick:()=>{j(!1),f(null),c(null),u(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:n.description})]}),n.speaker&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Speaker"}),e.jsx("p",{className:"text-gray-900",children:n.speaker})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),e.jsxs("p",{className:"text-gray-900",children:[new Date(n.start_time).toLocaleDateString()," at"," ",new Date(n.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:n.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capacity"}),e.jsxs("p",{className:"text-gray-900",children:[n.current_bookings||0," / ",n.max_attendees||"Unlimited"," booked"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:T(n.id)?e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[e.jsx(D,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-green-800 font-medium",children:"You have booked this session"})]}):_(n)?e.jsxs("div",{className:"flex items-center p-3 bg-red-50 rounded-lg",children:[e.jsx(ae,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("span",{className:"text-red-800 font-medium",children:"This session is fully booked"})]}):e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx(y,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsx("span",{className:"text-blue-800 font-medium",children:"Available for booking"})]})}),X&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:X})}),G&&e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-700 text-sm",children:G})}),e.jsx("div",{className:"pt-4 space-y-3",children:T(n.id)?e.jsx("button",{onClick:()=>Ee(n.id),disabled:v,className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Cancelling...":"Cancel Booking"}):e.jsx("button",{onClick:()=>De(n.id),disabled:v||_(n),className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Booking...":_(n)?"Session Full":"Book Now"})})]})]})})}),fe&&d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-backdrop-blur",onClick:()=>{C(!1),k(null)},children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto modal-content-blur",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Company Details"}),e.jsx("button",{onClick:()=>{C(!1),k(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:d.logo_url,alt:`${d.name} logo`,className:"h-24 w-auto mx-auto mb-4 object-contain"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:d.name}),d.booth_number&&e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800 mt-2",children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),"Booth ",d.booth_number]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Company"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:d.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("a",{href:d.website,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 break-all",children:d.website})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx("button",{onClick:()=>Be(d.website),className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Visit Career Page"}),e.jsx("button",{onClick:()=>{C(!1),k(null)},className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})]})]})]})})})]})})};export{Ve as default};
