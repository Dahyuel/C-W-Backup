import{o as Y,r as l,s as p,w as Cs,j as e,U as te,E as Pe,z as ks}from"./index-Cj-T6Nn4.js";import{D as at,B as Oe,M as Ds,X as ae}from"./DashboardLayout-C3lQ1M3v.js";import{X as Es}from"./x-circle-DnOqFS0N.js";import{C as he}from"./calendar-B7AoxtT0.js";import{P as pe}from"./plus-DLUIUrBD.js";import{C as lt}from"./clock-ur7lrMmp.js";import{M as Be}from"./map-pin-CGJaJU9m.js";import{A as rt}from"./activity-BtMvvcVd.js";import"./heart-D5GG3oA0.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Y("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=Y("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function Vs(){const[ct,be]=l.useState(!1),[le,ye]=l.useState(null),[X,mt]=l.useState({total_users:0,total_sessions:0}),[Z,fe]=l.useState({inside_building:0,inside_event:0,total_attendees:0}),[ut,je]=l.useState(!1),[xt,ve]=l.useState(!1),[re,Ne]=l.useState(null),[ne,we]=l.useState(null),[gt,Se]=l.useState(!1),[ht,_e]=l.useState(!1),[Us,pt]=l.useState(null),[$s,bt]=l.useState(null),[yt,ft]=l.useState([]),[jt,vt]=l.useState([]),[Nt,wt]=l.useState([]),[L,ze]=l.useState(1),[St,_t]=l.useState([]),[T,Ct]=l.useState("dashboard"),[kt,ie]=l.useState(!1),[Dt,oe]=l.useState(!1),[Et,Ce]=l.useState(!1),[Tt,qe]=l.useState(!1),[Mt,de]=l.useState(!1),[Ut,ke]=l.useState(!1),[$t,De]=l.useState(!1),[k,Ge]=l.useState(null),[I,Ee]=l.useState(null),[Ve,Te]=l.useState(!0),[Me,He]=l.useState(""),[Ue,We]=l.useState(""),[G,Ke]=l.useState(""),[Q,$e]=l.useState([]),[Lt,Le]=l.useState(""),[Ye,J]=l.useState([]),[It,Xe]=l.useState(!1),[At,Ie]=l.useState(!1),[Ls,Ft]=l.useState(null),[Pt,Ae]=l.useState(!1),[O,Ze]=l.useState(null),[m,A]=l.useState({id:"",name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),[f,F]=l.useState({id:"",title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),[b,P]=l.useState({id:"",title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),[x,B]=l.useState({name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),[j,R]=l.useState({title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),[y,z]=l.useState({title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),[D,Fe]=l.useState({day:1,image:null}),[N,v]=l.useState(!1),[Ot,Qe]=l.useState(!0),[ce,Je]=l.useState({message:"",type:null}),[Is,Bt]=l.useState({eventGenderRatio:{male:0,female:0},eventFaculties:[],eventUniversities:[],eventDegreeLevel:{student:0,graduate:0},eventStudentGraduateRatio:{student:0,graduate:0}}),d=(t,s)=>{Je({message:t,type:s}),setTimeout(()=>{Je({message:"",type:null})},4e3)};l.useEffect(()=>{Rt()},[]),l.useEffect(()=>{T==="events"&&xe(L)},[T,L]),l.useEffect(()=>{T==="statistics"&&zt()},[T]);const Rt=async()=>{Qe(!0);try{const{count:t}=await p.from("users_profiles").select("*",{count:"exact",head:!0}),{count:s}=await p.from("sessions").select("*",{count:"exact",head:!0}),{count:a}=await p.from("users_profiles").select("*",{count:"exact",head:!0}).eq("role","attendee"),{count:r}=await p.from("users_profiles").select("*",{count:"exact",head:!0}).not("role","in","('admin','attendee')");mt({total_users:t||0,total_sessions:s||0,total_attendees:a||0,total_volunteers:r||0}),await Qt(),await ue(),await ge()}catch(t){console.error("Error fetching dashboard data:",t)}finally{Qe(!1)}},zt=async()=>{try{const{data:t,error:s}=await p.from("users_profiles").select("*").eq("event_entry",!0).eq("role","attendee");if(s)throw s;if(t&&t.length>0){const a={male:0,female:0},r={},n={},i={student:0,graduate:0},c={student:0,graduate:0};t.forEach(g=>{g.gender==="male"?a.male++:g.gender==="female"&&a.female++,g.faculty&&(r[g.faculty]=(r[g.faculty]||0)+1),g.university&&(n[g.university]=(n[g.university]||0)+1),g.degree_level==="student"?(i.student++,c.student++):g.degree_level==="graduate"&&(i.graduate++,c.graduate++)});const w=Object.entries(r).map(([g,_])=>({name:g,count:_})).sort((g,_)=>_.count-g.count).slice(0,10),C=Object.entries(n).map(([g,_])=>({name:g,count:_})).sort((g,_)=>_.count-g.count).slice(0,10);Bt({eventGenderRatio:a,eventFaculties:w,eventUniversities:C,eventDegreeLevel:i,eventStudentGraduateRatio:c})}}catch(t){console.error("Error fetching enhanced statistics:",t)}},qt=t=>{pt(t);const s=new Date(t.start_time);F({id:t.id,title:t.title||"",description:t.description||"",speaker:t.speaker||"",capacity:t.max_attendees||"",type:t.session_type||"session",date:s.toISOString().split("T")[0],hour:s.toTimeString().slice(0,5),location:t.location||""}),Se(!0)},Gt=t=>{bt(t);const s=new Date(t.start_time),a=t.end_time?new Date(t.end_time):null;P({id:t.id,title:t.title||"",description:t.description||"",startDate:s.toISOString().split("T")[0],startTime:s.toTimeString().slice(0,5),endDate:a?a.toISOString().split("T")[0]:"",endTime:a?a.toTimeString().slice(0,5):"",location:t.location||"",type:t.item_type||"general"}),_e(!0)},Vt=t=>{Ze(t),Ae(!0)},Ht=async()=>{if(!f.title||!f.date||!f.speaker){d("Please fill all required fields!","error");return}v(!0);try{const t=new Date(`${f.date}T${f.hour}`),s=new Date(t.getTime()+2*60*60*1e3),a=parseInt(f.capacity)||null,{error:r}=await p.from("sessions").update({title:f.title,description:f.description,speaker:f.speaker,start_time:t.toISOString(),end_time:s.toISOString(),location:f.location,capacity:a,max_attendees:a,session_type:f.type}).eq("id",f.id);r?d("Failed to update session","error"):(Se(!1),F({id:"",title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),d("Session updated successfully!","success"),await ue())}catch{d("Failed to update session","error")}finally{v(!1)}},Wt=async()=>{if(!b.title||!b.startDate||!b.startTime){d("Please fill all required fields!","error");return}v(!0);try{const t=new Date(`${b.startDate}T${b.startTime}`),s=b.endDate&&b.endTime?new Date(`${b.endDate}T${b.endTime}`):new Date(t.getTime()+2*60*60*1e3),{error:a}=await p.from("schedule_items").update({title:b.title,description:b.description,start_time:t.toISOString(),end_time:s.toISOString(),location:b.location,item_type:b.type}).eq("id",b.id);a?d("Failed to update event","error"):(_e(!1),P({id:"",title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),d("Event updated successfully!","success"),await xe(L))}catch{d("Failed to update event","error")}finally{v(!1)}},Kt=t=>{Ft(t),A({id:t.id,name:t.name||"",logo:null,logoUrl:t.logo_url||"",logoType:"link",description:t.description||"",website:t.website||"",boothNumber:t.booth_number||""}),Ie(!0)},V=({title:t,value:s,icon:a,color:r})=>{const n={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500",red:"bg-red-500"};return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s})]}),e.jsx("div",{className:`w-12 h-12 ${n[r]} bg-opacity-10 rounded-lg flex items-center justify-center`,children:e.jsx("div",{className:n[r].replace("bg-","text-"),children:a})})]})})},et=({data:t,title:s="Gender Distribution"})=>{const a=t.male+t.female,r=a>0?t.male/a*100:0,n=a>0?t.female/a*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:s}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:["Male: ",t.male," (",r.toFixed(1),"%)"]}),e.jsxs("span",{className:"text-pink-600 font-medium",children:["Female: ",t.female," (",n.toFixed(1),"%)"]})]}),e.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-3",children:[e.jsx("div",{className:"bg-blue-600 h-3 rounded-full",style:{width:`${r}%`}}),e.jsx("div",{className:"bg-pink-600 h-3 rounded-full -mt-3",style:{width:`${n}%`,marginLeft:`${r}%`}})]})]})},Yt=({data:t})=>{const s=Object.entries(t).sort((r,n)=>n[1]-r[1]),a=s.reduce((r,[n,i])=>r+i,0);return e.jsx("div",{className:"space-y-3",children:s.map(([r,n])=>{const i=a>0?n/a*100:0;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:r.replace("_"," ")}),e.jsxs("span",{className:"text-gray-500",children:[n," (",i.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${i}%`}})})]},r)})})},me=({data:t,color:s,title:a})=>{const r=Math.max(...t.map(i=>i.count),1),n={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500"};return e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:a}),t.slice(0,8).map((i,c)=>{const w=i.count/r*100;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 truncate flex-1 mr-2",children:i.name}),e.jsx("span",{className:"text-gray-500 whitespace-nowrap",children:i.count})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`${n[s]} h-3 rounded-full`,style:{width:`${w}%`}})})]},c)})]})},Xt=({data:t})=>{const s=t.reduce((a,r)=>a+r.count,0);return e.jsx("div",{className:"space-y-3",children:t.map((a,r)=>{const n=s>0?a.count/s*100:0,i=a.name.split("_").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:i}),e.jsxs("span",{className:"text-gray-500",children:[a.count," (",n.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${n}%`}})})]},r)})})},tt=({data:t,title:s="Degree Level"})=>{const a=t.student+t.graduate,r=a>0?t.student/a*100:0,n=a>0?t.graduate/a*100:0;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:s}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-green-600 font-medium",children:["Students: ",t.student," (",r.toFixed(1),"%)"]}),e.jsxs("span",{className:"text-blue-600 font-medium",children:["Graduates: ",t.graduate," (",n.toFixed(1),"%)"]})]}),e.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-4",children:[e.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${r}%`}}),e.jsx("div",{className:"bg-blue-500 h-4 rounded-full -mt-4",style:{width:`${n}%`,marginLeft:`${r}%`}})]})]})},Zt=async()=>{if(!m.name||!m.website||!m.boothNumber){d("Please fill all required fields!","error");return}if(m.logoType==="link"&&!m.logoUrl){d("Please provide a logo URL!","error");return}if(m.logoType==="upload"&&!m.logo){d("Please select a logo file to upload!","error");return}v(!0);try{let t=m.logoUrl;if(m.logoType==="upload"&&m.logo){const a=m.logo.name.split(".").pop(),n=`company-logos/${`${Date.now()}-${m.name.replace(/[^a-zA-Z0-9]/g,"_")}.${a}`}`,{data:i,error:c}=await p.storage.from("Assets").upload(n,m.logo);if(c){console.error("Upload error:",c),d("Failed to upload logo","error"),v(!1);return}const{data:w}=p.storage.from("Assets").getPublicUrl(n);t=w.publicUrl}const{error:s}=await p.from("companies").update({name:m.name,logo_url:t,description:m.description,website:m.website,booth_number:m.boothNumber}).eq("id",m.id);s?d("Failed to update company","error"):(Ie(!1),A({id:"",name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),d("Company updated successfully!","success"),await ge())}catch{d("Failed to update company","error")}finally{v(!1)}},Qt=async()=>{try{const{data:t,error:s}=await Cs();if(s){console.error("Error fetching dynamic building stats:",s);const{count:a}=await p.from("users_profiles").select("*",{count:"exact",head:!0}).eq("role","attendee");fe({inside_building:0,inside_event:0,total_attendees:a||0})}else t&&fe({inside_building:t.inside_building,inside_event:t.inside_event,total_attendees:t.total_attendees})}catch(t){console.error("Error fetching building stats:",t),fe({inside_building:0,inside_event:0,total_attendees:0})}},Jt=async()=>{if(re){v(!0);try{const{error:t}=await p.from("sessions").delete().eq("id",re.id);t?d("Failed to delete session","error"):(je(!1),Ne(null),d("Session deleted successfully!","success"),await ue())}catch{d("Failed to delete session","error")}finally{v(!1)}}},es=()=>{const[t,s]=l.useState({totalRegistrations:0,graduates:0,students:0,currentInEvent:0,currentInBuilding:0,universities:[],faculties:[],genderStats:{male:0,female:0},roleStats:{},marketingSources:[],degreeLevelStats:{student:0,graduate:0},classYearStats:{},currentGenderStats:{male:0,female:0},eventStats:{day1:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day2:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day3:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day4:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day5:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0}}}),[a,r]=l.useState(!0),[n,i]=l.useState("all"),[c,w]=l.useState("registration"),[C,g]=l.useState(1);l.useEffect(()=>{_()},[n,c,C]);const _=async()=>{r(!0);try{c==="registration"?await M():await K()}catch(o){console.error("Error fetching statistics:",o),s(h=>({...h,eventStats:{day1:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day2:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day3:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day4:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day5:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0}}}))}finally{r(!1)}},M=async()=>{let o={};if(n==="today"){const E=new Date;E.setHours(0,0,0,0),o={created_at:`gte.${E.toISOString()}`}}else if(n==="week"){const E=new Date;E.setDate(E.getDate()-7),o={created_at:`gte.${E.toISOString()}`}}let h=p.from("users_profiles").select("*");o.created_at&&(h=h.gte("created_at",o.created_at.replace("gte.","")));const{data:S,error:H}=await h;if(H)throw H;const W=U(S||[]);s(W)},K=async()=>{try{const o=new Date,h=new Date(o);h.setHours(0,0,0,0);const S=new Date(o);S.setHours(23,59,59,999);const{data:H,error:W}=await p.from("attendances").select("*").gte("scanned_at",h.toISOString()).lte("scanned_at",S.toISOString());if(W)throw W;const E=q(H||[]);s(ee=>({...ee,eventStats:{...ee.eventStats,[`day${C}`]:E}}))}catch(o){throw console.error("Error fetching event stats:",o),o}},U=o=>{const h={totalRegistrations:o.length,graduates:0,students:0,currentInEvent:0,currentInBuilding:0,universities:[],faculties:[],genderStats:{male:0,female:0},roleStats:{},marketingSources:[],degreeLevelStats:{student:0,graduate:0},classYearStats:{},currentGenderStats:{male:0,female:0}},S={},H={},W={},E={},ee={};return o.forEach(u=>{u.degree_level==="graduate"?h.graduates++:u.degree_level==="student"&&h.students++,u.event_entry&&h.currentInEvent++,u.building_entry&&h.currentInBuilding++,u.gender==="male"?(h.genderStats.male++,u.event_entry&&h.currentGenderStats.male++):u.gender==="female"&&(h.genderStats.female++,u.event_entry&&h.currentGenderStats.female++),u.university&&(S[u.university]=(S[u.university]||0)+1),u.faculty&&(H[u.faculty]=(H[u.faculty]||0)+1),u.role&&(W[u.role]=(W[u.role]||0)+1),u.how_did_hear_about_event&&(E[u.how_did_hear_about_event]=(E[u.how_did_hear_about_event]||0)+1),u.class&&(ee[u.class]=(ee[u.class]||0)+1)}),h.universities=Object.entries(S).map(([u,$])=>({name:u,count:$})).sort((u,$)=>$.count-u.count).slice(0,10),h.faculties=Object.entries(H).map(([u,$])=>({name:u,count:$})).sort((u,$)=>$.count-u.count).slice(0,10),h.roleStats=W,h.marketingSources=Object.entries(E).map(([u,$])=>({name:u,count:$})).sort((u,$)=>$.count-u.count),h.classYearStats=ee,h},q=o=>({entries:o.filter(S=>S.scan_type==="entry").length,exits:o.filter(S=>S.scan_type==="exit").length,building_entries:o.filter(S=>S.scan_type==="building_entry").length,building_exits:o.filter(S=>S.scan_type==="building_exit").length,session_entries:o.filter(S=>S.scan_type==="session_entry").length,registrations:0});return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>w("registration"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c==="registration"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Registration"}),e.jsx("button",{onClick:()=>w("event"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c==="event"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Event"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>i("today"),disabled:c==="event",className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="today"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${c==="event"?"opacity-50 cursor-not-allowed":""}`,children:"Today"}),e.jsx("button",{onClick:()=>i("week"),disabled:c==="event",className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="week"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${c==="event"?"opacity-50 cursor-not-allowed":""}`,children:"Last 7 Days"}),e.jsx("button",{onClick:()=>i("all"),disabled:c==="event",className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="all"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${c==="event"?"opacity-50 cursor-not-allowed":""}`,children:"All Time"})]}),c==="event"&&e.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5].map(o=>e.jsxs("button",{onClick:()=>g(o),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${C===o?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",o]},o))})]}),c==="registration"?e.jsx(ts,{statsData:t}):e.jsx(ss,{statsData:t,selectedDay:C}),e.jsx(as,{statsData:t})]})},ts=({statsData:t})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(V,{title:"Total Registrations",value:t.totalRegistrations,icon:e.jsx(te,{className:"h-6 w-6"}),color:"blue"}),e.jsx(V,{title:"Students",value:t.students,icon:e.jsx(te,{className:"h-6 w-6"}),color:"green"}),e.jsx(V,{title:"Graduates",value:t.graduates,icon:e.jsx(te,{className:"h-6 w-6"}),color:"purple"}),e.jsx(V,{title:"Currently in Event",value:t.currentInEvent,icon:e.jsx(rt,{className:"h-6 w-6"}),color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gender Distribution"}),e.jsx(et,{data:t.genderStats,title:"Total Registrations"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Role Distribution"}),e.jsx(Yt,{data:t.roleStats})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Universities"}),e.jsx(me,{data:t.universities,color:"blue",title:""})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Faculties"}),e.jsx(me,{data:t.faculties,color:"green",title:""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Marketing Sources"}),e.jsx(Xt,{data:t.marketingSources})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Degree Level"}),e.jsx(tt,{data:t.degreeLevelStats})]})]})]}),ss=({statsData:t,selectedDay:s})=>{var c;const[a,r]=l.useState({faculties:[],universities:[],genderStats:{male:0,female:0},degreeStats:{student:0,graduate:0}});l.useEffect(()=>{n()},[s]);const n=async()=>{try{const{data:w,error:C}=await p.from("users_profiles").select("*").eq("event_entry",!0).eq("role","attendee");if(C)throw C;if(w&&w.length>0){const g={},_={},M={male:0,female:0},K={student:0,graduate:0};w.forEach(o=>{o.faculty&&(g[o.faculty]=(g[o.faculty]||0)+1),o.university&&(_[o.university]=(_[o.university]||0)+1),o.gender==="male"?M.male++:o.gender==="female"&&M.female++,o.degree_level==="student"?K.student++:o.degree_level==="graduate"&&K.graduate++});const U=Object.entries(g).map(([o,h])=>({name:o,count:h})).sort((o,h)=>h.count-o.count).slice(0,10),q=Object.entries(_).map(([o,h])=>({name:o,count:h})).sort((o,h)=>h.count-o.count).slice(0,10);r({faculties:U,universities:q,genderStats:M,degreeStats:K})}}catch(w){console.error("Error fetching event analytics:",w)}},i=((c=t==null?void 0:t.eventStats)==null?void 0:c[`day${s}`])||{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(V,{title:`Day ${s} Entries`,value:i.entries,icon:e.jsx(ot,{className:"h-6 w-6"}),color:"green"}),e.jsx(V,{title:`Day ${s} Exits`,value:i.exits,icon:e.jsx(ot,{className:"h-6 w-6"}),color:"red"}),e.jsx(V,{title:"Building Entries",value:i.building_entries,icon:e.jsx(Oe,{className:"h-6 w-6"}),color:"blue"}),e.jsx(V,{title:"Session Entries",value:i.session_entries,icon:e.jsx(he,{className:"h-6 w-6"}),color:"purple"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inside Event Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(et,{data:a.genderStats,title:"Gender Distribution Inside Event"})}),e.jsx("div",{children:e.jsx(tt,{data:a.degreeStats,title:"Student/Graduate Ratio Inside Event"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(nt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Top Faculties Inside Event"]}),e.jsx(me,{data:a.faculties,color:"blue",title:""})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(nt,{className:"h-5 w-5 mr-2 text-green-600"}),"Top Universities Inside Event"]}),e.jsx(me,{data:a.universities,color:"green",title:""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily Activity"}),e.jsx(ls,{selectedDay:s})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Attendance Flow"}),e.jsx(rs,{dayStats:i})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Popularity"}),e.jsx(ns,{selectedDay:s})]})]})},as=({statsData:t})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gray-50",children:e.jsxs("h2",{className:"text-3xl font-bold text-black-800 flex items-center gap-2 mx-auto",children:[e.jsx(rt,{className:"h-7 w-7 text-orange-500"}),"Current State"]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-lg font-bold text-left border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-800 text-xl font-extrabold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Site"}),e.jsx("th",{className:"px-4 py-3",children:"Maximum Capacity"}),e.jsx("th",{className:"px-4 py-3",children:"Current Capacity"}),e.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Building"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"500"}),e.jsx("td",{className:"px-4 py-3",children:t.currentInBuilding}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${t.currentInBuilding<400?"bg-green-100 text-green-800":t.currentInBuilding<450?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.currentInBuilding>0?Math.round(t.currentInBuilding/500*100):0,"%"]})})]}),e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Event"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"4000"}),e.jsx("td",{className:"px-4 py-3",children:t.currentInEvent}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${t.currentInEvent<3e3?"bg-green-100 text-green-800":t.currentInEvent<3500?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.currentInEvent>0?Math.round(t.currentInEvent/4e3*100):0,"%"]})})]}),e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Total Capacity"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"4500"}),e.jsx("td",{className:"px-4 py-3",children:t.currentInBuilding+t.currentInEvent}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${t.currentInBuilding+t.currentInEvent<3500?"bg-green-100 text-green-800":t.currentInBuilding+t.currentInEvent<4e3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.currentInBuilding+t.currentInEvent>0?Math.round((t.currentInBuilding+t.currentInEvent)/4500*100):0,"%"]})})]})]})]})})})]}),ls=({selectedDay:t})=>{const[s,a]=l.useState([]);l.useEffect(()=>{r()},[t]);const r=async i=>{try{const c=new Date,w=new Date(c);w.setHours(0,0,0,0);const C=new Date(c);C.setHours(23,59,59,999);const{data:g,error:_}=await p.from("attendances").select("*").gte("scanned_at",w.toISOString()).lte("scanned_at",C.toISOString()).order("scanned_at",{ascending:!0});if(_)throw _;const M={};g.forEach(U=>{const o=`${new Date(U.scanned_at).getHours()}:00`;M[o]||(M[o]={entries:0,exits:0}),U.scan_type==="entry"?M[o].entries++:U.scan_type==="exit"&&M[o].exits++});const K=Object.entries(M).map(([U,q])=>({hour:U,entries:q.entries,exits:q.exits})).sort((U,q)=>U.hour.localeCompare(q.hour));a(K)}catch(c){console.error("Error fetching daily activity:",c),a([])}},n=Math.max(...s.flatMap(i=>[i.entries,i.exits]),1);return e.jsxs("div",{className:"space-y-4",children:[s.map((i,c)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:i.hour}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{className:"text-green-600",children:["Entries: ",i.entries]}),e.jsxs("span",{className:"text-red-600",children:["Exits: ",i.exits]})]})]}),e.jsxs("div",{className:"flex gap-1 h-4",children:[e.jsx("div",{className:"bg-green-500 rounded-l",style:{width:`${i.entries/n*100}%`}}),e.jsx("div",{className:"bg-red-500 rounded-r",style:{width:`${i.exits/n*100}%`}})]})]},c)),s.length===0&&e.jsx("p",{className:"text-gray-500 text-center",children:"No activity data for today"})]})},rs=({dayStats:t})=>{const s=[{label:"Total Entries",value:t.entries,color:"bg-green-500"},{label:"Total Exits",value:t.exits,color:"bg-red-500"},{label:"Building Entries",value:t.building_entries,color:"bg-blue-500"},{label:"Session Entries",value:t.session_entries,color:"bg-purple-500"}],a=Math.max(...s.map(r=>r.value),1);return e.jsx("div",{className:"space-y-3",children:s.map((r,n)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:r.label}),e.jsx("span",{className:"text-gray-500",children:r.value})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`${r.color} h-3 rounded-full`,style:{width:`${r.value/a*100}%`}})})]},n))})},ns=({selectedDay:t})=>{const[s,a]=l.useState([]);l.useEffect(()=>{r()},[t]);const r=async i=>{try{const{data:c,error:w}=await p.from("sessions").select("id, title, max_attendees, current_bookings").order("current_bookings",{ascending:!1});if(w)throw w;const C=c.map(g=>({name:g.title,attendees:g.current_bookings||0,capacity:g.max_attendees||0,popularity:g.max_attendees?(g.current_bookings||0)/g.max_attendees*100:0}));a(C)}catch(c){console.error("Error fetching session popularity:",c),a([])}},n=Math.max(...s.map(i=>i.attendees),1);return e.jsxs("div",{className:"space-y-3",children:[s.map((i,c)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 truncate flex-1 mr-2",children:i.name}),e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[i.attendees,"/",i.capacity||"∞"," (",Math.round(i.popularity),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-orange-500 h-3 rounded-full",style:{width:`${i.attendees/n*100}%`}})})]},c)),s.length===0&&e.jsx("p",{className:"text-gray-500 text-center",children:"No session data available"})]})},is=async()=>{if(ne){v(!0);try{const{error:t}=await p.from("schedule_items").delete().eq("id",ne.id);t?d("Failed to delete event","error"):(ve(!1),we(null),d("Event deleted successfully!","success"),await xe(L))}catch{d("Failed to delete event","error")}finally{v(!1)}}},ue=async()=>{try{const{data:t,error:s}=await p.from("sessions").select("*").order("start_time",{ascending:!0});!s&&t&&ft(t)}catch(t){console.error("Error fetching sessions:",t)}},xe=async t=>{try{const{data:s,error:a}=await p.from("schedule_items").select("*").order("start_time",{ascending:!0});if(!a&&s){const r=s.filter(n=>os(n.start_time)===t);vt(r)}}catch(s){console.error("Error fetching events:",s)}},os=t=>{const s=new Date(t),a=new Date,r=s.getTime()-a.getTime(),n=Math.ceil(r/(1e3*60*60*24));return Math.max(1,Math.min(5,n+1))},ge=async()=>{try{const{data:t,error:s}=await p.from("companies").select("*").order("name",{ascending:!0});!s&&t&&wt(t)}catch(t){console.error("Error fetching companies:",t)}},ds=async()=>{if(!x.name||!x.website||!x.boothNumber){d("Please fill all required fields!","error");return}if(x.logoType==="link"&&!x.logoUrl){d("Please provide a logo URL!","error");return}if(x.logoType==="upload"&&!x.logo){d("Please select a logo file to upload!","error");return}v(!0);try{let t=x.logoUrl;if(x.logoType==="upload"&&x.logo){const a=x.logo.name.split(".").pop(),n=`company-logos/${`${Date.now()}-${x.name.replace(/[^a-zA-Z0-9]/g,"_")}.${a}`}`,{data:i,error:c}=await p.storage.from("Assets").upload(n,x.logo);if(c){console.error("Upload error:",c),d("Failed to upload logo","error"),v(!1);return}const{data:w}=p.storage.from("Assets").getPublicUrl(n);t=w.publicUrl}const{error:s}=await p.from("companies").insert({name:x.name,logo_url:t,description:x.description,website:x.website,booth_number:x.boothNumber});s?d("Failed to add company","error"):(ie(!1),B({name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),d("Company added successfully!","success"),await ge())}catch{d("Failed to add company","error")}finally{v(!1)}},cs=async()=>{if(!j.title||!j.date||!j.speaker){d("Please fill all required fields!","error");return}v(!0);try{const t=new Date(`${j.date}T${j.hour}`),s=new Date(t.getTime()+2*60*60*1e3),a=parseInt(j.capacity)||null,{error:r}=await p.from("sessions").insert({title:j.title,description:j.description,speaker:j.speaker,start_time:t.toISOString(),end_time:s.toISOString(),location:j.location,capacity:a,max_attendees:a,session_type:j.type});r?d("Failed to add session","error"):(oe(!1),R({title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),d("Session added successfully!","success"),await ue())}catch{d("Failed to add session","error")}finally{v(!1)}},ms=t=>{ye(t),be(!0)},us=async()=>{if(le){v(!0);try{const{error:t}=await ks(le.id);t?d("Failed to delete company","error"):(be(!1),ye(null),d("Company deleted successfully!","success"),await ge())}catch{d("Failed to delete company","error")}finally{v(!1)}}},xs=async()=>{if(!y.title||!y.startDate||!y.startTime){d("Please fill all required fields!","error");return}v(!0);try{const t=new Date(`${y.startDate}T${y.startTime}`),s=y.endDate&&y.endTime?new Date(`${y.endDate}T${y.endTime}`):new Date(t.getTime()+2*60*60*1e3),{error:a}=await p.from("schedule_items").insert({title:y.title,description:y.description,start_time:t.toISOString(),end_time:s.toISOString(),location:y.location,item_type:y.type});a?d("Failed to add event","error"):(Ce(!1),z({title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),d("Event added successfully!","success"),await xe(L))}catch{d("Failed to add event","error")}finally{v(!1)}},gs=async t=>{Ne(t),je(!0)},hs=async t=>{we(t),ve(!0)},ps=async()=>{var t;if(!Me||!Ue||!G){d("Please fill all required fields!","error");return}if(G==="custom"&&Q.length===0){d("Please select at least one user for custom notifications!","error");return}v(!0);try{const{data:{session:s}}=await p.auth.getSession();if(!((t=s==null?void 0:s.user)!=null&&t.id)){d("User not authenticated","error"),v(!1);return}let a={title:Me,message:Ue,created_by:s.user.id};G==="all"?(a.target_type="all",a.target_role=null,a.target_user_ids=null):G==="volunteer"?(a.target_type="volunteers",a.target_role=null,a.target_user_ids=null):G==="custom"?(a.target_type="specific_users",a.target_role=null,a.target_user_ids=Q.map(n=>n.id)):(a.target_type="role",a.target_role=G,a.target_user_ids=null);const{error:r}=await p.from("notifications").insert([a]);r?(console.error("Notification error:",r),d("Failed to send announcement","error")):(d("Announcement sent successfully!","success"),He(""),We(""),Ke(""),se(),de(!1))}catch(s){console.error("Send announcement error:",s),d("Failed to send announcement","error")}finally{v(!1)}},bs=async t=>{if(!t||t.trim().length<2){J([]);return}Xe(!0);try{const{data:s,error:a}=await p.from("users_profiles").select("id, first_name, last_name, personal_id, role, email").ilike("personal_id",`%${t.trim()}%`).order("personal_id").limit(10);if(a)console.error("Search error:",a),J([]);else{const r=(s||[]).filter(n=>!Q.some(i=>i.id===n.id));J(r)}}catch(s){console.error("Search exception:",s),J([])}finally{Xe(!1)}},ys=t=>{$e(s=>[...s,t]),J(s=>s.filter(a=>a.id!==t.id)),Le("")},fs=t=>{$e(s=>s.filter(a=>a.id!==t))},se=()=>{$e([]),Le(""),J([])},js=t=>{Ge(t),ke(!0)},vs=t=>{Ee(t),De(!0)},Ns=()=>{Te(!1)},ws=()=>{Te(!1)};l.useEffect(()=>{Te(!0)},[L]);const st=()=>{const t=[];for(let s=1;s<=5;s++){const{data:a}=p.storage.from("Assets").getPublicUrl(`Maps/day${s}.png`);t.push(a.publicUrl)}_t(t)};l.useEffect(()=>{st()},[]);const Ss=async()=>{if(!D.image){d("Please select an image!","error");return}v(!0);try{const t=`Maps/day${D.day}.png`,{data:s,error:a}=await p.storage.from("Assets").upload(t,D.image,{upsert:!0});a?(console.error("Map upload error:",a),d("Failed to upload map image","error")):(d(`Day ${D.day} map updated successfully!`,"success"),st(),qe(!1),Fe({day:1,image:null}))}catch(t){console.error("Map upload exception:",t),d("Failed to update map","error")}finally{v(!1)}},_s=[{key:"dashboard",label:"Dashboard"},{key:"statistics",label:"Statistics"},{key:"sessions",label:"Sessions"},{key:"events",label:"Events"},{key:"maps",label:"Maps"},{key:"employers",label:"Employers"}];return Ot?e.jsx(at,{title:"Admin Panel",subtitle:"System administration, user management, and analytics",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})}):e.jsx(at,{title:"Admin Panel",subtitle:"System administration, user management, and analytics",children:e.jsxs("div",{className:"space-y-8",children:[ce.type&&e.jsxs("div",{className:`fixed top-4 right-4 z-[9999] flex items-center gap-2 p-4 rounded-lg shadow-lg text-white ${ce.type==="success"?"bg-green-600":"bg-red-600"}`,children:[ce.type==="success"?e.jsx(Ts,{className:"h-5 w-5"}):e.jsx(Es,{className:"h-5 w-5"}),e.jsx("span",{children:ce.message})]}),e.jsx("div",{className:"flex space-x-1 sm:space-x-4 border-b mb-6 overflow-x-auto scrollbar-hide",children:_s.map(t=>e.jsx("button",{onClick:()=>Ct(t.key),className:`py-2 px-2 sm:px-4 font-semibold text-sm sm:text-base whitespace-nowrap ${T===t.key?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-orange-600"}`,children:t.label},t.key))}),T==="dashboard"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 text-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-black-800 flex items-center justify-center gap-2 mb-6",children:[e.jsx(Ms,{className:"h-7 w-7 text-orange-500"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>ie(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors",children:[e.jsx(Oe,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Add Company"})]}),e.jsxs("button",{onClick:()=>oe(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:[e.jsx(he,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Add Session"})]}),e.jsxs("button",{onClick:()=>de(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-purple-500 text-white rounded-xl hover:bg-purple-700 transition-colors",children:[e.jsx(Ds,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Send Announcement"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(X==null?void 0:X.total_users)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"h-6 w-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attendees"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(Z==null?void 0:Z.total_attendees)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Volunteers"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:((X==null?void 0:X.total_users)||0)-((Z==null?void 0:Z.total_attendees)||0)})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"h-6 w-6 text-green-600"})})]})})]})]}),T==="statistics"&&e.jsx(es,{}),T==="sessions"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4 sm:mb-0",children:[e.jsx(he,{className:"h-5 w-5 mr-2 text-orange-600"})," Sessions Management"]}),e.jsxs("button",{onClick:()=>oe(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Add Session"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:yt.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 hover:shadow-md transition-all duration-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),t.speaker&&e.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["Speaker: ",t.speaker]}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"h-3 w-3 mr-1"}),new Date(t.start_time).toLocaleDateString()," ",new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"h-3 w-3 mr-1"}),t.location]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:t.session_type}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.current_bookings||0,"/",t.capacity||"Unlimited"]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>js(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[e.jsx(Pe,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>qt(t),className:"flex-1 bg-blue-500 text-white py-2 px-3 rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>gs(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:[e.jsx(Re,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]},t.id))})]}),T==="events"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4",children:[e.jsx(he,{className:"h-5 w-5 mr-2 text-orange-600"})," Events Management"]}),e.jsx("div",{className:"flex space-x-2 mb-4",children:[1,2,3,4,5].map(t=>e.jsxs("button",{onClick:()=>ze(t),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${L===t?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",t]},t))}),e.jsxs("button",{onClick:()=>Ce(!0),className:"w-full sm:w-auto flex items-center justify-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Add Event"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:jt.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"h-3 w-3 mr-1"}),new Date(t.start_time).toLocaleDateString()," ",new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"h-3 w-3 mr-1"}),t.location]})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:t.item_type})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Vt(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[e.jsx(Pe,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>Gt(t),className:"flex-1 bg-green-500 text-white py-2 px-3 rounded-lg hover:bg-green-600 transition-colors text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>hs(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:[e.jsx(Re,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]},t.id))})]}),T==="maps"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Event Maps"}),e.jsx("div",{className:"flex space-x-2 mb-4",children:[1,2,3,4,5].map(t=>e.jsxs("button",{onClick:()=>ze(t),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${L===t?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",t]},t))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 flex justify-center items-center min-h-[400px]",children:[Ve&&e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading map..."})]}),e.jsx("img",{src:St[L-1],alt:`Day ${L} Map`,className:`max-w-full h-auto rounded-lg transition-opacity duration-200 ${Ve?"opacity-0 absolute":"opacity-100"}`,onLoad:Ns,onError:t=>{ws(),t.target.src="/src/Assets/placeholder-map.png"}})]})]}),T==="employers"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4 sm:mb-0",children:[e.jsx(Oe,{className:"h-5 w-5 mr-2 text-orange-600"})," Employers Management"]}),e.jsxs("button",{onClick:()=>ie(!0),className:"flex items-center px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Nt.map(t=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:t.logo_url,alt:`${t.name} logo`,className:"h-16 w-auto mx-auto mb-4 object-contain",onError:s=>{s.target.src="https://via.placeholder.com/64x64/orange/white?text=Logo"}}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:t.description}),t.booth_number&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 mb-4",children:["Booth ",t.booth_number]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>vs(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[e.jsx(Pe,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>Kt(t),className:"flex-1 bg-orange-500 text-white py-2 px-3 rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>ms(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:[e.jsx(Re,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]})},t.id))})]}),kt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add New Company"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:x.name,onChange:t=>B({...x,name:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Company Name *"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo *"}),e.jsxs("div",{className:"flex space-x-4 mb-3",children:[e.jsxs("button",{type:"button",onClick:()=>B({...x,logoType:"link"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium ${x.logoType==="link"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"URL"]}),e.jsxs("button",{type:"button",onClick:()=>B({...x,logoType:"upload"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium ${x.logoType==="upload"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),x.logoType==="link"?e.jsx("input",{type:"url",value:x.logoUrl,onChange:t=>B({...x,logoUrl:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Logo URL *"}):e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return B({...x,logo:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2"})]}),e.jsx("textarea",{value:x.description,onChange:t=>B({...x,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Description",rows:3}),e.jsx("input",{type:"url",value:x.website,onChange:t=>B({...x,website:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Website *"}),e.jsx("input",{type:"text",value:x.boothNumber,onChange:t=>B({...x,boothNumber:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Booth Number *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>ie(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:ds,disabled:N,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:N?"Adding...":"Save Company"})]})]})}),Dt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add Session"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:j.title,onChange:t=>R({...j,title:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Title *"}),e.jsx("textarea",{value:j.description,onChange:t=>R({...j,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Description",rows:3}),e.jsxs("select",{value:j.type,onChange:t=>R({...j,type:t.target.value}),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"session",children:"Session"}),e.jsx("option",{value:"mentorship",children:"Mentorship"})]}),e.jsx("input",{type:"time",value:j.hour,onChange:t=>R({...j,hour:t.target.value}),className:"w-full border rounded-lg p-2"}),e.jsx("input",{type:"date",value:j.date,onChange:t=>R({...j,date:t.target.value}),className:"w-full border rounded-lg p-2"}),e.jsx("input",{type:"text",value:j.speaker,onChange:t=>R({...j,speaker:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Speaker *"}),e.jsx("input",{type:"number",value:j.capacity,onChange:t=>R({...j,capacity:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Capacity"}),e.jsx("input",{type:"text",value:j.location,onChange:t=>R({...j,location:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Location *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:cs,disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:N?"Adding...":"Save Session"})]})]})}),Et&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add Event"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:y.title,onChange:t=>z({...y,title:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Title *"}),e.jsx("textarea",{value:y.description,onChange:t=>z({...y,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Description",rows:3}),e.jsxs("select",{value:y.type,onChange:t=>z({...y,type:t.target.value}),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"networking",children:"Networking"}),e.jsx("option",{value:"keynote",children:"Keynote"}),e.jsx("option",{value:"panel",children:"Panel"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:y.startDate,onChange:t=>z({...y,startDate:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Start Date *"}),e.jsx("input",{type:"time",value:y.startTime,onChange:t=>z({...y,startTime:t.target.value}),className:"w-full border rounded-lg p-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:y.endDate,onChange:t=>z({...y,endDate:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"End Date (Optional)"}),e.jsx("input",{type:"time",value:y.endTime,onChange:t=>z({...y,endTime:t.target.value}),className:"w-full border rounded-lg p-2"})]}),e.jsx("input",{type:"text",value:y.location,onChange:t=>z({...y,location:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Location"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>Ce(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:xs,disabled:N,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:N?"Adding...":"Save Event"})]})]})}),Tt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Modify Map"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day"}),e.jsx("select",{value:D.day,onChange:t=>Fe({...D,day:parseInt(t.target.value)}),className:"w-full border rounded-lg p-2",children:[1,2,3,4,5].map(t=>e.jsxs("option",{value:t,children:["Day ",t]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload New Map Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return Fe({...D,image:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2"}),D.image&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),e.jsx("img",{src:URL.createObjectURL(D.image),alt:"Map preview",className:"max-w-full h-32 object-contain mx-auto rounded"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:[D.image.name," (",Math.round(D.image.size/1024),"KB)"]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>qe(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Ss,disabled:N||!D.image,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:N?"Uploading...":"Update Map"})]})]})}),Mt&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto relative",children:[e.jsx("button",{onClick:()=>{de(!1),se()},className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:e.jsx(ae,{className:"h-6 w-6"})}),e.jsx("h2",{className:"text-lg font-semibold text-black mb-4 text-center",children:"Send Announcement"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:Me,onChange:t=>He(t.target.value),placeholder:"Message Title",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),e.jsx("textarea",{value:Ue,onChange:t=>We(t.target.value),placeholder:"Message Description",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3}),e.jsxs("select",{value:G,onChange:t=>{Ke(t.target.value),t.target.value!=="custom"&&se()},className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[e.jsx("option",{value:"",children:"Select Target"}),e.jsx("option",{value:"all",children:"All Users"}),e.jsx("option",{value:"volunteer",children:"Volunteers"}),e.jsx("option",{value:"team_leader",children:"Team Leaders"}),e.jsx("option",{value:"admin",children:"Admins"}),e.jsx("option",{value:"attendee",children:"Attendees"}),e.jsx("option",{value:"custom",children:"Custom Selection"})]}),G==="custom"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Lt,onChange:t=>{Le(t.target.value),bs(t.target.value)},placeholder:"Search by Personal ID...",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),It&&e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})})]}),Ye.length>0&&e.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-lg",children:Ye.map(t=>e.jsx("div",{onClick:()=>ys(t),className:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",t.personal_id," | ",t.role]})]}),e.jsx(pe,{className:"h-4 w-4 text-blue-500"})]})},t.id))}),Q.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Selected Users (",Q.length,")"]}),e.jsx("button",{onClick:se,className:"text-xs text-red-500 hover:text-red-700",children:"Clear All"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg bg-gray-50",children:Q.map(t=>e.jsxs("div",{className:"p-2 flex justify-between items-center border-b last:border-b-0",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",t.personal_id]})]}),e.jsx("button",{onClick:()=>fs(t.id),className:"text-red-500 hover:text-red-700",children:e.jsx(ae,{className:"h-4 w-4"})})]},t.id))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{de(!1),se()},className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:ps,disabled:N,className:"px-4 py-2 rounded-lg bg-purple-500 text-white hover:bg-purple-600 disabled:opacity-50",children:N?"Sending...":"Send"})]})]})}),Ut&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Session Details"}),e.jsx("button",{onClick:()=>{ke(!1),Ge(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:k.description})]}),k.speaker&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Speaker"}),e.jsx("p",{className:"text-gray-900",children:k.speaker})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),e.jsxs("p",{className:"text-gray-900",children:[new Date(k.start_time).toLocaleDateString()," at"," ",new Date(k.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),k.end_time&&e.jsxs("p",{className:"text-gray-500 text-sm",children:["Ends at ",new Date(k.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:k.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:k.session_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capacity"}),e.jsxs("p",{className:"text-gray-900",children:[k.current_bookings||0," / ",k.capacity||"Unlimited"," booked"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>ke(!1),className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Close Details"})})]})]})})}),$t&&I&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Company Details"}),e.jsx("button",{onClick:()=>{De(!1),Ee(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:I.logo_url,alt:`${I.name} logo`,className:"h-24 w-auto mx-auto mb-4 object-contain",onError:t=>{t.target.src="https://via.placeholder.com/96x96/orange/white?text=Logo"}}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:I.name}),I.booth_number&&e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800 mt-2",children:[e.jsx(Be,{className:"h-4 w-4 mr-1"}),"Booth ",I.booth_number]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Company"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:I.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("a",{href:I.website,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 break-all",children:I.website})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx("button",{onClick:()=>window.open(I.website,"_blank"),className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Visit Career Page"}),e.jsx("button",{onClick:()=>{De(!1),Ee(null)},className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})]})]})]})})}),gt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Edit Session"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:f.title,onChange:t=>F({...f,title:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Title *"}),e.jsx("textarea",{value:f.description,onChange:t=>F({...f,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Description",rows:3}),e.jsxs("select",{value:f.type,onChange:t=>F({...f,type:t.target.value}),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"session",children:"Session"}),e.jsx("option",{value:"mentorship",children:"Mentorship"})]}),e.jsx("input",{type:"time",value:f.hour,onChange:t=>F({...f,hour:t.target.value}),className:"w-full border rounded-lg p-2"}),e.jsx("input",{type:"date",value:f.date,onChange:t=>F({...f,date:t.target.value}),className:"w-full border rounded-lg p-2"}),e.jsx("input",{type:"text",value:f.speaker,onChange:t=>F({...f,speaker:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Speaker *"}),e.jsx("input",{type:"number",value:f.capacity,onChange:t=>F({...f,capacity:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Capacity"}),e.jsx("input",{type:"text",value:f.location,onChange:t=>F({...f,location:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Location *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>Se(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Ht,disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:N?"Updating...":"Update Session"})]})]})}),ht&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Edit Event"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:b.title,onChange:t=>P({...b,title:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Title *"}),e.jsx("textarea",{value:b.description,onChange:t=>P({...b,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Description",rows:3}),e.jsxs("select",{value:b.type,onChange:t=>P({...b,type:t.target.value}),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"networking",children:"Networking"}),e.jsx("option",{value:"keynote",children:"Keynote"}),e.jsx("option",{value:"panel",children:"Panel"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:b.startDate,onChange:t=>P({...b,startDate:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Start Date *"}),e.jsx("input",{type:"time",value:b.startTime,onChange:t=>P({...b,startTime:t.target.value}),className:"w-full border rounded-lg p-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:b.endDate,onChange:t=>P({...b,endDate:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"End Date (Optional)"}),e.jsx("input",{type:"time",value:b.endTime,onChange:t=>P({...b,endTime:t.target.value}),className:"w-full border rounded-lg p-2"})]}),e.jsx("input",{type:"text",value:b.location,onChange:t=>P({...b,location:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Location"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>_e(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Wt,disabled:N,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:N?"Updating...":"Update Event"})]})]})}),At&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Edit Company"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:m.name,onChange:t=>A({...m,name:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Company Name *"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo *"}),e.jsxs("div",{className:"flex space-x-4 mb-3",children:[e.jsxs("button",{type:"button",onClick:()=>A({...m,logoType:"link"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium ${m.logoType==="link"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"URL"]}),e.jsxs("button",{type:"button",onClick:()=>A({...m,logoType:"upload"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium ${m.logoType==="upload"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Upload New"]})]}),m.logoType==="link"?e.jsx("input",{type:"url",value:m.logoUrl,onChange:t=>A({...m,logoUrl:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Logo URL *"}):e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return A({...m,logo:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to keep current logo"})]}),m.logoUrl&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Logo:"}),e.jsx("img",{src:m.logoUrl,alt:"Current logo",className:"h-16 w-auto object-contain",onError:t=>{t.target.src="https://via.placeholder.com/64x64/orange/white?text=Logo"}})]})]}),e.jsx("textarea",{value:m.description,onChange:t=>A({...m,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Description",rows:3}),e.jsx("input",{type:"url",value:m.website,onChange:t=>A({...m,website:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Website *"}),e.jsx("input",{type:"text",value:m.boothNumber,onChange:t=>A({...m,boothNumber:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Booth Number *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>Ie(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Zt,disabled:N,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:N?"Updating...":"Update Company"})]})]})}),Pt&&O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Event Details"}),e.jsx("button",{onClick:()=>{Ae(!1),Ze(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:O.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),e.jsxs("p",{className:"text-gray-900",children:[new Date(O.start_time).toLocaleDateString()," at"," ",new Date(O.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),O.end_time&&e.jsxs("p",{className:"text-gray-500 text-sm",children:["Ends at ",new Date(O.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:O.location||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:O.item_type})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>Ae(!1),className:"w-full bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 transition-colors font-medium",children:"Close Details"})})]})]})})}),ct&&le&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Delete Company"}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:le.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{be(!1),ye(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:us,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:N?"Deleting...":"Delete Company"})]})]})}),ut&&re&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Delete Session"}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete the session ",e.jsxs("strong",{children:['"',re.title,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{je(!1),Ne(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Jt,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:N?"Deleting...":"Delete Session"})]})]})}),xt&&ne&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Delete Event"}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete the event ",e.jsxs("strong",{children:['"',ne.title,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{ve(!1),we(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:is,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:N?"Deleting...":"Delete Event"})]})]})})]})})}export{Vs as AdminPanel,Vs as default};
