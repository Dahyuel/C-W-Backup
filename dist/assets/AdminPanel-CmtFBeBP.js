import{m as re,r,s as h,x as Ms,j as e,c as k,C as Us,A as Ls,U as se,E as qe,B as $s}from"./index-B2JZlGnH.js";import{D as nt,X as ae,B as ze,M as Is}from"./DashboardLayout-CU78zUDl.js";import{C as fe}from"./calendar-V6s6KvKX.js";import{P as ye}from"./plus-Dwn-czPL.js";import{C as it}from"./clock-CkUmMJAq.js";import{M as Ve}from"./map-pin-DyCZBSx4.js";import{A as ot}from"./activity-Cw-uUv_o.js";import"./heart-BPnXk0J8.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function Ks(){const[gt,ve]=r.useState(!1),[ie,je]=r.useState(null),[Q,xt]=r.useState({total_users:0,total_sessions:0}),[X,Ne]=r.useState({inside_building:0,inside_event:0,total_attendees:0}),[ht,we]=r.useState(!1),[bt,Se]=r.useState(!1),[oe,_e]=r.useState(null),[de,ke]=r.useState(null),[pt,Ce]=r.useState(!1),[ft,De]=r.useState(!1),[Ps,yt]=r.useState(null),[Fs,vt]=r.useState(null),[jt,Nt]=r.useState([]),[wt,St]=r.useState([]),[_t,kt]=r.useState([]),[A,He]=r.useState(1),[Ct,Dt]=r.useState([]),[U,Et]=r.useState("dashboard"),[Tt,ce]=r.useState(!1),[Mt,ue]=r.useState(!1),[Ut,Ee]=r.useState(!1),[Lt,We]=r.useState(!1),[$t,me]=r.useState(!1),[It,Te]=r.useState(!1),[At,Me]=r.useState(!1),[D,Ye]=r.useState(null),[P,Ue]=r.useState(null),[Ke,Le]=r.useState(!0),[$e,Ze]=r.useState(""),[Ie,Qe]=r.useState(""),[E,Xe]=r.useState(""),[J,Ae]=r.useState([]),[Pt,Pe]=r.useState(""),[Je,ee]=r.useState([]),[Ft,et]=r.useState(!1),[Bt,Fe]=r.useState(!1),[Bs,Rt]=r.useState(null),[Ot,Be]=r.useState(!1),[O,tt]=r.useState(null),[u,F]=r.useState({id:"",name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),[y,B]=r.useState({id:"",title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),[p,R]=r.useState({id:"",title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),[g,q]=r.useState({name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),[v,z]=r.useState({title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),[f,V]=r.useState({title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),[T,Re]=r.useState({day:1,image:null}),[N,j]=r.useState(!1),[qt,st]=r.useState(!0),[Rs,zt]=r.useState({eventGenderRatio:{male:0,female:0},eventFaculties:[],eventUniversities:[],eventDegreeLevel:{student:0,graduate:0},eventStudentGraduateRatio:{student:0,graduate:0}}),[K,le]=r.useState(""),[ge,Oe]=r.useState(null),o=(t,s="success")=>{Oe({type:s,message:t}),setTimeout(()=>Oe(null),5e3)};r.useEffect(()=>{Vt()},[]),r.useEffect(()=>{U==="events"&&be(A)},[U,A]),r.useEffect(()=>{U==="statistics"&&Gt()},[U]);const Vt=async()=>{st(!0);try{const{count:t}=await h.from("users_profiles").select("*",{count:"exact",head:!0}),{count:s}=await h.from("sessions").select("*",{count:"exact",head:!0}),{count:a}=await h.from("users_profiles").select("*",{count:"exact",head:!0}).eq("role","attendee"),{count:n}=await h.from("users_profiles").select("*",{count:"exact",head:!0}).not("role","in","('admin','attendee')");xt({total_users:t||0,total_sessions:s||0,total_attendees:a||0,total_volunteers:n||0}),await ts(),await he(),await pe()}catch(t){console.error("Error fetching dashboard data:",t)}finally{st(!1)}},Gt=async()=>{try{const{data:t,error:s}=await h.from("users_profiles").select("*").eq("event_entry",!0).eq("role","attendee");if(s)throw s;if(t&&t.length>0){const a={male:0,female:0},n={},l={},i={student:0,graduate:0},c={student:0,graduate:0};t.forEach(x=>{x.gender==="male"?a.male++:x.gender==="female"&&a.female++,x.faculty&&(n[x.faculty]=(n[x.faculty]||0)+1),x.university&&(l[x.university]=(l[x.university]||0)+1),x.degree_level==="student"?(i.student++,c.student++):x.degree_level==="graduate"&&(i.graduate++,c.graduate++)});const w=Object.entries(n).map(([x,_])=>({name:x,count:_})).sort((x,_)=>_.count-x.count).slice(0,10),C=Object.entries(l).map(([x,_])=>({name:x,count:_})).sort((x,_)=>_.count-x.count).slice(0,10);zt({eventGenderRatio:a,eventFaculties:w,eventUniversities:C,eventDegreeLevel:i,eventStudentGraduateRatio:c})}}catch(t){console.error("Error fetching enhanced statistics:",t)}},Ht=t=>{yt(t);const s=new Date(t.start_time);B({id:t.id,title:t.title||"",description:t.description||"",speaker:t.speaker||"",capacity:t.max_attendees||"",type:t.session_type||"session",date:s.toISOString().split("T")[0],hour:s.toTimeString().slice(0,5),location:t.location||""}),Ce(!0)},Wt=t=>{vt(t);const s=new Date(t.start_time),a=t.end_time?new Date(t.end_time):null;R({id:t.id,title:t.title||"",description:t.description||"",startDate:s.toISOString().split("T")[0],startTime:s.toTimeString().slice(0,5),endDate:a?a.toISOString().split("T")[0]:"",endTime:a?a.toTimeString().slice(0,5):"",location:t.location||"",type:t.item_type||"general"}),De(!0)},Yt=t=>{tt(t),Be(!0)},Kt=async()=>{if(!y.title||!y.date||!y.speaker){o("Please fill all required fields!","error");return}j(!0);try{const t=new Date(`${y.date}T${y.hour}`),s=new Date(t.getTime()+2*60*60*1e3),a=parseInt(y.capacity)||null,{error:n}=await h.from("sessions").update({title:y.title,description:y.description,speaker:y.speaker,start_time:t.toISOString(),end_time:s.toISOString(),location:y.location,capacity:a,max_attendees:a,session_type:y.type}).eq("id",y.id);n?o("Failed to update session","error"):(Ce(!1),B({id:"",title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),o("Session updated successfully!","success"),await he())}catch{o("Failed to update session","error")}finally{j(!1)}},Zt=async()=>{if(!p.title||!p.startDate||!p.startTime){o("Please fill all required fields!","error");return}j(!0);try{const t=new Date(`${p.startDate}T${p.startTime}`),s=p.endDate&&p.endTime?new Date(`${p.endDate}T${p.endTime}`):new Date(t.getTime()+2*60*60*1e3),{error:a}=await h.from("schedule_items").update({title:p.title,description:p.description,start_time:t.toISOString(),end_time:s.toISOString(),location:p.location,item_type:p.type}).eq("id",p.id);a?o("Failed to update event","error"):(De(!1),R({id:"",title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),o("Event updated successfully!","success"),await be(A))}catch{o("Failed to update event","error")}finally{j(!1)}},Qt=t=>{Rt(t),F({id:t.id,name:t.name||"",logo:null,logoUrl:t.logo_url||"",logoType:"link",description:t.description||"",website:t.website||"",boothNumber:t.booth_number||""}),Fe(!0)},H=({title:t,value:s,icon:a,color:n})=>{const l={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500",red:"bg-red-500"};return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s})]}),e.jsx("div",{className:`w-12 h-12 ${l[n]} bg-opacity-10 rounded-lg flex items-center justify-center`,children:e.jsx("div",{className:l[n].replace("bg-","text-"),children:a})})]})})},at=({data:t,title:s="Gender Distribution"})=>{const a=t.male+t.female,n=a>0?t.male/a*100:0,l=a>0?t.female/a*100:0;return e.jsxs("div",{className:"space-y-2 fade-in-blur",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:s}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:["Male: ",t.male," (",n.toFixed(1),"%)"]}),e.jsxs("span",{className:"text-pink-600 font-medium",children:["Female: ",t.female," (",l.toFixed(1),"%)"]})]}),e.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-3",children:[e.jsx("div",{className:"bg-blue-600 h-3 rounded-full",style:{width:`${n}%`}}),e.jsx("div",{className:"bg-pink-600 h-3 rounded-full -mt-3",style:{width:`${l}%`,marginLeft:`${n}%`}})]})]})},Xt=({data:t})=>{const s=Object.entries(t).sort((n,l)=>l[1]-n[1]),a=s.reduce((n,[l,i])=>n+i,0);return e.jsx("div",{className:"space-y-3 fade-in-blur",children:s.map(([n,l])=>{const i=a>0?l/a*100:0;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:n.replace("_"," ")}),e.jsxs("span",{className:"text-gray-500",children:[l," (",i.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${i}%`}})})]},n)})})},xe=({data:t,color:s,title:a})=>{const n=Math.max(...t.map(i=>i.count),1),l={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500"};return e.jsxs("div",{className:"space-y-3 fade-in-blur",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:a}),t.slice(0,8).map((i,c)=>{const w=i.count/n*100;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 truncate flex-1 mr-2",children:i.name}),e.jsx("span",{className:"text-gray-500 whitespace-nowrap",children:i.count})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`${l[s]} h-3 rounded-full`,style:{width:`${w}%`}})})]},c)})]})},Jt=({data:t})=>{const s=t.reduce((a,n)=>a+n.count,0);return e.jsx("div",{className:"space-y-3 fade-in-blur",children:t.map((a,n)=>{const l=s>0?a.count/s*100:0,i=a.name.split("_").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:i}),e.jsxs("span",{className:"text-gray-500",children:[a.count," (",l.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${l}%`}})})]},n)})})},rt=({data:t,title:s="Degree Level"})=>{const a=t.student+t.graduate,n=a>0?t.student/a*100:0,l=a>0?t.graduate/a*100:0;return e.jsxs("div",{className:"space-y-4 fade-in-blur",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:s}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-green-600 font-medium",children:["Students: ",t.student," (",n.toFixed(1),"%)"]}),e.jsxs("span",{className:"text-blue-600 font-medium",children:["Graduates: ",t.graduate," (",l.toFixed(1),"%)"]})]}),e.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-4",children:[e.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${n}%`}}),e.jsx("div",{className:"bg-blue-500 h-4 rounded-full -mt-4",style:{width:`${l}%`,marginLeft:`${n}%`}})]})]})},es=async()=>{if(!u.name||!u.website||!u.boothNumber){o("Please fill all required fields!","error");return}if(u.logoType==="link"&&!u.logoUrl){o("Please provide a logo URL!","error");return}if(u.logoType==="upload"&&!u.logo){o("Please select a logo file to upload!","error");return}j(!0);try{let t=u.logoUrl;if(u.logoType==="upload"&&u.logo){const a=u.logo.name.split(".").pop(),l=`company-logos/${`${Date.now()}-${u.name.replace(/[^a-zA-Z0-9]/g,"_")}.${a}`}`,{data:i,error:c}=await h.storage.from("Assets").upload(l,u.logo);if(c){console.error("Upload error:",c),o("Failed to upload logo","error"),j(!1);return}const{data:w}=h.storage.from("Assets").getPublicUrl(l);t=w.publicUrl}const{error:s}=await h.from("companies").update({name:u.name,logo_url:t,description:u.description,website:u.website,booth_number:u.boothNumber}).eq("id",u.id);s?o("Failed to update company","error"):(Fe(!1),F({id:"",name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),o("Company updated successfully!","success"),await pe())}catch{o("Failed to update company","error")}finally{j(!1)}},ts=async()=>{try{const{data:t,error:s}=await Ms();if(s){console.error("Error fetching dynamic building stats:",s);const{count:a}=await h.from("users_profiles").select("*",{count:"exact",head:!0}).eq("role","attendee");Ne({inside_building:0,inside_event:0,total_attendees:a||0})}else t&&Ne({inside_building:t.inside_building,inside_event:t.inside_event,total_attendees:t.total_attendees})}catch(t){console.error("Error fetching building stats:",t),Ne({inside_building:0,inside_event:0,total_attendees:0})}},ss=async()=>{if(oe){j(!0);try{const{error:t}=await h.from("sessions").delete().eq("id",oe.id);t?o("Failed to delete session","error"):(we(!1),_e(null),o("Session deleted successfully!","success"),await he())}catch{o("Failed to delete session","error")}finally{j(!1)}}},as=()=>{const[t,s]=r.useState({totalRegistrations:0,graduates:0,students:0,currentInEvent:0,currentInBuilding:0,universities:[],faculties:[],genderStats:{male:0,female:0},roleStats:{},marketingSources:[],degreeLevelStats:{student:0,graduate:0},classYearStats:{},currentGenderStats:{male:0,female:0},eventStats:{day1:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day2:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day3:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day4:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day5:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0}}}),[a,n]=r.useState(!0),[l,i]=r.useState("all"),[c,w]=r.useState("registration"),[C,x]=r.useState(1);r.useEffect(()=>{_()},[l,c,C]);const _=async()=>{n(!0);try{c==="registration"?await L():await Z()}catch(d){console.error("Error fetching statistics:",d),s(b=>({...b,eventStats:{day1:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day2:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day3:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day4:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0},day5:{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0}}}))}finally{n(!1)}},L=async()=>{let d={};if(l==="today"){const M=new Date;M.setHours(0,0,0,0),d={created_at:`gte.${M.toISOString()}`}}else if(l==="week"){const M=new Date;M.setDate(M.getDate()-7),d={created_at:`gte.${M.toISOString()}`}}let b=h.from("users_profiles").select("*");d.created_at&&(b=b.gte("created_at",d.created_at.replace("gte.","")));const{data:S,error:W}=await b;if(W)throw W;const Y=$(S||[]);s(Y)},Z=async()=>{try{const d=new Date,b=new Date(d);b.setHours(0,0,0,0);const S=new Date(d);S.setHours(23,59,59,999);const{data:W,error:Y}=await h.from("attendances").select("*").gte("scanned_at",b.toISOString()).lte("scanned_at",S.toISOString());if(Y)throw Y;const M=G(W||[]);s(te=>({...te,eventStats:{...te.eventStats,[`day${C}`]:M}}))}catch(d){throw console.error("Error fetching event stats:",d),d}},$=d=>{const b={totalRegistrations:d.length,graduates:0,students:0,currentInEvent:0,currentInBuilding:0,universities:[],faculties:[],genderStats:{male:0,female:0},roleStats:{},marketingSources:[],degreeLevelStats:{student:0,graduate:0},classYearStats:{},currentGenderStats:{male:0,female:0}},S={},W={},Y={},M={},te={};return d.forEach(m=>{m.degree_level==="graduate"?b.graduates++:m.degree_level==="student"&&b.students++,m.event_entry&&b.currentInEvent++,m.building_entry&&b.currentInBuilding++,m.gender==="male"?(b.genderStats.male++,m.event_entry&&b.currentGenderStats.male++):m.gender==="female"&&(b.genderStats.female++,m.event_entry&&b.currentGenderStats.female++),m.university&&(S[m.university]=(S[m.university]||0)+1),m.faculty&&(W[m.faculty]=(W[m.faculty]||0)+1),m.role&&(Y[m.role]=(Y[m.role]||0)+1),m.how_did_hear_about_event&&(M[m.how_did_hear_about_event]=(M[m.how_did_hear_about_event]||0)+1),m.class&&(te[m.class]=(te[m.class]||0)+1)}),b.universities=Object.entries(S).map(([m,I])=>({name:m,count:I})).sort((m,I)=>I.count-m.count).slice(0,10),b.faculties=Object.entries(W).map(([m,I])=>({name:m,count:I})).sort((m,I)=>I.count-m.count).slice(0,10),b.roleStats=Y,b.marketingSources=Object.entries(M).map(([m,I])=>({name:m,count:I})).sort((m,I)=>I.count-m.count),b.classYearStats=te,b},G=d=>({entries:d.filter(S=>S.scan_type==="entry").length,exits:d.filter(S=>S.scan_type==="exit").length,building_entries:d.filter(S=>S.scan_type==="building_entry").length,building_exits:d.filter(S=>S.scan_type==="building_exit").length,session_entries:d.filter(S=>S.scan_type==="session_entry").length,registrations:0});return a?e.jsx("div",{className:"flex items-center justify-center h-64 fade-in-blur",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-8 fade-in-blur",children:[e.jsxs("div",{className:"space-y-4 fade-in-blur",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>w("registration"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${c==="registration"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Registration"}),e.jsx("button",{onClick:()=>w("event"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${c==="event"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Event"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>i("today"),disabled:c==="event",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${l==="today"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${c==="event"?"opacity-50 cursor-not-allowed":""}`,children:"Today"}),e.jsx("button",{onClick:()=>i("week"),disabled:c==="event",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${l==="week"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${c==="event"?"opacity-50 cursor-not-allowed":""}`,children:"Last 7 Days"}),e.jsx("button",{onClick:()=>i("all"),disabled:c==="event",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${l==="all"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${c==="event"?"opacity-50 cursor-not-allowed":""}`,children:"All Time"})]}),c==="event"&&e.jsx("div",{className:"flex flex-wrap gap-2 fade-in-blur",children:[1,2,3,4,5].map(d=>e.jsxs("button",{onClick:()=>x(d),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${C===d?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",d]},d))})]}),c==="registration"?e.jsx(rs,{statsData:t}):e.jsx(ls,{statsData:t,selectedDay:C}),e.jsx(ns,{statsData:t})]})},rs=({statsData:t})=>e.jsxs("div",{className:"space-y-8 fade-in-blur",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 stagger-children",children:[e.jsx(H,{title:"Total Registrations",value:t.totalRegistrations,icon:e.jsx(se,{className:"h-6 w-6"}),color:"blue"}),e.jsx(H,{title:"Students",value:t.students,icon:e.jsx(se,{className:"h-6 w-6"}),color:"green"}),e.jsx(H,{title:"Graduates",value:t.graduates,icon:e.jsx(se,{className:"h-6 w-6"}),color:"purple"}),e.jsx(H,{title:"Currently in Event",value:t.currentInEvent,icon:e.jsx(ot,{className:"h-6 w-6"}),color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 stagger-children",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gender Distribution"}),e.jsx(at,{data:t.genderStats,title:"Total Registrations"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Role Distribution"}),e.jsx(Xt,{data:t.roleStats})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 stagger-children",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Universities"}),e.jsx(xe,{data:t.universities,color:"blue",title:""})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Faculties"}),e.jsx(xe,{data:t.faculties,color:"green",title:""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 stagger-children",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Marketing Sources"}),e.jsx(Jt,{data:t.marketingSources})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Degree Level"}),e.jsx(rt,{data:t.degreeLevelStats})]})]})]}),ls=({statsData:t,selectedDay:s})=>{var c;const[a,n]=r.useState({faculties:[],universities:[],genderStats:{male:0,female:0},degreeStats:{student:0,graduate:0}});r.useEffect(()=>{l()},[s]);const l=async()=>{try{const{data:w,error:C}=await h.from("users_profiles").select("*").eq("event_entry",!0).eq("role","attendee");if(C)throw C;if(w&&w.length>0){const x={},_={},L={male:0,female:0},Z={student:0,graduate:0};w.forEach(d=>{d.faculty&&(x[d.faculty]=(x[d.faculty]||0)+1),d.university&&(_[d.university]=(_[d.university]||0)+1),d.gender==="male"?L.male++:d.gender==="female"&&L.female++,d.degree_level==="student"?Z.student++:d.degree_level==="graduate"&&Z.graduate++});const $=Object.entries(x).map(([d,b])=>({name:d,count:b})).sort((d,b)=>b.count-d.count).slice(0,10),G=Object.entries(_).map(([d,b])=>({name:d,count:b})).sort((d,b)=>b.count-d.count).slice(0,10);n({faculties:$,universities:G,genderStats:L,degreeStats:Z})}}catch(w){console.error("Error fetching event analytics:",w)}},i=((c=t==null?void 0:t.eventStats)==null?void 0:c[`day${s}`])||{entries:0,exits:0,building_entries:0,building_exits:0,session_entries:0,registrations:0};return e.jsxs("div",{className:"space-y-8 fade-in-blur",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 stagger-children",children:[e.jsx(H,{title:`Day ${s} Entries`,value:i.entries,icon:e.jsx(ut,{className:"h-6 w-6"}),color:"green"}),e.jsx(H,{title:`Day ${s} Exits`,value:i.exits,icon:e.jsx(ut,{className:"h-6 w-6"}),color:"red"}),e.jsx(H,{title:"Building Entries",value:i.building_entries,icon:e.jsx(ze,{className:"h-6 w-6"}),color:"blue"}),e.jsx(H,{title:"Session Entries",value:i.session_entries,icon:e.jsx(fe,{className:"h-6 w-6"}),color:"purple"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inside Event Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(at,{data:a.genderStats,title:"Gender Distribution Inside Event"})}),e.jsx("div",{children:e.jsx(rt,{data:a.degreeStats,title:"Student/Graduate Ratio Inside Event"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 stagger-children",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(dt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Top Faculties Inside Event"]}),e.jsx(xe,{data:a.faculties,color:"blue",title:""})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(dt,{className:"h-5 w-5 mr-2 text-green-600"}),"Top Universities Inside Event"]}),e.jsx(xe,{data:a.universities,color:"green",title:""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 stagger-children",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily Activity"}),e.jsx(is,{selectedDay:s})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Attendance Flow"}),e.jsx(os,{dayStats:i})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Popularity"}),e.jsx(ds,{selectedDay:s})]})]})},ns=({statsData:t})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden fade-in-blur card-hover dashboard-card",children:[e.jsx("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gray-50",children:e.jsxs("h2",{className:"text-3xl font-bold text-black-800 flex items-center gap-2 mx-auto",children:[e.jsx(ot,{className:"h-7 w-7 text-orange-500"}),"Current State"]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-lg font-bold text-left border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-800 text-xl font-extrabold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Site"}),e.jsx("th",{className:"px-4 py-3",children:"Maximum Capacity"}),e.jsx("th",{className:"px-4 py-3",children:"Current Capacity"}),e.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Building"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"500"}),e.jsx("td",{className:"px-4 py-3",children:t.currentInBuilding}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${t.currentInBuilding<400?"bg-green-100 text-green-800":t.currentInBuilding<450?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.currentInBuilding>0?Math.round(t.currentInBuilding/500*100):0,"%"]})})]}),e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Event"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"4000"}),e.jsx("td",{className:"px-4 py-3",children:t.currentInEvent}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${t.currentInEvent<3e3?"bg-green-100 text-green-800":t.currentInEvent<3500?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.currentInEvent>0?Math.round(t.currentInEvent/4e3*100):0,"%"]})})]}),e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Total Capacity"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"4500"}),e.jsx("td",{className:"px-4 py-3",children:t.currentInBuilding+t.currentInEvent}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${t.currentInBuilding+t.currentInEvent<3500?"bg-green-100 text-green-800":t.currentInBuilding+t.currentInEvent<4e3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.currentInBuilding+t.currentInEvent>0?Math.round((t.currentInBuilding+t.currentInEvent)/4500*100):0,"%"]})})]})]})]})})})]}),is=({selectedDay:t})=>{const[s,a]=r.useState([]);r.useEffect(()=>{n()},[t]);const n=async i=>{try{const c=new Date,w=new Date(c);w.setHours(0,0,0,0);const C=new Date(c);C.setHours(23,59,59,999);const{data:x,error:_}=await h.from("attendances").select("*").gte("scanned_at",w.toISOString()).lte("scanned_at",C.toISOString()).order("scanned_at",{ascending:!0});if(_)throw _;const L={};x.forEach($=>{const d=`${new Date($.scanned_at).getHours()}:00`;L[d]||(L[d]={entries:0,exits:0}),$.scan_type==="entry"?L[d].entries++:$.scan_type==="exit"&&L[d].exits++});const Z=Object.entries(L).map(([$,G])=>({hour:$,entries:G.entries,exits:G.exits})).sort(($,G)=>$.hour.localeCompare(G.hour));a(Z)}catch(c){console.error("Error fetching daily activity:",c),a([])}},l=Math.max(...s.flatMap(i=>[i.entries,i.exits]),1);return e.jsxs("div",{className:"space-y-4 fade-in-blur",children:[s.map((i,c)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:i.hour}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{className:"text-green-600",children:["Entries: ",i.entries]}),e.jsxs("span",{className:"text-red-600",children:["Exits: ",i.exits]})]})]}),e.jsxs("div",{className:"flex gap-1 h-4",children:[e.jsx("div",{className:"bg-green-500 rounded-l",style:{width:`${i.entries/l*100}%`}}),e.jsx("div",{className:"bg-red-500 rounded-r",style:{width:`${i.exits/l*100}%`}})]})]},c)),s.length===0&&e.jsx("p",{className:"text-gray-500 text-center",children:"No activity data for today"})]})},os=({dayStats:t})=>{const s=[{label:"Total Entries",value:t.entries,color:"bg-green-500"},{label:"Total Exits",value:t.exits,color:"bg-red-500"},{label:"Building Entries",value:t.building_entries,color:"bg-blue-500"},{label:"Session Entries",value:t.session_entries,color:"bg-purple-500"}],a=Math.max(...s.map(n=>n.value),1);return e.jsx("div",{className:"space-y-3 fade-in-blur",children:s.map((n,l)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:n.label}),e.jsx("span",{className:"text-gray-500",children:n.value})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`${n.color} h-3 rounded-full`,style:{width:`${n.value/a*100}%`}})})]},l))})},ds=({selectedDay:t})=>{const[s,a]=r.useState([]);r.useEffect(()=>{n()},[t]);const n=async i=>{try{const{data:c,error:w}=await h.from("sessions").select("id, title, max_attendees, current_bookings").order("current_bookings",{ascending:!1});if(w)throw w;const C=c.map(x=>({name:x.title,attendees:x.current_bookings||0,capacity:x.max_attendees||0,popularity:x.max_attendees?(x.current_bookings||0)/x.max_attendees*100:0}));a(C)}catch(c){console.error("Error fetching session popularity:",c),a([])}},l=Math.max(...s.map(i=>i.attendees),1);return e.jsxs("div",{className:"space-y-3 fade-in-blur",children:[s.map((i,c)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 truncate flex-1 mr-2",children:i.name}),e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[i.attendees,"/",i.capacity||"∞"," (",Math.round(i.popularity),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-orange-500 h-3 rounded-full",style:{width:`${i.attendees/l*100}%`}})})]},c)),s.length===0&&e.jsx("p",{className:"text-gray-500 text-center",children:"No session data available"})]})},cs=async()=>{if(de){j(!0);try{const{error:t}=await h.from("schedule_items").delete().eq("id",de.id);t?o("Failed to delete event","error"):(Se(!1),ke(null),o("Event deleted successfully!","success"),await be(A))}catch{o("Failed to delete event","error")}finally{j(!1)}}},he=async()=>{try{const{data:t,error:s}=await h.from("sessions").select("*").order("start_time",{ascending:!0});!s&&t&&Nt(t)}catch(t){console.error("Error fetching sessions:",t)}},be=async t=>{try{const{data:s,error:a}=await h.from("schedule_items").select("*").order("start_time",{ascending:!0});if(!a&&s){const n=s.filter(l=>us(l.start_time)===t);St(n)}}catch(s){console.error("Error fetching events:",s)}},us=t=>{const s=new Date(t),a=new Date,n=s.getTime()-a.getTime(),l=Math.ceil(n/(1e3*60*60*24));return Math.max(1,Math.min(5,l+1))},pe=async()=>{try{const{data:t,error:s}=await h.from("companies").select("*").order("name",{ascending:!0});!s&&t&&kt(t)}catch(t){console.error("Error fetching companies:",t)}},ms=async()=>{if(!g.name||!g.website||!g.boothNumber){o("Please fill all required fields!","error");return}if(g.logoType==="link"&&!g.logoUrl){o("Please provide a logo URL!","error");return}if(g.logoType==="upload"&&!g.logo){o("Please select a logo file to upload!","error");return}j(!0);try{let t=g.logoUrl;if(g.logoType==="upload"&&g.logo){const a=g.logo.name.split(".").pop(),l=`company-logos/${`${Date.now()}-${g.name.replace(/[^a-zA-Z0-9]/g,"_")}.${a}`}`,{data:i,error:c}=await h.storage.from("Assets").upload(l,g.logo);if(c){console.error("Upload error:",c),o("Failed to upload logo","error"),j(!1);return}const{data:w}=h.storage.from("Assets").getPublicUrl(l);t=w.publicUrl}const{error:s}=await h.from("companies").insert({name:g.name,logo_url:t,description:g.description,website:g.website,booth_number:g.boothNumber});s?o("Failed to add company","error"):(ce(!1),q({name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),o("Company added successfully!","success"),await pe())}catch{o("Failed to add company","error")}finally{j(!1)}},gs=async()=>{if(!v.title||!v.date||!v.speaker){o("Please fill all required fields!","error");return}j(!0);try{const t=new Date(`${v.date}T${v.hour}`),s=new Date(t.getTime()+2*60*60*1e3),a=parseInt(v.capacity)||null,{error:n}=await h.from("sessions").insert({title:v.title,description:v.description,speaker:v.speaker,start_time:t.toISOString(),end_time:s.toISOString(),location:v.location,capacity:a,max_attendees:a,session_type:v.type});n?o("Failed to add session","error"):(ue(!1),z({title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),o("Session added successfully!","success"),await he())}catch{o("Failed to add session","error")}finally{j(!1)}},xs=t=>{je(t),ve(!0)},hs=async()=>{if(ie){j(!0);try{const{error:t}=await $s(ie.id);t?o("Failed to delete company","error"):(ve(!1),je(null),o("Company deleted successfully!","success"),await pe())}catch{o("Failed to delete company","error")}finally{j(!1)}}},bs=async()=>{if(!f.title||!f.startDate||!f.startTime){o("Please fill all required fields!","error");return}j(!0);try{const t=new Date(`${f.startDate}T${f.startTime}`),s=f.endDate&&f.endTime?new Date(`${f.endDate}T${f.endTime}`):new Date(t.getTime()+2*60*60*1e3),{error:a}=await h.from("schedule_items").insert({title:f.title,description:f.description,start_time:t.toISOString(),end_time:s.toISOString(),location:f.location,item_type:f.type});a?o("Failed to add event","error"):(Ee(!1),V({title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),o("Event added successfully!","success"),await be(A))}catch{o("Failed to add event","error")}finally{j(!1)}},ps=async t=>{_e(t),we(!0)},fs=async t=>{ke(t),Se(!0)},ys=()=>[{value:"",label:"Select Target"},{value:"all",label:"All Users"},{value:"volunteer",label:"Volunteers (All except Admin/Team Leader/Attendee)"},{value:"team_leader",label:"Team Leaders"},{value:"admin",label:"Admins"},{value:"attendee",label:"Attendees"},{value:"registration",label:"Registration Team"},{value:"building",label:"Building Team"},{value:"info_desk",label:"Info Desk"},{value:"ushers",label:"Ushers"},{value:"marketing",label:"Marketing"},{value:"media",label:"Media"},{value:"ER",label:"ER Team"},{value:"BD",label:"Business Development"},{value:"catering",label:"Catering"},{value:"feedback",label:"Feedback Team"},{value:"stage",label:"Stage Team"},{value:"custom",label:"Custom Selection"}],vs=()=>[{value:"all",label:"All Team Leaders"},{value:"registration",label:"Registration Team Leaders"},{value:"building",label:"Building Team Leaders"},{value:"info_desk",label:"Info Desk Team Leaders"},{value:"ushers",label:"Ushers Team Leaders"},{value:"marketing",label:"Marketing Team Leaders"},{value:"media",label:"Media Team Leaders"},{value:"ER",label:"ER Team Leaders"},{value:"BD",label:"Business Development Team Leaders"},{value:"catering",label:"Catering Team Leaders"},{value:"feedback",label:"Feedback Team Leaders"},{value:"stage",label:"Stage Team Leaders"}],js=async t=>{if(!t||t.trim().length<2){ee([]);return}et(!0);try{const{data:s,error:a}=await h.from("users_profiles").select("id, first_name, last_name, personal_id, role, email, volunteer_id").or(`personal_id.ilike.%${t.trim()}%,volunteer_id.ilike.%${t.trim()}%`).order("personal_id").limit(10);if(a)console.error("Search error:",a),ee([]);else{const n=(s||[]).filter(l=>!J.some(i=>i.id===l.id));ee(n)}}catch(s){console.error("Search exception:",s),ee([])}finally{et(!1)}},Ns=t=>{Ae(s=>[...s,t]),ee(s=>s.filter(a=>a.id!==t.id)),Pe("")},ws=t=>{Ae(s=>s.filter(a=>a.id!==t))},ne=()=>{Ae([]),Pe(""),ee([])},Ss=async()=>{var t;if(!$e||!Ie||!E){o("Please fill all required fields!","error");return}if(E==="team_leader"&&!K){o("Please select which team leaders to target!","error");return}if(E==="custom"&&J.length===0){o("Please select at least one user for custom notifications!","error");return}j(!0);try{const{data:{session:s}}=await h.auth.getSession();if(!((t=s==null?void 0:s.user)!=null&&t.id)){o("User not authenticated","error"),j(!1);return}let a={title:$e,message:Ie,created_by:s.user.id};if(E==="all")a.target_type="all",a.target_role=null,a.target_user_ids=null;else if(E==="volunteer")a.target_type="volunteers",a.target_role=null,a.target_user_ids=null;else if(E==="team_leader")if(K==="all"){const{data:l,error:i}=await h.from("users_profiles").select("id").eq("role","team_leader");if(i)throw i;a.target_type="specific_users",a.target_role=null,a.target_user_ids=(l==null?void 0:l.map(c=>c.id))||[]}else{const{data:l,error:i}=await h.from("users_profiles").select("id").eq("role","team_leader").eq("tl_team",K);if(i)throw i;a.target_type="specific_users",a.target_role=null,a.target_user_ids=(l==null?void 0:l.map(c=>c.id))||[]}else E==="custom"?(a.target_type="specific_users",a.target_role=null,a.target_user_ids=J.map(l=>l.id)):(a.target_type="role",a.target_role=E,a.target_user_ids=null);const{error:n}=await h.from("notifications").insert([a]);n?(console.error("Notification error:",n),o("Failed to send announcement","error")):(o("Announcement sent successfully!","success"),Ze(""),Qe(""),Xe(""),le(""),ne(),me(!1))}catch(s){console.error("Send announcement error:",s),o("Failed to send announcement","error")}finally{j(!1)}},_s=t=>{Ye(t),Te(!0)},ks=t=>{Ue(t),Me(!0)},Cs=()=>{Le(!1)},Ds=()=>{Le(!1)};r.useEffect(()=>{Le(!0)},[A]);const lt=()=>{const t=[];for(let s=1;s<=5;s++){const{data:a}=h.storage.from("Assets").getPublicUrl(`Maps/day${s}.png`);t.push(a.publicUrl)}Dt(t)};r.useEffect(()=>{lt()},[]);const Es=async()=>{if(!T.image){o("Please select an image!","error");return}j(!0);try{const t=`Maps/day${T.day}.png`,{data:s,error:a}=await h.storage.from("Assets").upload(t,T.image,{upsert:!0});a?(console.error("Map upload error:",a),o("Failed to upload map image","error")):(o(`Day ${T.day} map updated successfully!`,"success"),lt(),We(!1),Re({day:1,image:null}))}catch(t){console.error("Map upload exception:",t),o("Failed to update map","error")}finally{j(!1)}},Ts=[{key:"dashboard",label:"Dashboard"},{key:"statistics",label:"Statistics"},{key:"sessions",label:"Sessions"},{key:"events",label:"Events"},{key:"maps",label:"Maps"},{key:"employers",label:"Employers"}];return qt?e.jsx(nt,{title:"Admin Panel",subtitle:"System administration, user management, and analytics",children:e.jsx("div",{className:"flex items-center justify-center h-64 fade-in-blur",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})}):e.jsxs(nt,{title:"Admin Panel",subtitle:"System administration, user management, and analytics",children:[e.jsxs("div",{className:"space-y-8 fade-in-up-blur",children:[ge&&k.createPortal(e.jsxs("div",{className:`fixed top-4 right-4 z-[200] flex items-center space-x-2 px-4 py-3 rounded-lg shadow-lg fade-in-blur ${ge.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[ge.type==="success"?e.jsx(Us,{className:"h-5 w-5"}):e.jsx(Ls,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:ge.message}),e.jsx("button",{onClick:()=>Oe(null),className:"ml-2 hover:bg-black hover:bg-opacity-20 rounded p-1 transition-colors",children:e.jsx(ae,{className:"h-4 w-4"})})]}),document.body),e.jsx("div",{className:"flex space-x-1 sm:space-x-4 border-b mb-6 overflow-x-auto scrollbar-hide fade-in-blur",children:Ts.map(t=>e.jsx("button",{onClick:()=>Et(t.key),className:`py-2 px-2 sm:px-4 font-semibold text-sm sm:text-base whitespace-nowrap transition-all duration-300 smooth-hover ${U===t.key?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-orange-600"}`,children:t.label},t.key))}),U==="dashboard"&&e.jsxs("div",{className:"space-y-8 fade-in-blur",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 text-center fade-in-blur card-hover dashboard-card",children:[e.jsxs("h1",{className:"text-3xl font-bold text-black-800 flex items-center justify-center gap-2 mb-6",children:[e.jsx(As,{className:"h-7 w-7 text-orange-500"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 stagger-children",children:[e.jsxs("button",{onClick:()=>ce(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all duration-300 smooth-hover",children:[e.jsx(ze,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Add Company"})]}),e.jsxs("button",{onClick:()=>ue(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300 smooth-hover",children:[e.jsx(fe,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Add Session"})]}),e.jsxs("button",{onClick:()=>me(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-purple-500 text-white rounded-xl hover:bg-purple-700 transition-all duration-300 smooth-hover",children:[e.jsx(Is,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Send Announcement"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 stagger-children",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(Q==null?void 0:Q.total_users)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"h-6 w-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attendees"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(X==null?void 0:X.total_attendees)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover dashboard-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Volunteers"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:((Q==null?void 0:Q.total_users)||0)-((X==null?void 0:X.total_attendees)||0)})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"h-6 w-6 text-green-600"})})]})})]})]}),U==="statistics"&&e.jsx(as,{}),U==="sessions"&&e.jsxs("div",{className:"fade-in-blur",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4 sm:mb-0 fade-in-blur",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 text-orange-600"})," Sessions Management"]}),e.jsxs("button",{onClick:()=>ue(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-300 smooth-hover fade-in-blur",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Add Session"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 stagger-children",children:jt.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 hover:shadow-md transition-all duration-300 smooth-hover card-hover fade-in-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),t.speaker&&e.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["Speaker: ",t.speaker]}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:"h-3 w-3 mr-1"}),new Date(t.start_time).toLocaleDateString()," ",new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ve,{className:"h-3 w-3 mr-1"}),t.location]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:t.session_type}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.current_bookings||0,"/",t.capacity||"Unlimited"]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>_s(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-all duration-300 smooth-hover text-sm font-medium",children:[e.jsx(qe,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>Ht(t),className:"flex-1 bg-blue-500 text-white py-2 px-3 rounded-lg hover:bg-blue-600 transition-all duration-300 smooth-hover text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>ps(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-all duration-300 smooth-hover text-sm font-medium",children:[e.jsx(Ge,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]},t.id))})]}),U==="events"&&e.jsxs("div",{className:"fade-in-blur",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4 fade-in-blur",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 text-orange-600"})," Events Management"]}),e.jsx("div",{className:"flex space-x-2 mb-4 fade-in-blur",children:[1,2,3,4,5].map(t=>e.jsxs("button",{onClick:()=>He(t),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${A===t?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",t]},t))}),e.jsxs("button",{onClick:()=>Ee(!0),className:"w-full sm:w-auto flex items-center justify-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-300 smooth-hover fade-in-blur",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Add Event"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 stagger-children",children:wt.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 fade-in-blur card-hover smooth-hover",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:"h-3 w-3 mr-1"}),new Date(t.start_time).toLocaleDateString()," ",new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ve,{className:"h-3 w-3 mr-1"}),t.location]})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:t.item_type})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Yt(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-all duration-300 smooth-hover text-sm font-medium",children:[e.jsx(qe,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>Wt(t),className:"flex-1 bg-green-500 text-white py-2 px-3 rounded-lg hover:bg-green-600 transition-all duration-300 smooth-hover text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>fs(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-all duration-300 smooth-hover text-sm font-medium",children:[e.jsx(Ge,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]},t.id))})]}),U==="maps"&&e.jsxs("div",{className:"fade-in-blur",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 fade-in-blur",children:"Event Maps"}),e.jsx("div",{className:"flex space-x-2 mb-4 fade-in-blur",children:[1,2,3,4,5].map(t=>e.jsxs("button",{onClick:()=>He(t),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${A===t?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",t]},t))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 flex justify-center items-center min-h-[400px] fade-in-blur card-hover",children:[Ke&&e.jsxs("div",{className:"flex flex-col items-center justify-center fade-in-blur",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading map..."})]}),e.jsx("img",{src:Ct[A-1],alt:`Day ${A} Map`,className:`max-w-full h-auto rounded-lg transition-opacity duration-200 ${Ke?"opacity-0 absolute":"opacity-100"}`,onLoad:Cs,onError:t=>{Ds(),t.target.src="/src/Assets/placeholder-map.png"}})]})]}),U==="employers"&&e.jsxs("div",{className:"fade-in-blur",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4 sm:mb-0 fade-in-blur",children:[e.jsx(ze,{className:"h-5 w-5 mr-2 text-orange-600"})," Employers Management"]}),e.jsxs("button",{onClick:()=>ce(!0),className:"flex items-center px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-all duration-300 smooth-hover fade-in-blur",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 stagger-children",children:_t.map(t=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 hover:shadow-md transition-all duration-300 smooth-hover card-hover fade-in-blur",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:t.logo_url,alt:`${t.name} logo`,className:"h-16 w-auto mx-auto mb-4 object-contain",onError:s=>{s.target.src="https://via.placeholder.com/64x64/orange/white?text=Logo"}}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:t.description}),t.booth_number&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 mb-4",children:["Booth ",t.booth_number]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>ks(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-all duration-300 smooth-hover text-sm font-medium",children:[e.jsx(qe,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>Qt(t),className:"flex-1 bg-orange-500 text-white py-2 px-3 rounded-lg hover:bg-orange-600 transition-all duration-300 smooth-hover text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>xs(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-all duration-300 smooth-hover text-sm font-medium",children:[e.jsx(Ge,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]})},t.id))})]}),Tt&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 fade-in-blur",children:"Add New Company"}),e.jsxs("div",{className:"space-y-4 stagger-children",children:[e.jsx("input",{type:"text",value:g.name,onChange:t=>q({...g,name:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Company Name *"}),e.jsxs("div",{className:"fade-in-blur",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo *"}),e.jsxs("div",{className:"flex space-x-4 mb-3",children:[e.jsxs("button",{type:"button",onClick:()=>q({...g,logoType:"link"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${g.logoType==="link"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(ct,{className:"h-4 w-4 mr-2"}),"URL"]}),e.jsxs("button",{type:"button",onClick:()=>q({...g,logoType:"upload"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${g.logoType==="upload"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),g.logoType==="link"?e.jsx("input",{type:"url",value:g.logoUrl,onChange:t=>q({...g,logoUrl:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Logo URL *"}):e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return q({...g,logo:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300"})]}),e.jsx("textarea",{value:g.description,onChange:t=>q({...g,description:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Description",rows:3}),e.jsx("input",{type:"url",value:g.website,onChange:t=>q({...g,website:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Website *"}),e.jsx("input",{type:"text",value:g.boothNumber,onChange:t=>q({...g,boothNumber:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Booth Number *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 fade-in-blur",children:[e.jsx("button",{onClick:()=>ce(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:ms,disabled:N,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Adding...":"Save Company"})]})]})}),document.body),Mt&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 fade-in-blur",children:"Add Session"}),e.jsxs("div",{className:"space-y-4 stagger-children",children:[e.jsx("input",{type:"text",value:v.title,onChange:t=>z({...v,title:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Session Title *"}),e.jsx("textarea",{value:v.description,onChange:t=>z({...v,description:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Session Description",rows:3}),e.jsxs("select",{value:v.type,onChange:t=>z({...v,type:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",children:[e.jsx("option",{value:"session",children:"Session"}),e.jsx("option",{value:"mentorship",children:"Mentorship"})]}),e.jsx("input",{type:"time",value:v.hour,onChange:t=>z({...v,hour:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"}),e.jsx("input",{type:"date",value:v.date,onChange:t=>z({...v,date:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"}),e.jsx("input",{type:"text",value:v.speaker,onChange:t=>z({...v,speaker:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Speaker *"}),e.jsx("input",{type:"number",value:v.capacity,onChange:t=>z({...v,capacity:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Capacity"}),e.jsx("input",{type:"text",value:v.location,onChange:t=>z({...v,location:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Session Location *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 fade-in-blur",children:[e.jsx("button",{onClick:()=>ue(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:gs,disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Adding...":"Save Session"})]})]})}),document.body),Ut&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 fade-in-blur",children:"Add Event"}),e.jsxs("div",{className:"space-y-4 stagger-children",children:[e.jsx("input",{type:"text",value:f.title,onChange:t=>V({...f,title:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Event Title *"}),e.jsx("textarea",{value:f.description,onChange:t=>V({...f,description:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Event Description",rows:3}),e.jsxs("select",{value:f.type,onChange:t=>V({...f,type:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"networking",children:"Networking"}),e.jsx("option",{value:"keynote",children:"Keynote"}),e.jsx("option",{value:"panel",children:"Panel"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 fade-in-blur",children:[e.jsx("input",{type:"date",value:f.startDate,onChange:t=>V({...f,startDate:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Start Date *"}),e.jsx("input",{type:"time",value:f.startTime,onChange:t=>V({...f,startTime:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 fade-in-blur",children:[e.jsx("input",{type:"date",value:f.endDate,onChange:t=>V({...f,endDate:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"End Date (Optional)"}),e.jsx("input",{type:"time",value:f.endTime,onChange:t=>V({...f,endTime:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300"})]}),e.jsx("input",{type:"text",value:f.location,onChange:t=>V({...f,location:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Event Location"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 fade-in-blur",children:[e.jsx("button",{onClick:()=>Ee(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:bs,disabled:N,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Adding...":"Save Event"})]})]})}),document.body),Lt&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 fade-in-blur",children:"Modify Map"}),e.jsxs("div",{className:"space-y-4 stagger-children",children:[e.jsxs("div",{className:"fade-in-blur",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day"}),e.jsx("select",{value:T.day,onChange:t=>Re({...T,day:parseInt(t.target.value)}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300",children:[1,2,3,4,5].map(t=>e.jsxs("option",{value:t,children:["Day ",t]},t))})]}),e.jsxs("div",{className:"fade-in-blur",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload New Map Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return Re({...T,image:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300"}),T.image&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg fade-in-blur",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),e.jsx("img",{src:URL.createObjectURL(T.image),alt:"Map preview",className:"max-w-full h-32 object-contain mx-auto rounded"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:[T.image.name," (",Math.round(T.image.size/1024),"KB)"]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 fade-in-blur",children:[e.jsx("button",{onClick:()=>We(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:Es,disabled:N||!T.image,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Uploading...":"Update Map"})]})]})}),document.body),$t&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 fade-in-blur",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Send Announcement"}),e.jsx("button",{onClick:()=>{me(!1),ne(),le("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4 stagger-children",children:[e.jsx("div",{className:"fade-in-blur",children:e.jsx("input",{type:"text",value:$e,onChange:t=>Ze(t.target.value),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300",placeholder:"Message Title *"})}),e.jsx("div",{className:"fade-in-blur",children:e.jsx("textarea",{value:Ie,onChange:t=>Qe(t.target.value),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300",placeholder:"Message Description *",rows:3})}),e.jsx("div",{className:"fade-in-blur",children:e.jsx("select",{value:E,onChange:t=>{Xe(t.target.value),le(""),t.target.value!=="custom"&&ne()},className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300",children:ys().map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})}),E==="team_leader"&&e.jsxs("div",{className:"space-y-2 fade-in-blur",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Leader Of"}),e.jsxs("select",{value:K,onChange:t=>le(t.target.value),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",children:[e.jsx("option",{value:"",children:"Select which team leaders..."}),vs().map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),e.jsx("p",{className:"text-xs text-gray-500",children:K==="all"?"Will send to all team leaders regardless of their assigned team":`Will send only to team leaders of ${K} team`})]}),E==="custom"&&e.jsxs("div",{className:"space-y-3 fade-in-blur",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Pt,onChange:t=>{Pe(t.target.value),js(t.target.value)},placeholder:"Search by Personal ID or Volunteer ID...",className:"w-full border rounded-lg p-2 pr-10 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"}),Ft&&e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})})]}),Je.length>0&&e.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-lg fade-in-blur",children:Je.map(t=>{var s;return e.jsx("div",{onClick:()=>Ns(t),className:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0 transition-all duration-300 smooth-hover",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.volunteer_id?`Vol ID: ${t.volunteer_id} | `:"","Personal ID: ",t.personal_id]}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:((s=t.role)==null?void 0:s.replace("_"," "))||"No role"})]}),e.jsx(ye,{className:"h-4 w-4 text-blue-500"})]})},t.id)})}),J.length>0&&e.jsxs("div",{className:"fade-in-blur",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Selected Users (",J.length,")"]}),e.jsx("button",{onClick:ne,className:"text-xs text-red-500 hover:text-red-700 transition-colors",children:"Clear All"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg bg-gray-50",children:J.map(t=>e.jsxs("div",{className:"p-2 flex justify-between items-center border-b last:border-b-0",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",t.personal_id," | ",t.role]})]}),e.jsx("button",{onClick:()=>ws(t.id),className:"text-red-500 hover:text-red-700 transition-colors",children:e.jsx(ae,{className:"h-4 w-4"})})]},t.id))})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 fade-in-blur",children:[e.jsx("button",{onClick:()=>{me(!1),ne(),le("")},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:Ss,disabled:N||E==="team_leader"&&!K,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Sending...":"Send Announcement"})]})]})}),document.body),It&&D&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:e.jsxs("div",{className:"p-6 stagger-children",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 fade-in-blur",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Session Details"}),e.jsx("button",{onClick:()=>{Te(!1),Ye(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6 fade-in-blur",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:D.description})]}),D.speaker&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Speaker"}),e.jsx("p",{className:"text-gray-900",children:D.speaker})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),e.jsxs("p",{className:"text-gray-900",children:[new Date(D.start_time).toLocaleDateString()," at"," ",new Date(D.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),D.end_time&&e.jsxs("p",{className:"text-gray-500 text-sm",children:["Ends at ",new Date(D.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:D.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:D.session_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capacity"}),e.jsxs("p",{className:"text-gray-900",children:[D.current_bookings||0," / ",D.capacity||"Unlimited"," booked"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 fade-in-blur",children:e.jsx("button",{onClick:()=>Te(!1),className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-all duration-300 smooth-hover font-medium",children:"Close Details"})})]})]})})}),document.body),At&&P&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:e.jsxs("div",{className:"p-6 stagger-children",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 fade-in-blur",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Company Details"}),e.jsx("button",{onClick:()=>{Me(!1),Ue(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6 fade-in-blur",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:P.logo_url,alt:`${P.name} logo`,className:"h-24 w-auto mx-auto mb-4 object-contain",onError:t=>{t.target.src="https://via.placeholder.com/96x96/orange/white?text=Logo"}}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:P.name}),P.booth_number&&e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800 mt-2",children:[e.jsx(Ve,{className:"h-4 w-4 mr-1"}),"Booth ",P.booth_number]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Company"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:P.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("a",{href:P.website,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 break-all transition-colors",children:P.website})]}),e.jsxs("div",{className:"pt-4 space-y-3 fade-in-blur",children:[e.jsx("button",{onClick:()=>window.open(P.website,"_blank"),className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-all duration-300 smooth-hover font-medium",children:"Visit Career Page"}),e.jsx("button",{onClick:()=>{Me(!1),Ue(null)},className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-all duration-300 smooth-hover font-medium",children:"Close"})]})]})]})})}),document.body),pt&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 fade-in-blur",children:"Edit Session"}),e.jsxs("div",{className:"space-y-4 stagger-children",children:[e.jsx("input",{type:"text",value:y.title,onChange:t=>B({...y,title:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Session Title *"}),e.jsx("textarea",{value:y.description,onChange:t=>B({...y,description:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Session Description",rows:3}),e.jsxs("select",{value:y.type,onChange:t=>B({...y,type:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",children:[e.jsx("option",{value:"session",children:"Session"}),e.jsx("option",{value:"mentorship",children:"Mentorship"})]}),e.jsx("input",{type:"time",value:y.hour,onChange:t=>B({...y,hour:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"}),e.jsx("input",{type:"date",value:y.date,onChange:t=>B({...y,date:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"}),e.jsx("input",{type:"text",value:y.speaker,onChange:t=>B({...y,speaker:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Speaker *"}),e.jsx("input",{type:"number",value:y.capacity,onChange:t=>B({...y,capacity:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Capacity"}),e.jsx("input",{type:"text",value:y.location,onChange:t=>B({...y,location:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Session Location *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 fade-in-blur",children:[e.jsx("button",{onClick:()=>Ce(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:Kt,disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Updating...":"Update Session"})]})]})}),document.body),ft&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 fade-in-blur",children:"Edit Event"}),e.jsxs("div",{className:"space-y-4 stagger-children",children:[e.jsx("input",{type:"text",value:p.title,onChange:t=>R({...p,title:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Event Title *"}),e.jsx("textarea",{value:p.description,onChange:t=>R({...p,description:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Event Description",rows:3}),e.jsxs("select",{value:p.type,onChange:t=>R({...p,type:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"networking",children:"Networking"}),e.jsx("option",{value:"keynote",children:"Keynote"}),e.jsx("option",{value:"panel",children:"Panel"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 fade-in-blur",children:[e.jsx("input",{type:"date",value:p.startDate,onChange:t=>R({...p,startDate:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Start Date *"}),e.jsx("input",{type:"time",value:p.startTime,onChange:t=>R({...p,startTime:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 fade-in-blur",children:[e.jsx("input",{type:"date",value:p.endDate,onChange:t=>R({...p,endDate:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"End Date (Optional)"}),e.jsx("input",{type:"time",value:p.endTime,onChange:t=>R({...p,endTime:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300"})]}),e.jsx("input",{type:"text",value:p.location,onChange:t=>R({...p,location:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Event Location"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 fade-in-blur",children:[e.jsx("button",{onClick:()=>De(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:Zt,disabled:N,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Updating...":"Update Event"})]})]})}),document.body),Bt&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 fade-in-blur",children:"Edit Company"}),e.jsxs("div",{className:"space-y-4 stagger-children",children:[e.jsx("input",{type:"text",value:u.name,onChange:t=>F({...u,name:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Company Name *"}),e.jsxs("div",{className:"fade-in-blur",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo *"}),e.jsxs("div",{className:"flex space-x-4 mb-3",children:[e.jsxs("button",{type:"button",onClick:()=>F({...u,logoType:"link"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${u.logoType==="link"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(ct,{className:"h-4 w-4 mr-2"}),"URL"]}),e.jsxs("button",{type:"button",onClick:()=>F({...u,logoType:"upload"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 smooth-hover ${u.logoType==="upload"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),"Upload New"]})]}),u.logoType==="link"?e.jsx("input",{type:"url",value:u.logoUrl,onChange:t=>F({...u,logoUrl:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Logo URL *"}):e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return F({...u,logo:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to keep current logo"})]}),u.logoUrl&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg fade-in-blur",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Logo:"}),e.jsx("img",{src:u.logoUrl,alt:"Current logo",className:"h-16 w-auto object-contain",onError:t=>{t.target.src="https://via.placeholder.com/64x64/orange/white?text=Logo"}})]})]}),e.jsx("textarea",{value:u.description,onChange:t=>F({...u,description:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Description",rows:3}),e.jsx("input",{type:"url",value:u.website,onChange:t=>F({...u,website:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Website *"}),e.jsx("input",{type:"text",value:u.boothNumber,onChange:t=>F({...u,boothNumber:t.target.value}),className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300",placeholder:"Booth Number *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 fade-in-blur",children:[e.jsx("button",{onClick:()=>Fe(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:es,disabled:N,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Updating...":"Update Company"})]})]})}),document.body),Ot&&O&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto modal-content-blur fade-in-up-blur",children:e.jsxs("div",{className:"p-6 stagger-children",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 fade-in-blur",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Event Details"}),e.jsx("button",{onClick:()=>{Be(!1),tt(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6 fade-in-blur",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:O.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),e.jsxs("p",{className:"text-gray-900",children:[new Date(O.start_time).toLocaleDateString()," at"," ",new Date(O.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),O.end_time&&e.jsxs("p",{className:"text-gray-500 text-sm",children:["Ends at ",new Date(O.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:O.location||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:O.item_type})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 fade-in-blur",children:e.jsx("button",{onClick:()=>Be(!1),className:"w-full bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 transition-all duration-300 smooth-hover font-medium",children:"Close Details"})})]})]})})}),document.body),gt&&ie&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600 fade-in-blur",children:"Delete Company"}),e.jsxs("p",{className:"text-gray-700 mb-6 fade-in-blur",children:["Are you sure you want to delete ",e.jsx("strong",{children:ie.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3 fade-in-blur",children:[e.jsx("button",{onClick:()=>{ve(!1),je(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:hs,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Deleting...":"Delete Company"})]})]})}),document.body),ht&&oe&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600 fade-in-blur",children:"Delete Session"}),e.jsxs("p",{className:"text-gray-700 mb-6 fade-in-blur",children:["Are you sure you want to delete the session ",e.jsxs("strong",{children:['"',oe.title,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3 fade-in-blur",children:[e.jsx("button",{onClick:()=>{we(!1),_e(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:ss,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Deleting...":"Delete Session"})]})]})}),document.body),bt&&de&&k.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4 modal-backdrop-blur",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md modal-content-blur fade-in-up-blur",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600 fade-in-blur",children:"Delete Event"}),e.jsxs("p",{className:"text-gray-700 mb-6 fade-in-blur",children:["Are you sure you want to delete the event ",e.jsxs("strong",{children:['"',de.title,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3 fade-in-blur",children:[e.jsx("button",{onClick:()=>{Se(!1),ke(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-all duration-300 smooth-hover",children:"Cancel"}),e.jsx("button",{onClick:cs,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-all duration-300 smooth-hover",children:N?"Deleting...":"Delete Event"})]})]})}),document.body)]}),e.jsx("style",{jsx:!0,children:`
        .fade-in-blur {
          animation: fadeInBlur 0.5s ease-out forwards;
        }

        .fade-in-up-blur {
          animation: fadeInUpBlur 0.5s ease-out forwards;
        }

        .modal-backdrop-blur {
          backdrop-filter: blur(8px);
        }

        .modal-content-blur {
          backdrop-filter: blur(20px);
        }

        .card-hover {
          transition: all 0.3s ease;
        }

        .card-hover:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .smooth-hover {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dashboard-card {
          border: 1px solid rgba(255, 165, 0, 0.1);
        }

        .stagger-children > * {
          animation: fadeInUpBlur 0.5s ease-out forwards;
        }

        .stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
        .stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
        .stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
        .stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
        .stagger-children > *:nth-child(5) { animation-delay: 0.5s; }

        @keyframes fadeInBlur {
          0% {
            opacity: 0;
            filter: blur(10px);
          }
          100% {
            opacity: 1;
            filter: blur(0);
          }
        }

        @keyframes fadeInUpBlur {
          0% {
            opacity: 0;
            transform: translateY(20px);
            filter: blur(10px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
          }
        }
      `})]})}export{Ks as AdminPanel,Ks as default};
