(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $g(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ah={exports:{}},xa={},oh={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=Symbol.for("react.element"),Og=Symbol.for("react.portal"),Dg=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),Fg=Symbol.for("react.provider"),Bg=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),Hg=Symbol.for("react.memo"),Wg=Symbol.for("react.lazy"),vu=Symbol.iterator;function qg(t){return t===null||typeof t!="object"?null:(t=vu&&t[vu]||t["@@iterator"],typeof t=="function"?t:null)}var lh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ch=Object.assign,uh={};function Tn(t,e,r){this.props=t,this.context=e,this.refs=uh,this.updater=r||lh}Tn.prototype.isReactComponent={};Tn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dh(){}dh.prototype=Tn.prototype;function Xl(t,e,r){this.props=t,this.context=e,this.refs=uh,this.updater=r||lh}var Zl=Xl.prototype=new dh;Zl.constructor=Xl;ch(Zl,Tn.prototype);Zl.isPureReactComponent=!0;var wu=Array.isArray,hh=Object.prototype.hasOwnProperty,ec={current:null},fh={key:!0,ref:!0,__self:!0,__source:!0};function mh(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hh.call(e,n)&&!fh.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:zs,type:t,key:i,ref:o,props:s,_owner:ec.current}}function Qg(t,e){return{$$typeof:zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tc(t){return typeof t=="object"&&t!==null&&t.$$typeof===zs}function Kg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bu=/\/+/g;function Ka(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kg(""+t.key):e.toString(36)}function Ei(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zs:case Og:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ka(o,0):n,wu(s)?(r="",t!=null&&(r=t.replace(bu,"$&/")+"/"),Ei(s,e,r,"",function(u){return u})):s!=null&&(tc(s)&&(s=Qg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",wu(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+Ka(i,l);o+=Ei(i,e,r,c,s)}else if(c=qg(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+Ka(i,l++),o+=Ei(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ti(t,e,r){if(t==null)return t;var n=[],s=0;return Ei(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Gg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var De={current:null},Ci={transition:null},Jg={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Ci,ReactCurrentOwner:ec};function gh(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ti,forEach:function(t,e,r){ti(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ti(t,function(){e++}),e},toArray:function(t){return ti(t,function(e){return e})||[]},only:function(t){if(!tc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Tn;J.Fragment=Dg;J.Profiler=Ug;J.PureComponent=Xl;J.StrictMode=Mg;J.Suspense=Vg;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jg;J.act=gh;J.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ch({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ec.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)hh.call(e,c)&&!fh.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:zs,type:t.type,key:s,ref:i,props:n,_owner:o}};J.createContext=function(t){return t={$$typeof:Bg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fg,_context:t},t.Consumer=t};J.createElement=mh;J.createFactory=function(t){var e=mh.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:zg,render:t}};J.isValidElement=tc;J.lazy=function(t){return{$$typeof:Wg,_payload:{_status:-1,_result:t},_init:Gg}};J.memo=function(t,e){return{$$typeof:Hg,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Ci.transition;Ci.transition={};try{t()}finally{Ci.transition=e}};J.unstable_act=gh;J.useCallback=function(t,e){return De.current.useCallback(t,e)};J.useContext=function(t){return De.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return De.current.useDeferredValue(t)};J.useEffect=function(t,e){return De.current.useEffect(t,e)};J.useId=function(){return De.current.useId()};J.useImperativeHandle=function(t,e,r){return De.current.useImperativeHandle(t,e,r)};J.useInsertionEffect=function(t,e){return De.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return De.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return De.current.useMemo(t,e)};J.useReducer=function(t,e,r){return De.current.useReducer(t,e,r)};J.useRef=function(t){return De.current.useRef(t)};J.useState=function(t){return De.current.useState(t)};J.useSyncExternalStore=function(t,e,r){return De.current.useSyncExternalStore(t,e,r)};J.useTransition=function(){return De.current.useTransition()};J.version="18.3.1";oh.exports=J;var v=oh.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg=v,Xg=Symbol.for("react.element"),Zg=Symbol.for("react.fragment"),ep=Object.prototype.hasOwnProperty,tp=Yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rp={key:!0,ref:!0,__self:!0,__source:!0};function ph(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ep.call(e,n)&&!rp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Xg,type:t,key:i,ref:o,props:s,_owner:tp.current}}xa.Fragment=Zg;xa.jsx=ph;xa.jsxs=ph;ah.exports=xa;var a=ah.exports,yh={exports:{}},Je={},xh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,$){var M=A.length;A.push($);e:for(;0<M;){var q=M-1>>>1,O=A[q];if(0<s(O,$))A[q]=$,A[M]=O,M=q;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var $=A[0],M=A.pop();if(M!==$){A[0]=M;e:for(var q=0,O=A.length,Q=O>>>1;q<Q;){var Y=2*(q+1)-1,ee=A[Y],Se=Y+1,Wt=A[Se];if(0>s(ee,M))Se<O&&0>s(Wt,ee)?(A[q]=Wt,A[Se]=M,q=Se):(A[q]=ee,A[Y]=M,q=Y);else if(Se<O&&0>s(Wt,M))A[q]=Wt,A[Se]=M,q=Se;else break e}}return $}function s(A,$){var M=A.sortIndex-$.sortIndex;return M!==0?M:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,f=3,y=!1,w=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(A){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=A)n(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(u)}}function x(A){if(j=!1,h(A),!w)if(r(c)!==null)w=!0,F(k);else{var $=r(u);$!==null&&re(x,$.startTime-A)}}function k(A,$){w=!1,j&&(j=!1,p(_),_=-1),y=!0;var M=f;try{for(h($),m=r(c);m!==null&&(!(m.expirationTime>$)||A&&!U());){var q=m.callback;if(typeof q=="function"){m.callback=null,f=m.priorityLevel;var O=q(m.expirationTime<=$);$=t.unstable_now(),typeof O=="function"?m.callback=O:m===r(c)&&n(c),h($)}else n(c);m=r(c)}if(m!==null)var Q=!0;else{var Y=r(u);Y!==null&&re(x,Y.startTime-$),Q=!1}return Q}finally{m=null,f=M,y=!1}}var N=!1,S=null,_=-1,R=5,C=-1;function U(){return!(t.unstable_now()-C<R)}function X(){if(S!==null){var A=t.unstable_now();C=A;var $=!0;try{$=S(!0,A)}finally{$?I():(N=!1,S=null)}}else N=!1}var I;if(typeof g=="function")I=function(){g(X)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,L=E.port2;E.port1.onmessage=X,I=function(){L.postMessage(null)}}else I=function(){b(X,0)};function F(A){S=A,N||(N=!0,I())}function re(A,$){_=b(function(){A(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,F(k))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var M=f;f=$;try{return A()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=f;f=A;try{return $()}finally{f=M}},t.unstable_scheduleCallback=function(A,$,M){var q=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?q+M:q):M=q,A){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=M+O,A={id:d++,callback:$,priorityLevel:A,startTime:M,expirationTime:O,sortIndex:-1},M>q?(A.sortIndex=M,e(u,A),r(c)===null&&A===r(u)&&(j?(p(_),_=-1):j=!0,re(x,M-q))):(A.sortIndex=O,e(c,A),w||y||(w=!0,F(k))),A},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(A){var $=f;return function(){var M=f;f=$;try{return A.apply(this,arguments)}finally{f=M}}}})(vh);xh.exports=vh;var np=xh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=v,Ge=np;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wh=new Set,vs={};function Fr(t,e){xn(t,e),xn(t+"Capture",e)}function xn(t,e){for(vs[t]=e,t=0;t<e.length;t++)wh.add(e[t])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,ip=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ju={},_u={};function ap(t){return Mo.call(_u,t)?!0:Mo.call(ju,t)?!1:ip.test(t)?_u[t]=!0:(ju[t]=!0,!1)}function op(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lp(t,e,r,n){if(e===null||typeof e>"u"||op(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Me(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new Me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new Me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new Me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new Me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new Me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new Me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new Me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new Me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new Me(t,5,!1,t.toLowerCase(),null,!1,!1)});var rc=/[\-:]([a-z])/g;function nc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rc,nc);Ce[e]=new Me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rc,nc);Ce[e]=new Me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rc,nc);Ce[e]=new Me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new Me(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new Me(t,1,!1,t.toLowerCase(),null,!0,!0)});function sc(t,e,r,n){var s=Ce.hasOwnProperty(e)?Ce[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lp(e,r,s,n)&&(r=null),n||s===null?ap(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ht=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),Xr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),ic=Symbol.for("react.strict_mode"),Uo=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),jh=Symbol.for("react.context"),ac=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),Bo=Symbol.for("react.suspense_list"),oc=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),_h=Symbol.for("react.offscreen"),Nu=Symbol.iterator;function Hn(t){return t===null||typeof t!="object"?null:(t=Nu&&t[Nu]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,Ga;function es(t){if(Ga===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ga=e&&e[1]||""}return`
`+Ga+t}var Ja=!1;function Ya(t,e){if(!t||Ja)return"";Ja=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ja=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?es(t):""}function cp(t){switch(t.tag){case 5:return es(t.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 2:case 15:return t=Ya(t.type,!1),t;case 11:return t=Ya(t.type.render,!1),t;case 1:return t=Ya(t.type,!0),t;default:return""}}function zo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zr:return"Fragment";case Xr:return"Portal";case Uo:return"Profiler";case ic:return"StrictMode";case Fo:return"Suspense";case Bo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jh:return(t.displayName||"Context")+".Consumer";case bh:return(t._context.displayName||"Context")+".Provider";case ac:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oc:return e=t.displayName||null,e!==null?e:zo(t.type)||"Memo";case Xt:e=t._payload,t=t._init;try{return zo(t(e))}catch{}}return null}function up(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zo(e);case 8:return e===ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dp(t){var e=Nh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ni(t){t._valueTracker||(t._valueTracker=dp(t))}function Sh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Nh(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vo(t,e){var r=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Su(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=mr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kh(t,e){e=e.checked,e!=null&&sc(t,"checked",e,!1)}function Ho(t,e){kh(t,e);var r=mr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wo(t,e.type,mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ku(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wo(t,e,r){(e!=="number"||Bi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ts=Array.isArray;function hn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+mr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Eu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(ts(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:mr(r)}}function Eh(t,e){var r=mr(e.value),n=mr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Cu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ch(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ch(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var si,Ph=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=si.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ws(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hp=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(t){hp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),is[e]=is[t]})});function Rh(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||is.hasOwnProperty(t)&&is[t]?(""+e).trim():e+"px"}function Th(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Rh(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var fp=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(t,e){if(e){if(fp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Go(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yo=null,fn=null,mn=null;function Pu(t){if(t=Ws(t)){if(typeof Yo!="function")throw Error(T(280));var e=t.stateNode;e&&(e=_a(e),Yo(t.stateNode,t.type,e))}}function Ah(t){fn?mn?mn.push(t):mn=[t]:fn=t}function Ih(){if(fn){var t=fn,e=mn;if(mn=fn=null,Pu(t),e)for(t=0;t<e.length;t++)Pu(e[t])}}function Lh(t,e){return t(e)}function $h(){}var Xa=!1;function Oh(t,e,r){if(Xa)return t(e,r);Xa=!0;try{return Lh(t,e,r)}finally{Xa=!1,(fn!==null||mn!==null)&&($h(),Ih())}}function bs(t,e){var r=t.stateNode;if(r===null)return null;var n=_a(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var Xo=!1;if(Mt)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Xo=!1}function mp(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var as=!1,zi=null,Vi=!1,Zo=null,gp={onError:function(t){as=!0,zi=t}};function pp(t,e,r,n,s,i,o,l,c){as=!1,zi=null,mp.apply(gp,arguments)}function yp(t,e,r,n,s,i,o,l,c){if(pp.apply(this,arguments),as){if(as){var u=zi;as=!1,zi=null}else throw Error(T(198));Vi||(Vi=!0,Zo=u)}}function Br(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Dh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ru(t){if(Br(t)!==t)throw Error(T(188))}function xp(t){var e=t.alternate;if(!e){if(e=Br(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ru(s),t;if(i===n)return Ru(s),e;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function Mh(t){return t=xp(t),t!==null?Uh(t):null}function Uh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Uh(t);if(e!==null)return e;t=t.sibling}return null}var Fh=Ge.unstable_scheduleCallback,Tu=Ge.unstable_cancelCallback,vp=Ge.unstable_shouldYield,wp=Ge.unstable_requestPaint,ge=Ge.unstable_now,bp=Ge.unstable_getCurrentPriorityLevel,cc=Ge.unstable_ImmediatePriority,Bh=Ge.unstable_UserBlockingPriority,Hi=Ge.unstable_NormalPriority,jp=Ge.unstable_LowPriority,zh=Ge.unstable_IdlePriority,va=null,St=null;function _p(t){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(va,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:kp,Np=Math.log,Sp=Math.LN2;function kp(t){return t>>>=0,t===0?32:31-(Np(t)/Sp|0)|0}var ii=64,ai=4194304;function rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=rs(l):(i&=o,i!==0&&(n=rs(i)))}else o=r&~s,o!==0?n=rs(o):i!==0&&(n=rs(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ft(e),s=1<<r,n|=t[r],e&=~s;return n}function Ep(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ft(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Ep(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function el(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vh(){var t=ii;return ii<<=1,!(ii&4194240)&&(ii=64),t}function Za(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ft(e),t[e]=r}function Pp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ft(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function uc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ft(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var te=0;function Hh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wh,dc,qh,Qh,Kh,tl=!1,oi=[],ar=null,or=null,lr=null,js=new Map,_s=new Map,er=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":js.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(e.pointerId)}}function qn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ws(e),e!==null&&dc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Tp(t,e,r,n,s){switch(e){case"focusin":return ar=qn(ar,t,e,r,n,s),!0;case"dragenter":return or=qn(or,t,e,r,n,s),!0;case"mouseover":return lr=qn(lr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return js.set(i,qn(js.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,_s.set(i,qn(_s.get(i)||null,t,e,r,n,s)),!0}return!1}function Gh(t){var e=Pr(t.target);if(e!==null){var r=Br(e);if(r!==null){if(e=r.tag,e===13){if(e=Dh(r),e!==null){t.blockedOn=e,Kh(t.priority,function(){qh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jo=n,r.target.dispatchEvent(n),Jo=null}else return e=Ws(r),e!==null&&dc(e),t.blockedOn=r,!1;e.shift()}return!0}function Iu(t,e,r){Pi(t)&&r.delete(e)}function Ap(){tl=!1,ar!==null&&Pi(ar)&&(ar=null),or!==null&&Pi(or)&&(or=null),lr!==null&&Pi(lr)&&(lr=null),js.forEach(Iu),_s.forEach(Iu)}function Qn(t,e){t.blockedOn===e&&(t.blockedOn=null,tl||(tl=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,Ap)))}function Ns(t){function e(s){return Qn(s,t)}if(0<oi.length){Qn(oi[0],t);for(var r=1;r<oi.length;r++){var n=oi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ar!==null&&Qn(ar,t),or!==null&&Qn(or,t),lr!==null&&Qn(lr,t),js.forEach(e),_s.forEach(e),r=0;r<er.length;r++)n=er[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<er.length&&(r=er[0],r.blockedOn===null);)Gh(r),r.blockedOn===null&&er.shift()}var gn=Ht.ReactCurrentBatchConfig,qi=!0;function Ip(t,e,r,n){var s=te,i=gn.transition;gn.transition=null;try{te=1,hc(t,e,r,n)}finally{te=s,gn.transition=i}}function Lp(t,e,r,n){var s=te,i=gn.transition;gn.transition=null;try{te=4,hc(t,e,r,n)}finally{te=s,gn.transition=i}}function hc(t,e,r,n){if(qi){var s=rl(t,e,r,n);if(s===null)co(t,e,n,Qi,r),Au(t,n);else if(Tp(s,t,e,r,n))n.stopPropagation();else if(Au(t,n),e&4&&-1<Rp.indexOf(t)){for(;s!==null;){var i=Ws(s);if(i!==null&&Wh(i),i=rl(t,e,r,n),i===null&&co(t,e,n,Qi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else co(t,e,n,null,r)}}var Qi=null;function rl(t,e,r,n){if(Qi=null,t=lc(n),t=Pr(t),t!==null)if(e=Br(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Dh(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qi=t,null}function Jh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bp()){case cc:return 1;case Bh:return 4;case Hi:case jp:return 16;case zh:return 536870912;default:return 16}default:return 16}}var nr=null,fc=null,Ri=null;function Yh(){if(Ri)return Ri;var t,e=fc,r=e.length,n,s="value"in nr?nr.value:nr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ri=s.slice(t,1<n?1-n:void 0)}function Ti(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function Lu(){return!1}function Ye(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?li:Lu,this.isPropagationStopped=Lu,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),e}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=Ye(An),Hs=fe({},An,{view:0,detail:0}),$p=Ye(Hs),eo,to,Kn,wa=fe({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(eo=t.screenX-Kn.screenX,to=t.screenY-Kn.screenY):to=eo=0,Kn=t),eo)},movementY:function(t){return"movementY"in t?t.movementY:to}}),$u=Ye(wa),Op=fe({},wa,{dataTransfer:0}),Dp=Ye(Op),Mp=fe({},Hs,{relatedTarget:0}),ro=Ye(Mp),Up=fe({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=Ye(Up),Bp=fe({},An,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zp=Ye(Bp),Vp=fe({},An,{data:0}),Ou=Ye(Vp),Hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qp[t])?!!e[t]:!1}function gc(){return Qp}var Kp=fe({},Hs,{key:function(t){if(t.key){var e=Hp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gp=Ye(Kp),Jp=fe({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=Ye(Jp),Yp=fe({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),Xp=Ye(Yp),Zp=fe({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),e0=Ye(Zp),t0=fe({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r0=Ye(t0),n0=[9,13,27,32],pc=Mt&&"CompositionEvent"in window,os=null;Mt&&"documentMode"in document&&(os=document.documentMode);var s0=Mt&&"TextEvent"in window&&!os,Xh=Mt&&(!pc||os&&8<os&&11>=os),Mu=" ",Uu=!1;function Zh(t,e){switch(t){case"keyup":return n0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var en=!1;function i0(t,e){switch(t){case"compositionend":return ef(e);case"keypress":return e.which!==32?null:(Uu=!0,Mu);case"textInput":return t=e.data,t===Mu&&Uu?null:t;default:return null}}function a0(t,e){if(en)return t==="compositionend"||!pc&&Zh(t,e)?(t=Yh(),Ri=fc=nr=null,en=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xh&&e.locale!=="ko"?null:e.data;default:return null}}var o0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!o0[t.type]:e==="textarea"}function tf(t,e,r,n){Ah(n),e=Ki(e,"onChange"),0<e.length&&(r=new mc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ls=null,Ss=null;function l0(t){ff(t,0)}function ba(t){var e=nn(t);if(Sh(e))return t}function c0(t,e){if(t==="change")return e}var rf=!1;if(Mt){var no;if(Mt){var so="oninput"in document;if(!so){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),so=typeof Bu.oninput=="function"}no=so}else no=!1;rf=no&&(!document.documentMode||9<document.documentMode)}function zu(){ls&&(ls.detachEvent("onpropertychange",nf),Ss=ls=null)}function nf(t){if(t.propertyName==="value"&&ba(Ss)){var e=[];tf(e,Ss,t,lc(t)),Oh(l0,e)}}function u0(t,e,r){t==="focusin"?(zu(),ls=e,Ss=r,ls.attachEvent("onpropertychange",nf)):t==="focusout"&&zu()}function d0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ba(Ss)}function h0(t,e){if(t==="click")return ba(e)}function f0(t,e){if(t==="input"||t==="change")return ba(e)}function m0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pt=typeof Object.is=="function"?Object.is:m0;function ks(t,e){if(pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mo.call(e,s)||!pt(t[s],e[s]))return!1}return!0}function Vu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hu(t,e){var r=Vu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vu(r)}}function sf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function af(){for(var t=window,e=Bi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bi(t.document)}return e}function yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g0(t){var e=af(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sf(r.ownerDocument.documentElement,r)){if(n!==null&&yc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Hu(r,i);var o=Hu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p0=Mt&&"documentMode"in document&&11>=document.documentMode,tn=null,nl=null,cs=null,sl=!1;function Wu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sl||tn==null||tn!==Bi(n)||(n=tn,"selectionStart"in n&&yc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cs&&ks(cs,n)||(cs=n,n=Ki(nl,"onSelect"),0<n.length&&(e=new mc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=tn)))}function ci(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var rn={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},io={},of={};Mt&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete rn.animationend.animation,delete rn.animationiteration.animation,delete rn.animationstart.animation),"TransitionEvent"in window||delete rn.transitionend.transition);function ja(t){if(io[t])return io[t];if(!rn[t])return t;var e=rn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in of)return io[t]=e[r];return t}var lf=ja("animationend"),cf=ja("animationiteration"),uf=ja("animationstart"),df=ja("transitionend"),hf=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(t,e){hf.set(t,e),Fr(e,[t])}for(var ao=0;ao<qu.length;ao++){var oo=qu[ao],y0=oo.toLowerCase(),x0=oo[0].toUpperCase()+oo.slice(1);pr(y0,"on"+x0)}pr(lf,"onAnimationEnd");pr(cf,"onAnimationIteration");pr(uf,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(df,"onTransitionEnd");xn("onMouseEnter",["mouseout","mouseover"]);xn("onMouseLeave",["mouseout","mouseover"]);xn("onPointerEnter",["pointerout","pointerover"]);xn("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function Qu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,yp(n,e,void 0,t),t.currentTarget=null}function ff(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Qu(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Qu(s,l,u),i=c}}}if(Vi)throw t=Zo,Vi=!1,Zo=null,t}function ae(t,e){var r=e[cl];r===void 0&&(r=e[cl]=new Set);var n=t+"__bubble";r.has(n)||(mf(e,t,2,!1),r.add(n))}function lo(t,e,r){var n=0;e&&(n|=4),mf(r,t,n,e)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Es(t){if(!t[ui]){t[ui]=!0,wh.forEach(function(r){r!=="selectionchange"&&(v0.has(r)||lo(r,!1,t),lo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ui]||(e[ui]=!0,lo("selectionchange",!1,e))}}function mf(t,e,r,n){switch(Jh(e)){case 1:var s=Ip;break;case 4:s=Lp;break;default:s=hc}r=s.bind(null,e,r,t),s=void 0,!Xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function co(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Pr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Oh(function(){var u=i,d=lc(r),m=[];e:{var f=hf.get(t);if(f!==void 0){var y=mc,w=t;switch(t){case"keypress":if(Ti(r)===0)break e;case"keydown":case"keyup":y=Gp;break;case"focusin":w="focus",y=ro;break;case"focusout":w="blur",y=ro;break;case"beforeblur":case"afterblur":y=ro;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Xp;break;case lf:case cf:case uf:y=Fp;break;case df:y=e0;break;case"scroll":y=$p;break;case"wheel":y=r0;break;case"copy":case"cut":case"paste":y=zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Du}var j=(e&4)!==0,b=!j&&t==="scroll",p=j?f!==null?f+"Capture":null:f;j=[];for(var g=u,h;g!==null;){h=g;var x=h.stateNode;if(h.tag===5&&x!==null&&(h=x,p!==null&&(x=bs(g,p),x!=null&&j.push(Cs(g,x,h)))),b)break;g=g.return}0<j.length&&(f=new y(f,w,null,r,d),m.push({event:f,listeners:j}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==Jo&&(w=r.relatedTarget||r.fromElement)&&(Pr(w)||w[Ut]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?Pr(w):null,w!==null&&(b=Br(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(j=$u,x="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(j=Du,x="onPointerLeave",p="onPointerEnter",g="pointer"),b=y==null?f:nn(y),h=w==null?f:nn(w),f=new j(x,g+"leave",y,r,d),f.target=b,f.relatedTarget=h,x=null,Pr(d)===u&&(j=new j(p,g+"enter",w,r,d),j.target=h,j.relatedTarget=b,x=j),b=x,y&&w)t:{for(j=y,p=w,g=0,h=j;h;h=Hr(h))g++;for(h=0,x=p;x;x=Hr(x))h++;for(;0<g-h;)j=Hr(j),g--;for(;0<h-g;)p=Hr(p),h--;for(;g--;){if(j===p||p!==null&&j===p.alternate)break t;j=Hr(j),p=Hr(p)}j=null}else j=null;y!==null&&Ku(m,f,y,j,!1),w!==null&&b!==null&&Ku(m,b,w,j,!0)}}e:{if(f=u?nn(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=c0;else if(Fu(f))if(rf)k=f0;else{k=d0;var N=u0}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=h0);if(k&&(k=k(t,u))){tf(m,k,r,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Wo(f,"number",f.value)}switch(N=u?nn(u):window,t){case"focusin":(Fu(N)||N.contentEditable==="true")&&(tn=N,nl=u,cs=null);break;case"focusout":cs=nl=tn=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,Wu(m,r,d);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":Wu(m,r,d)}var S;if(pc)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else en?Zh(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Xh&&r.locale!=="ko"&&(en||_!=="onCompositionStart"?_==="onCompositionEnd"&&en&&(S=Yh()):(nr=d,fc="value"in nr?nr.value:nr.textContent,en=!0)),N=Ki(u,_),0<N.length&&(_=new Ou(_,t,null,r,d),m.push({event:_,listeners:N}),S?_.data=S:(S=ef(r),S!==null&&(_.data=S)))),(S=s0?i0(t,r):a0(t,r))&&(u=Ki(u,"onBeforeInput"),0<u.length&&(d=new Ou("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=S))}ff(m,e)})}function Cs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ki(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=bs(t,r),i!=null&&n.unshift(Cs(t,i,s)),i=bs(t,e),i!=null&&n.push(Cs(t,i,s))),t=t.return}return n}function Hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ku(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=bs(r,i),c!=null&&o.unshift(Cs(r,c,l))):s||(c=bs(r,i),c!=null&&o.push(Cs(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var w0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function Gu(t){return(typeof t=="string"?t:""+t).replace(w0,`
`).replace(b0,"")}function di(t,e,r){if(e=Gu(e),Gu(t)!==e&&r)throw Error(T(425))}function Gi(){}var il=null,al=null;function ol(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ll=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,Ju=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ju<"u"?function(t){return Ju.resolve(null).then(t).catch(N0)}:ll;function N0(t){setTimeout(function(){throw t})}function uo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ns(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ns(e)}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var In=Math.random().toString(36).slice(2),Nt="__reactFiber$"+In,Ps="__reactProps$"+In,Ut="__reactContainer$"+In,cl="__reactEvents$"+In,S0="__reactListeners$"+In,k0="__reactHandles$"+In;function Pr(t){var e=t[Nt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ut]||r[Nt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Yu(t);t!==null;){if(r=t[Nt])return r;t=Yu(t)}return e}t=r,r=t.parentNode}return null}function Ws(t){return t=t[Nt]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function _a(t){return t[Ps]||null}var ul=[],sn=-1;function yr(t){return{current:t}}function oe(t){0>sn||(t.current=ul[sn],ul[sn]=null,sn--)}function ie(t,e){sn++,ul[sn]=t.current,t.current=e}var gr={},Ae=yr(gr),ze=yr(!1),$r=gr;function vn(t,e){var r=t.type.contextTypes;if(!r)return gr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(t){return t=t.childContextTypes,t!=null}function Ji(){oe(ze),oe(Ae)}function Xu(t,e,r){if(Ae.current!==gr)throw Error(T(168));ie(Ae,e),ie(ze,r)}function gf(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(T(108,up(t)||"Unknown",s));return fe({},r,n)}function Yi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gr,$r=Ae.current,ie(Ae,t),ie(ze,ze.current),!0}function Zu(t,e,r){var n=t.stateNode;if(!n)throw Error(T(169));r?(t=gf(t,e,$r),n.__reactInternalMemoizedMergedChildContext=t,oe(ze),oe(Ae),ie(Ae,t)):oe(ze),ie(ze,r)}var It=null,Na=!1,ho=!1;function pf(t){It===null?It=[t]:It.push(t)}function E0(t){Na=!0,pf(t)}function xr(){if(!ho&&It!==null){ho=!0;var t=0,e=te;try{var r=It;for(te=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}It=null,Na=!1}catch(s){throw It!==null&&(It=It.slice(t+1)),Fh(cc,xr),s}finally{te=e,ho=!1}}return null}var an=[],on=0,Xi=null,Zi=0,Ze=[],et=0,Or=null,Lt=1,$t="";function Sr(t,e){an[on++]=Zi,an[on++]=Xi,Xi=t,Zi=e}function yf(t,e,r){Ze[et++]=Lt,Ze[et++]=$t,Ze[et++]=Or,Or=t;var n=Lt;t=$t;var s=32-ft(n)-1;n&=~(1<<s),r+=1;var i=32-ft(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Lt=1<<32-ft(e)+s|r<<s|n,$t=i+t}else Lt=1<<i|r<<s|n,$t=t}function xc(t){t.return!==null&&(Sr(t,1),yf(t,1,0))}function vc(t){for(;t===Xi;)Xi=an[--on],an[on]=null,Zi=an[--on],an[on]=null;for(;t===Or;)Or=Ze[--et],Ze[et]=null,$t=Ze[--et],Ze[et]=null,Lt=Ze[--et],Ze[et]=null}var Ke=null,Qe=null,ce=!1,dt=null;function xf(t,e){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ed(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ke=t,Qe=cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ke=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Or!==null?{id:Lt,overflow:$t}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ke=t,Qe=null,!0):!1;default:return!1}}function dl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hl(t){if(ce){var e=Qe;if(e){var r=e;if(!ed(t,e)){if(dl(t))throw Error(T(418));e=cr(r.nextSibling);var n=Ke;e&&ed(t,e)?xf(n,r):(t.flags=t.flags&-4097|2,ce=!1,Ke=t)}}else{if(dl(t))throw Error(T(418));t.flags=t.flags&-4097|2,ce=!1,Ke=t}}}function td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ke=t}function hi(t){if(t!==Ke)return!1;if(!ce)return td(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ol(t.type,t.memoizedProps)),e&&(e=Qe)){if(dl(t))throw vf(),Error(T(418));for(;e;)xf(t,e),e=cr(e.nextSibling)}if(td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Qe=cr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=Ke?cr(t.stateNode.nextSibling):null;return!0}function vf(){for(var t=Qe;t;)t=cr(t.nextSibling)}function wn(){Qe=Ke=null,ce=!1}function wc(t){dt===null?dt=[t]:dt.push(t)}var C0=Ht.ReactCurrentBatchConfig;function Gn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function fi(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rd(t){var e=t._init;return e(t._payload)}function wf(t){function e(p,g){if(t){var h=p.deletions;h===null?(p.deletions=[g],p.flags|=16):h.push(g)}}function r(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=fr(p,g),p.index=0,p.sibling=null,p}function i(p,g,h){return p.index=h,t?(h=p.alternate,h!==null?(h=h.index,h<g?(p.flags|=2,g):h):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,g,h,x){return g===null||g.tag!==6?(g=vo(h,p.mode,x),g.return=p,g):(g=s(g,h),g.return=p,g)}function c(p,g,h,x){var k=h.type;return k===Zr?d(p,g,h.props.children,x,h.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xt&&rd(k)===g.type)?(x=s(g,h.props),x.ref=Gn(p,g,h),x.return=p,x):(x=Mi(h.type,h.key,h.props,null,p.mode,x),x.ref=Gn(p,g,h),x.return=p,x)}function u(p,g,h,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==h.containerInfo||g.stateNode.implementation!==h.implementation?(g=wo(h,p.mode,x),g.return=p,g):(g=s(g,h.children||[]),g.return=p,g)}function d(p,g,h,x,k){return g===null||g.tag!==7?(g=Lr(h,p.mode,x,k),g.return=p,g):(g=s(g,h),g.return=p,g)}function m(p,g,h){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vo(""+g,p.mode,h),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ri:return h=Mi(g.type,g.key,g.props,null,p.mode,h),h.ref=Gn(p,null,g),h.return=p,h;case Xr:return g=wo(g,p.mode,h),g.return=p,g;case Xt:var x=g._init;return m(p,x(g._payload),h)}if(ts(g)||Hn(g))return g=Lr(g,p.mode,h,null),g.return=p,g;fi(p,g)}return null}function f(p,g,h,x){var k=g!==null?g.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return k!==null?null:l(p,g,""+h,x);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:return h.key===k?c(p,g,h,x):null;case Xr:return h.key===k?u(p,g,h,x):null;case Xt:return k=h._init,f(p,g,k(h._payload),x)}if(ts(h)||Hn(h))return k!==null?null:d(p,g,h,x,null);fi(p,h)}return null}function y(p,g,h,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(h)||null,l(g,p,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ri:return p=p.get(x.key===null?h:x.key)||null,c(g,p,x,k);case Xr:return p=p.get(x.key===null?h:x.key)||null,u(g,p,x,k);case Xt:var N=x._init;return y(p,g,h,N(x._payload),k)}if(ts(x)||Hn(x))return p=p.get(h)||null,d(g,p,x,k,null);fi(g,x)}return null}function w(p,g,h,x){for(var k=null,N=null,S=g,_=g=0,R=null;S!==null&&_<h.length;_++){S.index>_?(R=S,S=null):R=S.sibling;var C=f(p,S,h[_],x);if(C===null){S===null&&(S=R);break}t&&S&&C.alternate===null&&e(p,S),g=i(C,g,_),N===null?k=C:N.sibling=C,N=C,S=R}if(_===h.length)return r(p,S),ce&&Sr(p,_),k;if(S===null){for(;_<h.length;_++)S=m(p,h[_],x),S!==null&&(g=i(S,g,_),N===null?k=S:N.sibling=S,N=S);return ce&&Sr(p,_),k}for(S=n(p,S);_<h.length;_++)R=y(S,p,_,h[_],x),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?_:R.key),g=i(R,g,_),N===null?k=R:N.sibling=R,N=R);return t&&S.forEach(function(U){return e(p,U)}),ce&&Sr(p,_),k}function j(p,g,h,x){var k=Hn(h);if(typeof k!="function")throw Error(T(150));if(h=k.call(h),h==null)throw Error(T(151));for(var N=k=null,S=g,_=g=0,R=null,C=h.next();S!==null&&!C.done;_++,C=h.next()){S.index>_?(R=S,S=null):R=S.sibling;var U=f(p,S,C.value,x);if(U===null){S===null&&(S=R);break}t&&S&&U.alternate===null&&e(p,S),g=i(U,g,_),N===null?k=U:N.sibling=U,N=U,S=R}if(C.done)return r(p,S),ce&&Sr(p,_),k;if(S===null){for(;!C.done;_++,C=h.next())C=m(p,C.value,x),C!==null&&(g=i(C,g,_),N===null?k=C:N.sibling=C,N=C);return ce&&Sr(p,_),k}for(S=n(p,S);!C.done;_++,C=h.next())C=y(S,p,_,C.value,x),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?_:C.key),g=i(C,g,_),N===null?k=C:N.sibling=C,N=C);return t&&S.forEach(function(X){return e(p,X)}),ce&&Sr(p,_),k}function b(p,g,h,x){if(typeof h=="object"&&h!==null&&h.type===Zr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:e:{for(var k=h.key,N=g;N!==null;){if(N.key===k){if(k=h.type,k===Zr){if(N.tag===7){r(p,N.sibling),g=s(N,h.props.children),g.return=p,p=g;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xt&&rd(k)===N.type){r(p,N.sibling),g=s(N,h.props),g.ref=Gn(p,N,h),g.return=p,p=g;break e}r(p,N);break}else e(p,N);N=N.sibling}h.type===Zr?(g=Lr(h.props.children,p.mode,x,h.key),g.return=p,p=g):(x=Mi(h.type,h.key,h.props,null,p.mode,x),x.ref=Gn(p,g,h),x.return=p,p=x)}return o(p);case Xr:e:{for(N=h.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===h.containerInfo&&g.stateNode.implementation===h.implementation){r(p,g.sibling),g=s(g,h.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else e(p,g);g=g.sibling}g=wo(h,p.mode,x),g.return=p,p=g}return o(p);case Xt:return N=h._init,b(p,g,N(h._payload),x)}if(ts(h))return w(p,g,h,x);if(Hn(h))return j(p,g,h,x);fi(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,h),g.return=p,p=g):(r(p,g),g=vo(h,p.mode,x),g.return=p,p=g),o(p)):r(p,g)}return b}var bn=wf(!0),bf=wf(!1),ea=yr(null),ta=null,ln=null,bc=null;function jc(){bc=ln=ta=null}function _c(t){var e=ea.current;oe(ea),t._currentValue=e}function fl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function pn(t,e){ta=t,bc=ln=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Be=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(bc!==t)if(t={context:t,memoizedValue:e,next:null},ln===null){if(ta===null)throw Error(T(308));ln=t,ta.dependencies={lanes:0,firstContext:t}}else ln=ln.next=t;return e}var Rr=null;function Nc(t){Rr===null?Rr=[t]:Rr.push(t)}function jf(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Nc(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ft(t,n)}function Ft(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Zt=!1;function Sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ot(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ur(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ft(t,r)}return s=n.interleaved,s===null?(e.next=e,Nc(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ft(t,r)}function Ai(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uc(t,r)}}function nd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ra(t,e,r,n){var s=t.updateQueue;Zt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,j=l;switch(f=e,y=r,j.tag){case 1:if(w=j.payload,typeof w=="function"){m=w.call(y,m,f);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=j.payload,f=typeof w=="function"?w.call(y,m,f):w,f==null)break e;m=fe({},m,f);break e;case 2:Zt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=m):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mr|=o,t.lanes=o,t.memoizedState=m}}function sd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var qs={},kt=yr(qs),Rs=yr(qs),Ts=yr(qs);function Tr(t){if(t===qs)throw Error(T(174));return t}function kc(t,e){switch(ie(Ts,e),ie(Rs,t),ie(kt,qs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qo(e,t)}oe(kt),ie(kt,e)}function jn(){oe(kt),oe(Rs),oe(Ts)}function Nf(t){Tr(Ts.current);var e=Tr(kt.current),r=Qo(e,t.type);e!==r&&(ie(Rs,t),ie(kt,r))}function Ec(t){Rs.current===t&&(oe(kt),oe(Rs))}var de=yr(0);function na(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fo=[];function Cc(){for(var t=0;t<fo.length;t++)fo[t]._workInProgressVersionPrimary=null;fo.length=0}var Ii=Ht.ReactCurrentDispatcher,mo=Ht.ReactCurrentBatchConfig,Dr=0,he=null,we=null,_e=null,sa=!1,us=!1,As=0,P0=0;function Pe(){throw Error(T(321))}function Pc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pt(t[r],e[r]))return!1;return!0}function Rc(t,e,r,n,s,i){if(Dr=i,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ii.current=t===null||t.memoizedState===null?I0:L0,t=r(n,s),us){i=0;do{if(us=!1,As=0,25<=i)throw Error(T(301));i+=1,_e=we=null,e.updateQueue=null,Ii.current=$0,t=r(n,s)}while(us)}if(Ii.current=ia,e=we!==null&&we.next!==null,Dr=0,_e=we=he=null,sa=!1,e)throw Error(T(300));return t}function Tc(){var t=As!==0;return As=0,t}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?he.memoizedState=_e=t:_e=_e.next=t,_e}function it(){if(we===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=_e===null?he.memoizedState:_e.next;if(e!==null)_e=e,we=t;else{if(t===null)throw Error(T(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},_e===null?he.memoizedState=_e=t:_e=_e.next=t}return _e}function Is(t,e){return typeof e=="function"?e(t):e}function go(t){var e=it(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=we,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Dr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,he.lanes|=d,Mr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,pt(n,e.memoizedState)||(Be=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,he.lanes|=i,Mr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function po(t){var e=it(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);pt(i,e.memoizedState)||(Be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Sf(){}function kf(t,e){var r=he,n=it(),s=e(),i=!pt(n.memoizedState,s);if(i&&(n.memoizedState=s,Be=!0),n=n.queue,Ac(Pf.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,Ls(9,Cf.bind(null,r,n,s,e),void 0,null),Ne===null)throw Error(T(349));Dr&30||Ef(r,e,s)}return s}function Ef(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Cf(t,e,r,n){e.value=r,e.getSnapshot=n,Rf(e)&&Tf(t)}function Pf(t,e,r){return r(function(){Rf(e)&&Tf(t)})}function Rf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pt(t,r)}catch{return!0}}function Tf(t){var e=Ft(t,1);e!==null&&mt(e,t,1,-1)}function id(t){var e=jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},e.queue=t,t=t.dispatch=A0.bind(null,he,t),[e.memoizedState,t]}function Ls(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Af(){return it().memoizedState}function Li(t,e,r,n){var s=jt();he.flags|=t,s.memoizedState=Ls(1|e,r,void 0,n===void 0?null:n)}function Sa(t,e,r,n){var s=it();n=n===void 0?null:n;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,n!==null&&Pc(n,o.deps)){s.memoizedState=Ls(e,r,i,n);return}}he.flags|=t,s.memoizedState=Ls(1|e,r,i,n)}function ad(t,e){return Li(8390656,8,t,e)}function Ac(t,e){return Sa(2048,8,t,e)}function If(t,e){return Sa(4,2,t,e)}function Lf(t,e){return Sa(4,4,t,e)}function $f(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Of(t,e,r){return r=r!=null?r.concat([t]):null,Sa(4,4,$f.bind(null,e,t),r)}function Ic(){}function Df(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Mf(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Uf(t,e,r){return Dr&21?(pt(r,e)||(r=Vh(),he.lanes|=r,Mr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Be=!0),t.memoizedState=r)}function R0(t,e){var r=te;te=r!==0&&4>r?r:4,t(!0);var n=mo.transition;mo.transition={};try{t(!1),e()}finally{te=r,mo.transition=n}}function Ff(){return it().memoizedState}function T0(t,e,r){var n=hr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Bf(t))zf(e,r);else if(r=jf(t,e,r,n),r!==null){var s=Oe();mt(r,t,n,s),Vf(r,e,n)}}function A0(t,e,r){var n=hr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bf(t))zf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,pt(l,o)){var c=e.interleaved;c===null?(s.next=s,Nc(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=jf(t,e,s,n),r!==null&&(s=Oe(),mt(r,t,n,s),Vf(r,e,n))}}function Bf(t){var e=t.alternate;return t===he||e!==null&&e===he}function zf(t,e){us=sa=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Vf(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uc(t,r)}}var ia={readContext:st,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},I0={readContext:st,useCallback:function(t,e){return jt().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:ad,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Li(4194308,4,$f.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Li(4194308,4,t,e)},useInsertionEffect:function(t,e){return Li(4,2,t,e)},useMemo:function(t,e){var r=jt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=jt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=T0.bind(null,he,t),[n.memoizedState,t]},useRef:function(t){var e=jt();return t={current:t},e.memoizedState=t},useState:id,useDebugValue:Ic,useDeferredValue:function(t){return jt().memoizedState=t},useTransition:function(){var t=id(!1),e=t[0];return t=R0.bind(null,t[1]),jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=he,s=jt();if(ce){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),Ne===null)throw Error(T(349));Dr&30||Ef(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ad(Pf.bind(null,n,i,t),[t]),n.flags|=2048,Ls(9,Cf.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=jt(),e=Ne.identifierPrefix;if(ce){var r=$t,n=Lt;r=(n&~(1<<32-ft(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=As++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=P0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L0={readContext:st,useCallback:Df,useContext:st,useEffect:Ac,useImperativeHandle:Of,useInsertionEffect:If,useLayoutEffect:Lf,useMemo:Mf,useReducer:go,useRef:Af,useState:function(){return go(Is)},useDebugValue:Ic,useDeferredValue:function(t){var e=it();return Uf(e,we.memoizedState,t)},useTransition:function(){var t=go(Is)[0],e=it().memoizedState;return[t,e]},useMutableSource:Sf,useSyncExternalStore:kf,useId:Ff,unstable_isNewReconciler:!1},$0={readContext:st,useCallback:Df,useContext:st,useEffect:Ac,useImperativeHandle:Of,useInsertionEffect:If,useLayoutEffect:Lf,useMemo:Mf,useReducer:po,useRef:Af,useState:function(){return po(Is)},useDebugValue:Ic,useDeferredValue:function(t){var e=it();return we===null?e.memoizedState=t:Uf(e,we.memoizedState,t)},useTransition:function(){var t=po(Is)[0],e=it().memoizedState;return[t,e]},useMutableSource:Sf,useSyncExternalStore:kf,useId:Ff,unstable_isNewReconciler:!1};function lt(t,e){if(t&&t.defaultProps){e=fe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ml(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:fe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ka={isMounted:function(t){return(t=t._reactInternals)?Br(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Oe(),s=hr(t),i=Ot(n,s);i.payload=e,r!=null&&(i.callback=r),e=ur(t,i,s),e!==null&&(mt(e,t,s,n),Ai(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Oe(),s=hr(t),i=Ot(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ur(t,i,s),e!==null&&(mt(e,t,s,n),Ai(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Oe(),n=hr(t),s=Ot(r,n);s.tag=2,e!=null&&(s.callback=e),e=ur(t,s,n),e!==null&&(mt(e,t,n,r),Ai(e,t,n))}};function od(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ks(r,n)||!ks(s,i):!0}function Hf(t,e,r){var n=!1,s=gr,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=Ve(e)?$r:Ae.current,n=e.contextTypes,i=(n=n!=null)?vn(t,s):gr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ka,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ld(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ka.enqueueReplaceState(e,e.state,null)}function gl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Sc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=Ve(e)?$r:Ae.current,s.context=vn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ml(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ka.enqueueReplaceState(s,s.state,null),ra(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _n(t,e){try{var r="",n=e;do r+=cp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function pl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var O0=typeof WeakMap=="function"?WeakMap:Map;function Wf(t,e,r){r=Ot(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){oa||(oa=!0,kl=n),pl(t,e)},r}function qf(t,e,r){r=Ot(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){pl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){pl(t,e),typeof n!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function cd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new O0;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=J0.bind(null,t,e,r),e.then(t,t))}function ud(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dd(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ot(-1,1),e.tag=2,ur(r,e,1))),r.lanes|=1),t)}var D0=Ht.ReactCurrentOwner,Be=!1;function $e(t,e,r,n){e.child=t===null?bf(e,null,r,n):bn(e,t.child,r,n)}function hd(t,e,r,n,s){r=r.render;var i=e.ref;return pn(e,s),n=Rc(t,e,r,n,i,s),r=Tc(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bt(t,e,s)):(ce&&r&&xc(e),e.flags|=1,$e(t,e,n,s),e.child)}function fd(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Bc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Qf(t,e,i,n,s)):(t=Mi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ks,r(o,n)&&t.ref===e.ref)return Bt(t,e,s)}return e.flags|=1,t=fr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Qf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ks(i,n)&&t.ref===e.ref)if(Be=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Be=!0);else return e.lanes=t.lanes,Bt(t,e,s)}return yl(t,e,r,n,s)}function Kf(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(un,qe),qe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(un,qe),qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ie(un,qe),qe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ie(un,qe),qe|=n;return $e(t,e,s,r),e.child}function Gf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yl(t,e,r,n,s){var i=Ve(r)?$r:Ae.current;return i=vn(e,i),pn(e,s),r=Rc(t,e,r,n,i,s),n=Tc(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bt(t,e,s)):(ce&&n&&xc(e),e.flags|=1,$e(t,e,r,s),e.child)}function md(t,e,r,n,s){if(Ve(r)){var i=!0;Yi(e)}else i=!1;if(pn(e,s),e.stateNode===null)$i(t,e),Hf(e,r,n),gl(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=st(u):(u=Ve(r)?$r:Ae.current,u=vn(e,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ld(e,o,n,u),Zt=!1;var f=e.memoizedState;o.state=f,ra(e,n,o,s),c=e.memoizedState,l!==n||f!==c||ze.current||Zt?(typeof d=="function"&&(ml(e,r,d,n),c=e.memoizedState),(l=Zt||od(e,r,l,n,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_f(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:lt(e.type,l),o.props=u,m=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=st(c):(c=Ve(r)?$r:Ae.current,c=vn(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&ld(e,o,n,c),Zt=!1,f=e.memoizedState,o.state=f,ra(e,n,o,s);var w=e.memoizedState;l!==m||f!==w||ze.current||Zt?(typeof y=="function"&&(ml(e,r,y,n),w=e.memoizedState),(u=Zt||od(e,r,u,n,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return xl(t,e,r,n,i,s)}function xl(t,e,r,n,s,i){Gf(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Zu(e,r,!1),Bt(t,e,i);n=e.stateNode,D0.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=bn(e,t.child,null,i),e.child=bn(e,null,l,i)):$e(t,e,l,i),e.memoizedState=n.state,s&&Zu(e,r,!0),e.child}function Jf(t){var e=t.stateNode;e.pendingContext?Xu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xu(t,e.context,!1),kc(t,e.containerInfo)}function gd(t,e,r,n,s){return wn(),wc(s),e.flags|=256,$e(t,e,r,n),e.child}var vl={dehydrated:null,treeContext:null,retryLane:0};function wl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yf(t,e,r){var n=e.pendingProps,s=de.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ie(de,s&1),t===null)return hl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pa(o,n,0,null),t=Lr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wl(r),e.memoizedState=vl,t):Lc(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return M0(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=fr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fr(l,i):(i=Lr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?wl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=vl,n}return i=t.child,t=i.sibling,n=fr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Lc(t,e){return e=Pa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mi(t,e,r,n){return n!==null&&wc(n),bn(e,t.child,null,r),t=Lc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M0(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=yo(Error(T(422))),mi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Pa({mode:"visible",children:n.children},s,0,null),i=Lr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&bn(e,t.child,null,o),e.child.memoizedState=wl(o),e.memoizedState=vl,i);if(!(e.mode&1))return mi(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=yo(i,n,void 0),mi(t,e,o,n)}if(l=(o&t.childLanes)!==0,Be||l){if(n=Ne,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ft(t,s),mt(n,t,s,-1))}return Fc(),n=yo(Error(T(421))),mi(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Y0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qe=cr(s.nextSibling),Ke=e,ce=!0,dt=null,t!==null&&(Ze[et++]=Lt,Ze[et++]=$t,Ze[et++]=Or,Lt=t.id,$t=t.overflow,Or=e),e=Lc(e,n.children),e.flags|=4096,e)}function pd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fl(t.return,e,r)}function xo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Xf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if($e(t,e,n.children,r),n=de.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pd(t,r,e);else if(t.tag===19)pd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ie(de,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&na(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),xo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&na(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}xo(e,!0,r,null,i);break;case"together":xo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $i(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=fr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=fr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function U0(t,e,r){switch(e.tag){case 3:Jf(e),wn();break;case 5:Nf(e);break;case 1:Ve(e.type)&&Yi(e);break;case 4:kc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ie(ea,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ie(de,de.current&1),e.flags|=128,null):r&e.child.childLanes?Yf(t,e,r):(ie(de,de.current&1),t=Bt(t,e,r),t!==null?t.sibling:null);ie(de,de.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ie(de,de.current),n)break;return null;case 22:case 23:return e.lanes=0,Kf(t,e,r)}return Bt(t,e,r)}var Zf,bl,em,tm;Zf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bl=function(){};em=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Tr(kt.current);var i=null;switch(r){case"input":s=Vo(t,s),n=Vo(t,n),i=[];break;case"select":s=fe({},s,{value:void 0}),n=fe({},n,{value:void 0}),i=[];break;case"textarea":s=qo(t,s),n=qo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Gi)}Ko(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};tm=function(t,e,r,n){r!==n&&(e.flags|=4)};function Jn(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function F0(t,e,r){var n=e.pendingProps;switch(vc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return Ve(e.type)&&Ji(),Re(e),null;case 3:return n=e.stateNode,jn(),oe(ze),oe(Ae),Cc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(hi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dt!==null&&(Pl(dt),dt=null))),bl(t,e),Re(e),null;case 5:Ec(e);var s=Tr(Ts.current);if(r=e.type,t!==null&&e.stateNode!=null)em(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return Re(e),null}if(t=Tr(kt.current),hi(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Nt]=e,n[Ps]=i,t=(e.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(s=0;s<ns.length;s++)ae(ns[s],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":Su(n,i),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ae("invalid",n);break;case"textarea":Eu(n,i),ae("invalid",n)}Ko(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&di(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&di(n.textContent,l,t),s=["children",""+l]):vs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",n)}switch(r){case"input":ni(n),ku(n,i,!0);break;case"textarea":ni(n),Cu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Gi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ch(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Nt]=e,t[Ps]=n,Zf(t,e,!1,!1),e.stateNode=t;e:{switch(o=Go(r,n),r){case"dialog":ae("cancel",t),ae("close",t),s=n;break;case"iframe":case"object":case"embed":ae("load",t),s=n;break;case"video":case"audio":for(s=0;s<ns.length;s++)ae(ns[s],t);s=n;break;case"source":ae("error",t),s=n;break;case"img":case"image":case"link":ae("error",t),ae("load",t),s=n;break;case"details":ae("toggle",t),s=n;break;case"input":Su(t,n),s=Vo(t,n),ae("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=fe({},n,{value:void 0}),ae("invalid",t);break;case"textarea":Eu(t,n),s=qo(t,n),ae("invalid",t);break;default:s=n}Ko(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Th(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ph(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ws(t,c):typeof c=="number"&&ws(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ae("scroll",t):c!=null&&sc(t,i,c,o))}switch(r){case"input":ni(t),ku(t,n,!1);break;case"textarea":ni(t),Cu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+mr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?hn(t,!!n.multiple,i,!1):n.defaultValue!=null&&hn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Re(e),null;case 6:if(t&&e.stateNode!=null)tm(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(r=Tr(Ts.current),Tr(kt.current),hi(e)){if(n=e.stateNode,r=e.memoizedProps,n[Nt]=e,(i=n.nodeValue!==r)&&(t=Ke,t!==null))switch(t.tag){case 3:di(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&di(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nt]=e,e.stateNode=n}return Re(e),null;case 13:if(oe(de),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&Qe!==null&&e.mode&1&&!(e.flags&128))vf(),wn(),e.flags|=98560,i=!1;else if(i=hi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Nt]=e}else wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),i=!1}else dt!==null&&(Pl(dt),dt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?be===0&&(be=3):Fc())),e.updateQueue!==null&&(e.flags|=4),Re(e),null);case 4:return jn(),bl(t,e),t===null&&Es(e.stateNode.containerInfo),Re(e),null;case 10:return _c(e.type._context),Re(e),null;case 17:return Ve(e.type)&&Ji(),Re(e),null;case 19:if(oe(de),i=e.memoizedState,i===null)return Re(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Jn(i,!1);else{if(be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=na(t),o!==null){for(e.flags|=128,Jn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ie(de,de.current&1|2),e.child}t=t.sibling}i.tail!==null&&ge()>Nn&&(e.flags|=128,n=!0,Jn(i,!1),e.lanes=4194304)}else{if(!n)if(t=na(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ce)return Re(e),null}else 2*ge()-i.renderingStartTime>Nn&&r!==1073741824&&(e.flags|=128,n=!0,Jn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ge(),e.sibling=null,r=de.current,ie(de,n?r&1|2:r&1),e):(Re(e),null);case 22:case 23:return Uc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qe&1073741824&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function B0(t,e){switch(vc(e),e.tag){case 1:return Ve(e.type)&&Ji(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jn(),oe(ze),oe(Ae),Cc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ec(e),null;case 13:if(oe(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(de),null;case 4:return jn(),null;case 10:return _c(e.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var gi=!1,Te=!1,z0=typeof WeakSet=="function"?WeakSet:Set,D=null;function cn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(t,e,n)}else r.current=null}function jl(t,e,r){try{r()}catch(n){me(t,e,n)}}var yd=!1;function V0(t,e){if(il=qi,t=af(),yc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=t,f=null;t:for(;;){for(var y;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===t)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(al={focusedElem:t,selectionRange:r},qi=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var j=w.memoizedProps,b=w.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?j:lt(e.type,j),b);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(x){me(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return w=yd,yd=!1,w}function ds(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jl(e,r,i)}s=s.next}while(s!==n)}}function Ea(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _l(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rm(t){var e=t.alternate;e!==null&&(t.alternate=null,rm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nt],delete e[Ps],delete e[cl],delete e[S0],delete e[k0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nm(t){return t.tag===5||t.tag===3||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Gi));else if(n!==4&&(t=t.child,t!==null))for(Nl(t,e,r),t=t.sibling;t!==null;)Nl(t,e,r),t=t.sibling}function Sl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Sl(t,e,r),t=t.sibling;t!==null;)Sl(t,e,r),t=t.sibling}var ke=null,ct=!1;function Qt(t,e,r){for(r=r.child;r!==null;)sm(t,e,r),r=r.sibling}function sm(t,e,r){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(va,r)}catch{}switch(r.tag){case 5:Te||cn(r,e);case 6:var n=ke,s=ct;ke=null,Qt(t,e,r),ke=n,ct=s,ke!==null&&(ct?(t=ke,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ke.removeChild(r.stateNode));break;case 18:ke!==null&&(ct?(t=ke,r=r.stateNode,t.nodeType===8?uo(t.parentNode,r):t.nodeType===1&&uo(t,r),Ns(t)):uo(ke,r.stateNode));break;case 4:n=ke,s=ct,ke=r.stateNode.containerInfo,ct=!0,Qt(t,e,r),ke=n,ct=s;break;case 0:case 11:case 14:case 15:if(!Te&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jl(r,e,o),s=s.next}while(s!==n)}Qt(t,e,r);break;case 1:if(!Te&&(cn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){me(r,e,l)}Qt(t,e,r);break;case 21:Qt(t,e,r);break;case 22:r.mode&1?(Te=(n=Te)||r.memoizedState!==null,Qt(t,e,r),Te=n):Qt(t,e,r);break;default:Qt(t,e,r)}}function vd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new z0),e.forEach(function(n){var s=X0.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function at(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ke=l.stateNode,ct=!1;break e;case 3:ke=l.stateNode.containerInfo,ct=!0;break e;case 4:ke=l.stateNode.containerInfo,ct=!0;break e}l=l.return}if(ke===null)throw Error(T(160));sm(i,o,s),ke=null,ct=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)im(e,t),e=e.sibling}function im(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(at(e,t),bt(t),n&4){try{ds(3,t,t.return),Ea(3,t)}catch(j){me(t,t.return,j)}try{ds(5,t,t.return)}catch(j){me(t,t.return,j)}}break;case 1:at(e,t),bt(t),n&512&&r!==null&&cn(r,r.return);break;case 5:if(at(e,t),bt(t),n&512&&r!==null&&cn(r,r.return),t.flags&32){var s=t.stateNode;try{ws(s,"")}catch(j){me(t,t.return,j)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&kh(s,i),Go(l,o);var u=Go(l,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?Th(s,m):d==="dangerouslySetInnerHTML"?Ph(s,m):d==="children"?ws(s,m):sc(s,d,m,u)}switch(l){case"input":Ho(s,i);break;case"textarea":Eh(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?hn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?hn(s,!!i.multiple,i.defaultValue,!0):hn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ps]=i}catch(j){me(t,t.return,j)}}break;case 6:if(at(e,t),bt(t),n&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(j){me(t,t.return,j)}}break;case 3:if(at(e,t),bt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ns(e.containerInfo)}catch(j){me(t,t.return,j)}break;case 4:at(e,t),bt(t);break;case 13:at(e,t),bt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dc=ge())),n&4&&vd(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Te=(u=Te)||d,at(e,t),Te=u):at(e,t),bt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(m=D=d;D!==null;){switch(f=D,y=f.child,f.tag){case 0:case 11:case 14:case 15:ds(4,f,f.return);break;case 1:cn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(j){me(n,r,j)}}break;case 5:cn(f,f.return);break;case 22:if(f.memoizedState!==null){bd(m);continue}}y!==null?(y.return=f,D=y):bd(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Rh("display",o))}catch(j){me(t,t.return,j)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(j){me(t,t.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:at(e,t),bt(t),n&4&&vd(t);break;case 21:break;default:at(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nm(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ws(s,""),n.flags&=-33);var i=xd(t);Sl(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=xd(t);Nl(t,l,o);break;default:throw Error(T(161))}}catch(c){me(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H0(t,e,r){D=t,am(t)}function am(t,e,r){for(var n=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||gi;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Te;l=gi;var u=Te;if(gi=o,(Te=c)&&!u)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?jd(s):c!==null?(c.return=o,D=c):jd(s);for(;i!==null;)D=i,am(i),i=i.sibling;D=s,gi=l,Te=u}wd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):wd(t)}}function wd(t){for(;D!==null;){var e=D;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||Ea(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Te)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:lt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sd(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sd(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ns(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Te||e.flags&512&&_l(e)}catch(f){me(e,e.return,f)}}if(e===t){D=null;break}if(r=e.sibling,r!==null){r.return=e.return,D=r;break}D=e.return}}function bd(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var r=e.sibling;if(r!==null){r.return=e.return,D=r;break}D=e.return}}function jd(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ea(4,e)}catch(c){me(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){me(e,s,c)}}var i=e.return;try{_l(e)}catch(c){me(e,i,c)}break;case 5:var o=e.return;try{_l(e)}catch(c){me(e,o,c)}}}catch(c){me(e,e.return,c)}if(e===t){D=null;break}var l=e.sibling;if(l!==null){l.return=e.return,D=l;break}D=e.return}}var W0=Math.ceil,aa=Ht.ReactCurrentDispatcher,$c=Ht.ReactCurrentOwner,rt=Ht.ReactCurrentBatchConfig,Z=0,Ne=null,pe=null,Ee=0,qe=0,un=yr(0),be=0,$s=null,Mr=0,Ca=0,Oc=0,hs=null,Ue=null,Dc=0,Nn=1/0,Tt=null,oa=!1,kl=null,dr=null,pi=!1,sr=null,la=0,fs=0,El=null,Oi=-1,Di=0;function Oe(){return Z&6?ge():Oi!==-1?Oi:Oi=ge()}function hr(t){return t.mode&1?Z&2&&Ee!==0?Ee&-Ee:C0.transition!==null?(Di===0&&(Di=Vh()),Di):(t=te,t!==0||(t=window.event,t=t===void 0?16:Jh(t.type)),t):1}function mt(t,e,r,n){if(50<fs)throw fs=0,El=null,Error(T(185));Vs(t,r,n),(!(Z&2)||t!==Ne)&&(t===Ne&&(!(Z&2)&&(Ca|=r),be===4&&tr(t,Ee)),He(t,n),r===1&&Z===0&&!(e.mode&1)&&(Nn=ge()+500,Na&&xr()))}function He(t,e){var r=t.callbackNode;Cp(t,e);var n=Wi(t,t===Ne?Ee:0);if(n===0)r!==null&&Tu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Tu(r),e===1)t.tag===0?E0(_d.bind(null,t)):pf(_d.bind(null,t)),_0(function(){!(Z&6)&&xr()}),r=null;else{switch(Hh(n)){case 1:r=cc;break;case 4:r=Bh;break;case 16:r=Hi;break;case 536870912:r=zh;break;default:r=Hi}r=mm(r,om.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function om(t,e){if(Oi=-1,Di=0,Z&6)throw Error(T(327));var r=t.callbackNode;if(yn()&&t.callbackNode!==r)return null;var n=Wi(t,t===Ne?Ee:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ca(t,n);else{e=n;var s=Z;Z|=2;var i=cm();(Ne!==t||Ee!==e)&&(Tt=null,Nn=ge()+500,Ir(t,e));do try{K0();break}catch(l){lm(t,l)}while(!0);jc(),aa.current=i,Z=s,pe!==null?e=0:(Ne=null,Ee=0,e=be)}if(e!==0){if(e===2&&(s=el(t),s!==0&&(n=s,e=Cl(t,s))),e===1)throw r=$s,Ir(t,0),tr(t,n),He(t,ge()),r;if(e===6)tr(t,n);else{if(s=t.current.alternate,!(n&30)&&!q0(s)&&(e=ca(t,n),e===2&&(i=el(t),i!==0&&(n=i,e=Cl(t,i))),e===1))throw r=$s,Ir(t,0),tr(t,n),He(t,ge()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:kr(t,Ue,Tt);break;case 3:if(tr(t,n),(n&130023424)===n&&(e=Dc+500-ge(),10<e)){if(Wi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Oe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ll(kr.bind(null,t,Ue,Tt),e);break}kr(t,Ue,Tt);break;case 4:if(tr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-ft(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W0(n/1960))-n,10<n){t.timeoutHandle=ll(kr.bind(null,t,Ue,Tt),n);break}kr(t,Ue,Tt);break;case 5:kr(t,Ue,Tt);break;default:throw Error(T(329))}}}return He(t,ge()),t.callbackNode===r?om.bind(null,t):null}function Cl(t,e){var r=hs;return t.current.memoizedState.isDehydrated&&(Ir(t,e).flags|=256),t=ca(t,e),t!==2&&(e=Ue,Ue=r,e!==null&&Pl(e)),t}function Pl(t){Ue===null?Ue=t:Ue.push.apply(Ue,t)}function q0(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tr(t,e){for(e&=~Oc,e&=~Ca,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ft(e),n=1<<r;t[r]=-1,e&=~n}}function _d(t){if(Z&6)throw Error(T(327));yn();var e=Wi(t,0);if(!(e&1))return He(t,ge()),null;var r=ca(t,e);if(t.tag!==0&&r===2){var n=el(t);n!==0&&(e=n,r=Cl(t,n))}if(r===1)throw r=$s,Ir(t,0),tr(t,e),He(t,ge()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,Ue,Tt),He(t,ge()),null}function Mc(t,e){var r=Z;Z|=1;try{return t(e)}finally{Z=r,Z===0&&(Nn=ge()+500,Na&&xr())}}function Ur(t){sr!==null&&sr.tag===0&&!(Z&6)&&yn();var e=Z;Z|=1;var r=rt.transition,n=te;try{if(rt.transition=null,te=1,t)return t()}finally{te=n,rt.transition=r,Z=e,!(Z&6)&&xr()}}function Uc(){qe=un.current,oe(un)}function Ir(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,j0(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(vc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ji();break;case 3:jn(),oe(ze),oe(Ae),Cc();break;case 5:Ec(n);break;case 4:jn();break;case 13:oe(de);break;case 19:oe(de);break;case 10:_c(n.type._context);break;case 22:case 23:Uc()}r=r.return}if(Ne=t,pe=t=fr(t.current,null),Ee=qe=e,be=0,$s=null,Oc=Ca=Mr=0,Ue=hs=null,Rr!==null){for(e=0;e<Rr.length;e++)if(r=Rr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Rr=null}return t}function lm(t,e){do{var r=pe;try{if(jc(),Ii.current=ia,sa){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sa=!1}if(Dr=0,_e=we=he=null,us=!1,As=0,$c.current=null,r===null||r.return===null){be=1,$s=e,pe=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=Ee,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ud(o);if(y!==null){y.flags&=-257,dd(y,o,l,i,e),y.mode&1&&cd(i,u,e),e=y,c=u;var w=e.updateQueue;if(w===null){var j=new Set;j.add(c),e.updateQueue=j}else w.add(c);break e}else{if(!(e&1)){cd(i,u,e),Fc();break e}c=Error(T(426))}}else if(ce&&l.mode&1){var b=ud(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dd(b,o,l,i,e),wc(_n(c,l));break e}}i=c=_n(c,l),be!==4&&(be=2),hs===null?hs=[i]:hs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Wf(i,c,e);nd(i,p);break e;case 1:l=c;var g=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(dr===null||!dr.has(h)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=qf(i,l,e);nd(i,x);break e}}i=i.return}while(i!==null)}dm(r)}catch(k){e=k,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function cm(){var t=aa.current;return aa.current=ia,t===null?ia:t}function Fc(){(be===0||be===3||be===2)&&(be=4),Ne===null||!(Mr&268435455)&&!(Ca&268435455)||tr(Ne,Ee)}function ca(t,e){var r=Z;Z|=2;var n=cm();(Ne!==t||Ee!==e)&&(Tt=null,Ir(t,e));do try{Q0();break}catch(s){lm(t,s)}while(!0);if(jc(),Z=r,aa.current=n,pe!==null)throw Error(T(261));return Ne=null,Ee=0,be}function Q0(){for(;pe!==null;)um(pe)}function K0(){for(;pe!==null&&!vp();)um(pe)}function um(t){var e=fm(t.alternate,t,qe);t.memoizedProps=t.pendingProps,e===null?dm(t):pe=e,$c.current=null}function dm(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=B0(r,e),r!==null){r.flags&=32767,pe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,pe=null;return}}else if(r=F0(r,e,qe),r!==null){pe=r;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);be===0&&(be=5)}function kr(t,e,r){var n=te,s=rt.transition;try{rt.transition=null,te=1,G0(t,e,r,n)}finally{rt.transition=s,te=n}return null}function G0(t,e,r,n){do yn();while(sr!==null);if(Z&6)throw Error(T(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Pp(t,i),t===Ne&&(pe=Ne=null,Ee=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pi||(pi=!0,mm(Hi,function(){return yn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var o=te;te=1;var l=Z;Z|=4,$c.current=null,V0(t,r),im(r,t),g0(al),qi=!!il,al=il=null,t.current=r,H0(r),wp(),Z=l,te=o,rt.transition=i}else t.current=r;if(pi&&(pi=!1,sr=t,la=s),i=t.pendingLanes,i===0&&(dr=null),_p(r.stateNode),He(t,ge()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(oa)throw oa=!1,t=kl,kl=null,t;return la&1&&t.tag!==0&&yn(),i=t.pendingLanes,i&1?t===El?fs++:(fs=0,El=t):fs=0,xr(),null}function yn(){if(sr!==null){var t=Hh(la),e=rt.transition,r=te;try{if(rt.transition=null,te=16>t?16:t,sr===null)var n=!1;else{if(t=sr,sr=null,la=0,Z&6)throw Error(T(331));var s=Z;for(Z|=4,D=t.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:ds(8,d,i)}var m=d.child;if(m!==null)m.return=d,D=m;else for(;D!==null;){d=D;var f=d.sibling,y=d.return;if(rm(d),d===u){D=null;break}if(f!==null){f.return=y,D=f;break}D=y}}}var w=i.alternate;if(w!==null){var j=w.child;if(j!==null){w.child=null;do{var b=j.sibling;j.sibling=null,j=b}while(j!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ds(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,D=p;break e}D=i.return}}var g=t.current;for(D=g;D!==null;){o=D;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,D=h;else e:for(o=g;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ea(9,l)}}catch(k){me(l,l.return,k)}if(l===o){D=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,D=x;break e}D=l.return}}if(Z=s,xr(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(va,t)}catch{}n=!0}return n}finally{te=r,rt.transition=e}}return!1}function Nd(t,e,r){e=_n(r,e),e=Wf(t,e,1),t=ur(t,e,1),e=Oe(),t!==null&&(Vs(t,1,e),He(t,e))}function me(t,e,r){if(t.tag===3)Nd(t,t,r);else for(;e!==null;){if(e.tag===3){Nd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dr===null||!dr.has(n))){t=_n(r,t),t=qf(e,t,1),e=ur(e,t,1),t=Oe(),e!==null&&(Vs(e,1,t),He(e,t));break}}e=e.return}}function J0(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&r,Ne===t&&(Ee&r)===r&&(be===4||be===3&&(Ee&130023424)===Ee&&500>ge()-Dc?Ir(t,0):Oc|=r),He(t,e)}function hm(t,e){e===0&&(t.mode&1?(e=ai,ai<<=1,!(ai&130023424)&&(ai=4194304)):e=1);var r=Oe();t=Ft(t,e),t!==null&&(Vs(t,e,r),He(t,r))}function Y0(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hm(t,r)}function X0(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),hm(t,r)}var fm;fm=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ze.current)Be=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Be=!1,U0(t,e,r);Be=!!(t.flags&131072)}else Be=!1,ce&&e.flags&1048576&&yf(e,Zi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$i(t,e),t=e.pendingProps;var s=vn(e,Ae.current);pn(e,r),s=Rc(null,e,n,t,s,r);var i=Tc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ve(n)?(i=!0,Yi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sc(e),s.updater=ka,e.stateNode=s,s._reactInternals=e,gl(e,n,t,r),e=xl(null,e,n,!0,i,r)):(e.tag=0,ce&&i&&xc(e),$e(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch($i(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ey(n),t=lt(n,t),s){case 0:e=yl(null,e,n,t,r);break e;case 1:e=md(null,e,n,t,r);break e;case 11:e=hd(null,e,n,t,r);break e;case 14:e=fd(null,e,n,lt(n.type,t),r);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:lt(n,s),yl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:lt(n,s),md(t,e,n,s,r);case 3:e:{if(Jf(e),t===null)throw Error(T(387));n=e.pendingProps,i=e.memoizedState,s=i.element,_f(t,e),ra(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=_n(Error(T(423)),e),e=gd(t,e,n,r,s);break e}else if(n!==s){s=_n(Error(T(424)),e),e=gd(t,e,n,r,s);break e}else for(Qe=cr(e.stateNode.containerInfo.firstChild),Ke=e,ce=!0,dt=null,r=bf(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wn(),n===s){e=Bt(t,e,r);break e}$e(t,e,n,r)}e=e.child}return e;case 5:return Nf(e),t===null&&hl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ol(n,s)?o=null:i!==null&&ol(n,i)&&(e.flags|=32),Gf(t,e),$e(t,e,o,r),e.child;case 6:return t===null&&hl(e),null;case 13:return Yf(t,e,r);case 4:return kc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=bn(e,null,n,r):$e(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:lt(n,s),hd(t,e,n,s,r);case 7:return $e(t,e,e.pendingProps,r),e.child;case 8:return $e(t,e,e.pendingProps.children,r),e.child;case 12:return $e(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ie(ea,n._currentValue),n._currentValue=o,i!==null)if(pt(i.value,o)){if(i.children===s.children&&!ze.current){e=Bt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ot(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),fl(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),fl(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$e(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,pn(e,r),s=st(s),n=n(s),e.flags|=1,$e(t,e,n,r),e.child;case 14:return n=e.type,s=lt(n,e.pendingProps),s=lt(n.type,s),fd(t,e,n,s,r);case 15:return Qf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:lt(n,s),$i(t,e),e.tag=1,Ve(n)?(t=!0,Yi(e)):t=!1,pn(e,r),Hf(e,n,s),gl(e,n,s,r),xl(null,e,n,!0,t,r);case 19:return Xf(t,e,r);case 22:return Kf(t,e,r)}throw Error(T(156,e.tag))};function mm(t,e){return Fh(t,e)}function Z0(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,r,n){return new Z0(t,e,r,n)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ey(t){if(typeof t=="function")return Bc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ac)return 11;if(t===oc)return 14}return 2}function fr(t,e){var r=t.alternate;return r===null?(r=tt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Mi(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Bc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zr:return Lr(r.children,s,i,e);case ic:o=8,s|=8;break;case Uo:return t=tt(12,r,e,s|2),t.elementType=Uo,t.lanes=i,t;case Fo:return t=tt(13,r,e,s),t.elementType=Fo,t.lanes=i,t;case Bo:return t=tt(19,r,e,s),t.elementType=Bo,t.lanes=i,t;case _h:return Pa(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bh:o=10;break e;case jh:o=9;break e;case ac:o=11;break e;case oc:o=14;break e;case Xt:o=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=tt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Lr(t,e,r,n){return t=tt(7,t,n,e),t.lanes=r,t}function Pa(t,e,r,n){return t=tt(22,t,n,e),t.elementType=_h,t.lanes=r,t.stateNode={isHidden:!1},t}function vo(t,e,r){return t=tt(6,t,null,e),t.lanes=r,t}function wo(t,e,r){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ty(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zc(t,e,r,n,s,i,o,l,c){return t=new ty(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(i),t}function ry(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gm(t){if(!t)return gr;t=t._reactInternals;e:{if(Br(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ve(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(Ve(r))return gf(t,r,e)}return e}function pm(t,e,r,n,s,i,o,l,c){return t=zc(r,n,!0,t,s,i,o,l,c),t.context=gm(null),r=t.current,n=Oe(),s=hr(r),i=Ot(n,s),i.callback=e??null,ur(r,i,s),t.current.lanes=s,Vs(t,s,n),He(t,n),t}function Ra(t,e,r,n){var s=e.current,i=Oe(),o=hr(s);return r=gm(r),e.context===null?e.context=r:e.pendingContext=r,e=Ot(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ur(s,e,o),t!==null&&(mt(t,s,o,i),Ai(t,s,o)),o}function ua(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Vc(t,e){Sd(t,e),(t=t.alternate)&&Sd(t,e)}function ny(){return null}var ym=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hc(t){this._internalRoot=t}Ta.prototype.render=Hc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Ra(t,e,null,null)};Ta.prototype.unmount=Hc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ur(function(){Ra(null,t,null,null)}),e[Ut]=null}};function Ta(t){this._internalRoot=t}Ta.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<er.length&&e!==0&&e<er[r].priority;r++);er.splice(r,0,t),r===0&&Gh(t)}};function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Aa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kd(){}function sy(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ua(o);i.call(u)}}var o=pm(e,n,t,0,null,!1,!1,"",kd);return t._reactRootContainer=o,t[Ut]=o.current,Es(t.nodeType===8?t.parentNode:t),Ur(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ua(c);l.call(u)}}var c=zc(t,0,!1,null,null,!1,!1,"",kd);return t._reactRootContainer=c,t[Ut]=c.current,Es(t.nodeType===8?t.parentNode:t),Ur(function(){Ra(e,c,r,n)}),c}function Ia(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ua(o);l.call(c)}}Ra(e,o,t,s)}else o=sy(r,e,t,s,n);return ua(o)}Wh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=rs(e.pendingLanes);r!==0&&(uc(e,r|1),He(e,ge()),!(Z&6)&&(Nn=ge()+500,xr()))}break;case 13:Ur(function(){var n=Ft(t,1);if(n!==null){var s=Oe();mt(n,t,1,s)}}),Vc(t,1)}};dc=function(t){if(t.tag===13){var e=Ft(t,134217728);if(e!==null){var r=Oe();mt(e,t,134217728,r)}Vc(t,134217728)}};qh=function(t){if(t.tag===13){var e=hr(t),r=Ft(t,e);if(r!==null){var n=Oe();mt(r,t,e,n)}Vc(t,e)}};Qh=function(){return te};Kh=function(t,e){var r=te;try{return te=t,e()}finally{te=r}};Yo=function(t,e,r){switch(e){case"input":if(Ho(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=_a(n);if(!s)throw Error(T(90));Sh(n),Ho(n,s)}}}break;case"textarea":Eh(t,r);break;case"select":e=r.value,e!=null&&hn(t,!!r.multiple,e,!1)}};Lh=Mc;$h=Ur;var iy={usingClientEntryPoint:!1,Events:[Ws,nn,_a,Ah,Ih,Mc]},Yn={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ay={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mh(t),t===null?null:t.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{va=yi.inject(ay),St=yi}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iy;Je.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(e))throw Error(T(200));return ry(t,e,null,r)};Je.createRoot=function(t,e){if(!Wc(t))throw Error(T(299));var r=!1,n="",s=ym;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zc(t,1,!1,null,null,r,!1,n,s),t[Ut]=e.current,Es(t.nodeType===8?t.parentNode:t),new Hc(e)};Je.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Mh(e),t=t===null?null:t.stateNode,t};Je.flushSync=function(t){return Ur(t)};Je.hydrate=function(t,e,r){if(!Aa(e))throw Error(T(200));return Ia(null,t,e,!0,r)};Je.hydrateRoot=function(t,e,r){if(!Wc(t))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ym;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=pm(e,null,t,1,r??null,s,!1,i,o),t[Ut]=e.current,Es(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ta(e)};Je.render=function(t,e,r){if(!Aa(e))throw Error(T(200));return Ia(null,t,e,!1,r)};Je.unmountComponentAtNode=function(t){if(!Aa(t))throw Error(T(40));return t._reactRootContainer?(Ur(function(){Ia(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};Je.unstable_batchedUpdates=Mc;Je.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Aa(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Ia(t,e,r,!1,n)};Je.version="18.3.1-next-f1338f8080-20240426";function xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xm)}catch(t){console.error(t)}}xm(),yh.exports=Je;var oy=yh.exports,vm,Ed=oy;vm=Ed.createRoot,Ed.hydrateRoot;/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cd="popstate";function ly(t={}){function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return Rl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Os(s)}return uy(e,r,null,t)}function ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cy(){return Math.random().toString(36).substring(2,10)}function Pd(t,e){return{usr:t.state,key:t.key,idx:e}}function Rl(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ln(e):e,state:r,key:e&&e.key||n||cy()}}function Os({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ln(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function uy(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function m(){l="POP";let b=d(),p=b==null?null:b-u;u=b,c&&c({action:l,location:j.location,delta:p})}function f(b,p){l="PUSH";let g=Rl(j.location,b,p);u=d()+1;let h=Pd(g,u),x=j.createHref(g);try{o.pushState(h,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}i&&c&&c({action:l,location:j.location,delta:1})}function y(b,p){l="REPLACE";let g=Rl(j.location,b,p);u=d();let h=Pd(g,u),x=j.createHref(g);o.replaceState(h,"",x),i&&c&&c({action:l,location:j.location,delta:0})}function w(b){return dy(b)}let j={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Cd,m),c=b,()=>{s.removeEventListener(Cd,m),c=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let p=w(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:y,go(b){return o.go(b)}};return j}function dy(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ue(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Os(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function wm(t,e,r="/"){return hy(t,e,r,!1)}function hy(t,e,r,n){let s=typeof e=="string"?Ln(e):e,i=zt(s.pathname||"/",r);if(i==null)return null;let o=bm(t);fy(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ny(i);l=jy(o[c],u,n)}return l}function bm(t,e=[],r=[],n="",s=!1){let i=(o,l,c=s,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;ue(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let m=Dt([n,d.relativePath]),f=r.concat(d);o.children&&o.children.length>0&&(ue(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),bm(o.children,e,f,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:wy(m,o.index),routesMeta:f})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of jm(o.path))i(o,l,!0,u)}),e}function jm(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=jm(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function fy(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:by(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var my=/^:[\w-]+$/,gy=3,py=2,yy=1,xy=10,vy=-2,Rd=t=>t==="*";function wy(t,e){let r=t.split("/"),n=r.length;return r.some(Rd)&&(n+=vy),e&&(n+=py),r.filter(s=>!Rd(s)).reduce((s,i)=>s+(my.test(i)?gy:i===""?yy:xy),n)}function by(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function jy(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",m=da({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=da({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Dt([i,m.pathname]),pathnameBase:Cy(Dt([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=Dt([i,m.pathnameBase]))}return o}function da(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=_y(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:m},f)=>{if(d==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function _y(t,e=!1,r=!0){yt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Ny(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Sy(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ln(t):t;return{pathname:r?r.startsWith("/")?r:ky(r,e):e,search:Py(n),hash:Ry(s)}}function ky(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function bo(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ey(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qc(t){let e=Ey(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Qc(t,e,r,n=!1){let s;typeof t=="string"?s=Ln(t):(s={...t},ue(!s.pathname||!s.pathname.includes("?"),bo("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),bo("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),bo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?e[m]:"/"}let c=Sy(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Dt=t=>t.join("/").replace(/\/\/+/g,"/"),Cy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Py=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ry=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ty(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _m=["POST","PUT","PATCH","DELETE"];new Set(_m);var Ay=["GET",..._m];new Set(Ay);var $n=v.createContext(null);$n.displayName="DataRouter";var La=v.createContext(null);La.displayName="DataRouterState";v.createContext(!1);var Nm=v.createContext({isTransitioning:!1});Nm.displayName="ViewTransition";var Iy=v.createContext(new Map);Iy.displayName="Fetchers";var Ly=v.createContext(null);Ly.displayName="Await";var wt=v.createContext(null);wt.displayName="Navigation";var Qs=v.createContext(null);Qs.displayName="Location";var Ct=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ct.displayName="Route";var Kc=v.createContext(null);Kc.displayName="RouteError";function $y(t,{relative:e}={}){ue(On(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(wt),{hash:s,pathname:i,search:o}=Ks(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:Dt([r,i])),n.createHref({pathname:l,search:o,hash:s})}function On(){return v.useContext(Qs)!=null}function vr(){return ue(On(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Qs).location}var Sm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function km(t){v.useContext(wt).static||v.useLayoutEffect(t)}function zr(){let{isDataRoute:t}=v.useContext(Ct);return t?Ky():Oy()}function Oy(){ue(On(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext($n),{basename:e,navigator:r}=v.useContext(wt),{matches:n}=v.useContext(Ct),{pathname:s}=vr(),i=JSON.stringify(qc(n)),o=v.useRef(!1);return km(()=>{o.current=!0}),v.useCallback((c,u={})=>{if(yt(o.current,Sm),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Qc(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Dt([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,i,s,t])}v.createContext(null);function Ks(t,{relative:e}={}){let{matches:r}=v.useContext(Ct),{pathname:n}=vr(),s=JSON.stringify(qc(r));return v.useMemo(()=>Qc(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Dy(t,e){return Em(t,e)}function Em(t,e,r,n,s){var g;ue(On(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(wt),{matches:o}=v.useContext(Ct),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let h=m&&m.path||"";Cm(u,!m||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let f=vr(),y;if(e){let h=typeof e=="string"?Ln(e):e;ue(d==="/"||((g=h.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${h.pathname}" was given in the \`location\` prop.`),y=h}else y=f;let w=y.pathname||"/",j=w;if(d!=="/"){let h=d.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(h.length).join("/")}let b=wm(t,{pathname:j});yt(m||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),yt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=zy(b&&b.map(h=>Object.assign({},h,{params:Object.assign({},c,h.params),pathname:Dt([d,i.encodeLocation?i.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:Dt([d,i.encodeLocation?i.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),o,r,n,s);return e&&p?v.createElement(Qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},p):p}function My(){let t=Qy(),e=Ty(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:s},r):null,o)}var Uy=v.createElement(My,null),Fy=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(Ct.Provider,{value:this.props.routeContext},v.createElement(Kc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function By({routeContext:t,match:e,children:r}){let n=v.useContext($n);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(Ct.Provider,{value:t},r)}function zy(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ue(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:m,errors:f}=r,y=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,m)=>{let f,y=!1,w=null,j=null;r&&(f=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||Uy,l&&(c<0&&m===0?(Cm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):c===m&&(y=!0,j=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),p=()=>{let g;return f?g=w:y?g=j:d.route.Component?g=v.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=u,v.createElement(By,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?v.createElement(Fy,{location:r.location,revalidation:r.revalidation,component:w,error:f,children:p(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):p()},null)}function Gc(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vy(t){let e=v.useContext($n);return ue(e,Gc(t)),e}function Hy(t){let e=v.useContext(La);return ue(e,Gc(t)),e}function Wy(t){let e=v.useContext(Ct);return ue(e,Gc(t)),e}function Jc(t){let e=Wy(t),r=e.matches[e.matches.length-1];return ue(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function qy(){return Jc("useRouteId")}function Qy(){var n;let t=v.useContext(Kc),e=Hy("useRouteError"),r=Jc("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Ky(){let{router:t}=Vy("useNavigate"),e=Jc("useNavigate"),r=v.useRef(!1);return km(()=>{r.current=!0}),v.useCallback(async(s,i={})=>{yt(r.current,Sm),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Td={};function Cm(t,e,r){!e&&!Td[t]&&(Td[t]=!0,yt(!1,r))}v.memo(Gy);function Gy({routes:t,future:e,state:r,unstable_onError:n}){return Em(t,void 0,r,n,e)}function ha({to:t,replace:e,state:r,relative:n}){ue(On(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(wt);yt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(Ct),{pathname:o}=vr(),l=zr(),c=Qc(t,qc(i),o,n==="path"),u=JSON.stringify(c);return v.useEffect(()=>{l(JSON.parse(u),{replace:e,state:r,relative:n})},[l,u,n,e,r]),null}function Le(t){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jy({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){ue(!On(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Ln(r));let{pathname:c="/",search:u="",hash:d="",state:m=null,key:f="default"}=r,y=v.useMemo(()=>{let w=zt(c,o);return w==null?null:{location:{pathname:w,search:u,hash:d,state:m,key:f},navigationType:n}},[o,c,u,d,m,f,n]);return yt(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement(wt.Provider,{value:l},v.createElement(Qs.Provider,{children:e,value:y}))}function Yy({children:t,location:e}){return Dy(Tl(t),e)}function Tl(t,e=[]){let r=[];return v.Children.forEach(t,(n,s)=>{if(!v.isValidElement(n))return;let i=[...e,s];if(n.type===v.Fragment){r.push.apply(r,Tl(n.props.children,i));return}ue(n.type===Le,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Tl(n.props.children,i)),r.push(o)}),r}var Ui="get",Fi="application/x-www-form-urlencoded";function $a(t){return t!=null&&typeof t.tagName=="string"}function Xy(t){return $a(t)&&t.tagName.toLowerCase()==="button"}function Zy(t){return $a(t)&&t.tagName.toLowerCase()==="form"}function ex(t){return $a(t)&&t.tagName.toLowerCase()==="input"}function tx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rx(t,e){return t.button===0&&(!e||e==="_self")&&!tx(t)}var xi=null;function nx(){if(xi===null)try{new FormData(document.createElement("form"),0),xi=!1}catch{xi=!0}return xi}var sx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jo(t){return t!=null&&!sx.has(t)?(yt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fi}"`),null):t}function ix(t,e){let r,n,s,i,o;if(Zy(t)){let l=t.getAttribute("action");n=l?zt(l,e):null,r=t.getAttribute("method")||Ui,s=jo(t.getAttribute("enctype"))||Fi,i=new FormData(t)}else if(Xy(t)||ex(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?zt(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Ui,s=jo(t.getAttribute("formenctype"))||jo(l.getAttribute("enctype"))||Fi,i=new FormData(l,t),!nx()){let{name:u,type:d,value:m}=t;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,m)}}else{if($a(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ui,n=null,s=Fi,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yc(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ax(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&zt(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function ox(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cx(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await ox(i,r);return o.links?o.links():[]}return[]}));return fx(n.flat(1).filter(lx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ad(t,e,r,n,s,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{var m;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function ux(t,e,{includeHydrateFallback:r}={}){return dx(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function dx(t){return[...new Set(t)]}function hx(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function fx(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(hx(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Pm(){let t=v.useContext($n);return Yc(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mx(){let t=v.useContext(La);return Yc(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xc=v.createContext(void 0);Xc.displayName="FrameworkContext";function Rm(){let t=v.useContext(Xc);return Yc(t,"You must render this element inside a <HydratedRouter> element"),t}function gx(t,e){let r=v.useContext(Xc),[n,s]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:m}=e,f=v.useRef(null);v.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let j=p=>{p.forEach(g=>{o(g.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),v.useEffect(()=>{if(n){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[n]);let y=()=>{s(!0)},w=()=>{s(!1),o(!1)};return r?t!=="intent"?[i,f,{}]:[i,f,{onFocus:Xn(l,y),onBlur:Xn(c,w),onMouseEnter:Xn(u,y),onMouseLeave:Xn(d,w),onTouchStart:Xn(m,y)}]:[!1,f,{}]}function Xn(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function px({page:t,...e}){let{router:r}=Pm(),n=v.useMemo(()=>wm(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?v.createElement(xx,{page:t,matches:n,...e}):null}function yx(t){let{manifest:e,routeModules:r}=Rm(),[n,s]=v.useState([]);return v.useEffect(()=>{let i=!1;return cx(t,e,r).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,r]),n}function xx({page:t,matches:e,...r}){let n=vr(),{manifest:s,routeModules:i}=Rm(),{basename:o}=Pm(),{loaderData:l,matches:c}=mx(),u=v.useMemo(()=>Ad(t,e,c,s,n,"data"),[t,e,c,s,n]),d=v.useMemo(()=>Ad(t,e,c,s,n,"assets"),[t,e,c,s,n]),m=v.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,j=!1;if(e.forEach(p=>{var h;let g=s.routes[p.route.id];!g||!g.hasLoader||(!u.some(x=>x.route.id===p.route.id)&&p.route.id in l&&((h=i[p.route.id])!=null&&h.shouldRevalidate)||g.hasClientLoader?j=!0:w.add(p.route.id))}),w.size===0)return[];let b=ax(t,o,"data");return j&&w.size>0&&b.searchParams.set("_routes",e.filter(p=>w.has(p.route.id)).map(p=>p.route.id).join(",")),[b.pathname+b.search]},[o,l,n,s,u,e,t,i]),f=v.useMemo(()=>ux(d,s),[d,s]),y=yx(d);return v.createElement(v.Fragment,null,m.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),f.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:j})=>v.createElement("link",{key:w,nonce:r.nonce,...j})))}function vx(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Tm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tm&&(window.__reactRouterVersion="7.9.2")}catch{}function wx({basename:t,children:e,window:r}){let n=v.useRef();n.current==null&&(n.current=ly({window:r,v5Compat:!0}));let s=n.current,[i,o]=v.useState({action:s.action,location:s.location}),l=v.useCallback(c=>{v.startTransition(()=>o(c))},[o]);return v.useLayoutEffect(()=>s.listen(l),[s,l]),v.createElement(Jy,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var Am=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Im=v.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m,...f},y){let{basename:w}=v.useContext(wt),j=typeof u=="string"&&Am.test(u),b,p=!1;if(typeof u=="string"&&j&&(b=u,Tm))try{let R=new URL(window.location.href),C=u.startsWith("//")?new URL(R.protocol+u):new URL(u),U=zt(C.pathname,w);C.origin===R.origin&&U!=null?u=U+C.search+C.hash:p=!0}catch{yt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=$y(u,{relative:s}),[h,x,k]=gx(n,f),N=Nx(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:m});function S(R){e&&e(R),R.defaultPrevented||N(R)}let _=v.createElement("a",{...f,...k,href:b||g,onClick:p||i?e:S,ref:vx(y,x),target:c,"data-discover":!j&&r==="render"?"true":void 0});return h&&!j?v.createElement(v.Fragment,null,_,v.createElement(px,{page:g})):_});Im.displayName="Link";var bx=v.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let m=Ks(o,{relative:u.relative}),f=vr(),y=v.useContext(La),{navigator:w,basename:j}=v.useContext(wt),b=y!=null&&Px(m)&&l===!0,p=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,g=f.pathname,h=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(g=g.toLowerCase(),h=h?h.toLowerCase():null,p=p.toLowerCase()),h&&j&&(h=zt(h,j)||h);const x=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=g===p||!s&&g.startsWith(p)&&g.charAt(x)==="/",N=h!=null&&(h===p||!s&&h.startsWith(p)&&h.charAt(p.length)==="/"),S={isActive:k,isPending:N,isTransitioning:b},_=k?e:void 0,R;typeof n=="function"?R=n(S):R=[n,k?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(S):i;return v.createElement(Im,{...u,"aria-current":_,className:R,ref:d,style:C,to:o,viewTransition:l},typeof c=="function"?c(S):c)});bx.displayName="NavLink";var jx=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Ui,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:m,...f},y)=>{let w=Ex(),j=Cx(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&Am.test(l),g=h=>{if(c&&c(h),h.defaultPrevented)return;h.preventDefault();let x=h.nativeEvent.submitter,k=(x==null?void 0:x.getAttribute("formmethod"))||o;w(x||h.currentTarget,{fetcherKey:e,method:k,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:m})};return v.createElement("form",{ref:y,method:b,action:j,onSubmit:n?c:g,...f,"data-discover":!p&&t==="render"?"true":void 0})});jx.displayName="Form";function _x(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lm(t){let e=v.useContext($n);return ue(e,_x(t)),e}function Nx(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=zr(),c=vr(),u=Ks(t,{relative:i});return v.useCallback(d=>{if(rx(d,e)){d.preventDefault();let m=r!==void 0?r:Os(c)===Os(u);l(t,{replace:m,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,n,e,t,s,i,o])}var Sx=0,kx=()=>`__${String(++Sx)}__`;function Ex(){let{router:t}=Lm("useSubmit"),{basename:e}=v.useContext(wt),r=qy();return v.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=ix(n,e);if(s.navigate===!1){let d=s.fetcherKey||kx();await t.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function Cx(t,{relative:e}={}){let{basename:r}=v.useContext(wt),n=v.useContext(Ct);ue(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Ks(t||".",{relative:e})},o=vr();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Dt([r,i.pathname])),Os(i)}function Px(t,{relative:e}={}){let r=v.useContext(Nm);ue(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Lm("useViewTransitionState"),s=Ks(t,{relative:e});if(!r.isTransitioning)return!1;let i=zt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=zt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return da(s.pathname,o)!=null||da(s.pathname,i)!=null}const Rx="modulepreload",Tx=function(t){return"/"+t},Id={},Dn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Tx(c),c in Id)return;Id[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Rx,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((f,y)=>{m.addEventListener("load",f),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Ax=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dn(async()=>{const{default:n}=await Promise.resolve().then(()=>Mn);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Zc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ix extends Zc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ld extends Zc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $d extends Zc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Al;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Al||(Al={}));var Lx=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class $x{constructor(e,{headers:r={},customFetch:n,region:s=Al.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Ax(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Lx(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const m=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(j=>{throw new Ix(j)}),f=m.headers.get("x-relay-error");if(f&&f==="true")throw new Ld(m);if(!m.ok)throw new $d(m);let y=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield m.json():y==="application/octet-stream"?w=yield m.blob():y==="text/event-stream"?w=m:y==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof $d||s instanceof Ld?s.context:void 0}}})}}var Fe={},eu={},Oa={},Gs={},Da={},Ma={},Ox=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sn=Ox();const Dx=Sn.fetch,$m=Sn.fetch.bind(Sn),Om=Sn.Headers,Mx=Sn.Request,Ux=Sn.Response,Mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Om,Request:Mx,Response:Ux,default:$m,fetch:Dx},Symbol.toStringTag,{value:"Module"})),Fx=$g(Mn);var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});let Bx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ua.default=Bx;var Dm=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ma,"__esModule",{value:!0});const zx=Dm(Fx),Vx=Dm(Ua);let Hx=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,m=null,f=null,y=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?m=g:m=JSON.parse(g))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(d={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,f=null,y=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(m=[],d=null,y=200,w="OK")}catch{i.status===404&&b===""?(y=204,w="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,y=200,w="OK"),d&&this.shouldThrowOnError)throw new Vx.default(d)}return{error:d,data:m,count:f,status:y,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ma.default=Hx;var Wx=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Da,"__esModule",{value:!0});const qx=Wx(Ma);let Qx=class extends qx.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Da.default=Qx;var Kx=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gs,"__esModule",{value:!0});const Gx=Kx(Da);let Jx=class extends Gx.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Gs.default=Jx;var Yx=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oa,"__esModule",{value:!0});const Zn=Yx(Gs);let Xx=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Zn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Zn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Zn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Oa.default=Xx;var Mm=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eu,"__esModule",{value:!0});const Zx=Mm(Oa),ev=Mm(Gs);let tv=class Um{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Zx.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Um(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,f])=>f!==void 0).map(([m,f])=>[m,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([m,f])=>{c.searchParams.append(m,f)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new ev.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};eu.default=tv;var Un=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const Fm=Un(eu);Fe.PostgrestClient=Fm.default;const Bm=Un(Oa);Fe.PostgrestQueryBuilder=Bm.default;const zm=Un(Gs);Fe.PostgrestFilterBuilder=zm.default;const Vm=Un(Da);Fe.PostgrestTransformBuilder=Vm.default;const Hm=Un(Ma);Fe.PostgrestBuilder=Hm.default;const Wm=Un(Ua);Fe.PostgrestError=Wm.default;var rv=Fe.default={PostgrestClient:Fm.default,PostgrestQueryBuilder:Bm.default,PostgrestFilterBuilder:zm.default,PostgrestTransformBuilder:Vm.default,PostgrestBuilder:Hm.default,PostgrestError:Wm.default};const{PostgrestClient:nv,PostgrestQueryBuilder:Bb,PostgrestFilterBuilder:zb,PostgrestTransformBuilder:Vb,PostgrestBuilder:Hb,PostgrestError:Wb}=rv;class sv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iv="2.15.5",av=`realtime-js/${iv}`,ov="1.0.0",Il=1e4,lv=1e3,cv=100;var ms;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ms||(ms={}));var xe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xe||(xe={}));var ut;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ut||(ut={}));var Ll;(function(t){t.websocket="websocket"})(Ll||(Ll={}));var Cr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Cr||(Cr={}));class uv{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class qm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(se||(se={}));const Od=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=dv(o,t,e,s),i),{})},dv=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Qm(i,o):$l(o)},Qm=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gv(e,r)}switch(t){case se.bool:return hv(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return fv(e);case se.json:case se.jsonb:return mv(e);case se.timestamp:return pv(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return $l(e);default:return $l(e)}},$l=t=>t,hv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gv=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Qm(e,l))}return t},pv=t=>typeof t=="string"?t.replace(" ","T"):t,Km=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class _o{constructor(e,r,n={},s=Il){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Dd||(Dd={}));class gs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=gs.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=gs.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const m=i[u];if(m){const f=d.map(b=>b.presence_ref),y=m.map(b=>b.presence_ref),w=d.filter(b=>y.indexOf(b.presence_ref)<0),j=m.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),j.length>0&&(c[u]=j)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const m=e[l].map(y=>y.presence_ref),f=d.filter(y=>m.indexOf(y.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Md;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Md||(Md={}));var ps;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ps||(ps={}));var At;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(At||(At={}));class tu{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _o(this,ut.join,this.params,this.timeout),this.rejoinTimer=new qm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ut.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new gs(this),this.broadcastEndpointURL=Km(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ps.PRESENCE]&&this.bindings[ps.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(At.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(At.CLOSED)),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){e==null||e(At.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,b=(w=j==null?void 0:j.length)!==null&&w!==void 0?w:0,p=[];for(let g=0;g<b;g++){const h=j[g],{filter:{event:x,schema:k,table:N,filter:S}}=h,_=y&&y[g];if(_&&_.event===x&&_.schema===k&&_.table===N&&_.filter===S)p.push(Object.assign(Object.assign({},h),{id:_.id}));else{this.unsubscribe(),this.state=xe.errored,e==null||e(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(At.SUBSCRIBED);return}}).receive("error",y=>{this.state=xe.errored,e==null||e(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===xe.joined&&e===ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ut.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new _o(this,ut.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _o(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ut;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,j,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(j=y.filter)===null||j===void 0?void 0:j.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,j,b,p,g,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const x=y.id,k=(w=y.filter)===null||w===void 0?void 0:w.event;return x&&((j=r.ids)===null||j===void 0?void 0:j.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(g=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((h=r==null?void 0:r.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:j,table:b,commit_timestamp:p,type:g,errors:h}=w;f=Object.assign(Object.assign({},{schema:j,table:b,commit_timestamp:p,eventType:g,new:{},old:{},errors:h}),this._getPayloadRecords(w))}y.callback(f,n)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tu.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ut.close,{},e)}_onError(e){this._on(ut.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Od(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Od(e.columns,e.old_record)),r}}const No=()=>{},vi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yv=[1e3,2e3,5e3,1e4],xv=1e4,vv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wv{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Il,this.transport=null,this.heartbeatIntervalMs=vi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=No,this.ref=0,this.reconnectTimer=null,this.logger=No,this.conn=null,this.sendBuffer=[],this.serializer=new uv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Dn(async()=>{const{default:l}=await Promise.resolve().then(()=>Mn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ll.websocket}`,this.httpEndpoint=Km(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ov}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ms.connecting:return Cr.Connecting;case ms.open:return Cr.Open;case ms.closing:return Cr.Closing;default:return Cr.Closed}}isConnected(){return this.connectionState()===Cr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new tu(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ut.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([vv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:av};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ut.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Il,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:vi.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:No,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:m=>yv[m-1]||xv,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(m,f)=>f(JSON.stringify(m)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ru extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bv extends ru{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ol extends ru{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var jv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Gm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dn(async()=>{const{default:n}=await Promise.resolve().then(()=>Mn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},_v=()=>jv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dn(()=>Promise.resolve().then(()=>Mn),void 0)).Response:Response}),Dl=t=>{if(Array.isArray(t))return t.map(r=>Dl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Dl(n)}),e},Nv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Vr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const So=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sv=(t,e,r)=>Vr(void 0,void 0,void 0,function*(){const n=yield _v();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new bv(So(s),i,o))}).catch(s=>{e(new Ol(So(s),s))}):e(new Ol(So(t),t))}),kv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Nv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Js(t,e,r,n,s,i){return Vr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,kv(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Sv(c,l,n))})})}function fa(t,e,r,n){return Vr(this,void 0,void 0,function*(){return Js(t,"GET",e,r,n)})}function _t(t,e,r,n,s){return Vr(this,void 0,void 0,function*(){return Js(t,"POST",e,n,s,r)})}function Ml(t,e,r,n,s){return Vr(this,void 0,void 0,function*(){return Js(t,"PUT",e,n,s,r)})}function Ev(t,e,r,n){return Vr(this,void 0,void 0,function*(){return Js(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Jm(t,e,r,n,s){return Vr(this,void 0,void 0,function*(){return Js(t,"DELETE",e,n,s,r)})}var Ie=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Cv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ud={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pv{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Gm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Ie(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ud),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),m=yield(e=="PUT"?Ml:_t)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ud.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const m=yield Ml(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield _t(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ru("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield _t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield _t(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ie(this,void 0,void 0,function*(){try{const s=yield _t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}download(e,r){return Ie(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield fa(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ve(l))return{data:null,error:l};throw l}})}info(e){return Ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield fa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}exists(e){return Ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ev(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n)&&n instanceof Ol){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cv),r),{prefix:e||""});return{data:yield _t(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}listV2(e,r){return Ie(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield _t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Rv="2.12.1",Tv={"X-Client-Info":`storage-js/${Rv}`};var Wr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Av{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Tv),r),this.fetch=Gm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Wr(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}getBucket(e){return Wr(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Wr(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Wr(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Wr(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Wr(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}}class Iv extends Av{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Pv(this.url,this.headers,e,this.fetch)}}const Lv="2.57.4";let ss="";typeof Deno<"u"?ss="deno":typeof document<"u"?ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ss="react-native":ss="node";const $v={"X-Client-Info":`supabase-js-${ss}/${Lv}`},Ov={headers:$v},Dv={schema:"public"},Mv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uv={};var Fv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Bv=t=>{let e;return t?e=t:typeof fetch>"u"?e=$m:e=fetch,(...r)=>e(...r)},zv=()=>typeof Headers>"u"?Om:Headers,Vv=(t,e,r)=>{const n=Bv(r),s=zv();return(i,o)=>Fv(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Hv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Wv(t){return t.endsWith("/")?t:t+"/"}function qv(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:m}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Hv(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Qv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Wv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ym="2.71.1",Jr=30*1e3,Ul=3,ko=Ul*Jr,Kv="http://localhost:9999",Gv="supabase.auth.token",Jv={"X-Client-Info":`gotrue-js/${Ym}`},Fl="X-Supabase-Api-Version",Xm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xv=10*60*1e3;class nu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zv extends nu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ew(t){return W(t)&&t.name==="AuthApiError"}class Zm extends nu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wr extends nu{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Yt extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tw(t){return W(t)&&t.name==="AuthSessionMissingError"}class wi extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bi extends wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ji extends wr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rw(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fd extends wr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bl extends wr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Eo(t){return W(t)&&t.name==="AuthRetryableFetchError"}class Bd extends wr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zl extends wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zd=` 	
\r=`.split(""),nw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zd.length;e+=1)t[zd[e].charCodeAt(0)]=-2;for(let e=0;e<ma.length;e+=1)t[ma[e].charCodeAt(0)]=e;return t})();function Vd(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ma[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ma[n]),e.queuedBits-=6}}function eg(t,e,r){const n=nw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hd(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{aw(o,n,r)};for(let o=0;o<t.length;o+=1)eg(t.charCodeAt(o),s,i);return e.join("")}function sw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}sw(n,e)}}function aw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ow(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)eg(t.charCodeAt(s),r,n);return new Uint8Array(e)}function lw(t){const e=[];return iw(t,r=>e.push(r)),new Uint8Array(e)}function cw(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Vd(s,r,n)),Vd(null,r,n),e.join("")}function uw(t){return Math.round(Date.now()/1e3)+t}function dw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",_r={tested:!1,writable:!1},tg=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_r.tested)return _r.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_r.tested=!0,_r.writable=!0}catch{_r.tested=!0,_r.writable=!1}return _r.writable};function hw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const rg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dn(async()=>{const{default:n}=await Promise.resolve().then(()=>Mn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},fw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Nr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kt=async(t,e)=>{await t.removeItem(e)};class Fa{constructor(){this.promise=new Fa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Fa.promiseConstructor=Promise;function Co(t){const e=t.split(".");if(e.length!==3)throw new zl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Yv.test(e[n]))throw new zl("JWT not in base64url format");return{header:JSON.parse(Hd(e[0])),payload:JSON.parse(Hd(e[1])),signature:ow(e[2]),raw:{header:e[0],payload:e[1]}}}async function mw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function pw(t){return("0"+t.toString(16)).substr(-2)}function yw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,pw).join("")}async function xw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function vw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await xw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qr(t,e,r=!1){const n=yw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Yr(t,`${e}-code-verifier`,s);const i=await vw(n);return[i,n===i?"plain":"s256"]}const ww=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bw(t){const e=t.headers.get(Fl);if(!e||!e.match(ww))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _w(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qr(t){if(!Nw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Po(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wd(t){return JSON.parse(JSON.stringify(t))}var Sw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Er=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kw=[502,503,504];async function qd(t){var e;if(!fw(t))throw new Bl(Er(t),0);if(kw.includes(t.status))throw new Bl(Er(t),t.status);let r;try{r=await t.json()}catch(i){throw new Zm(Er(i),i)}let n;const s=bw(t);if(s&&s.getTime()>=Xm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bd(Er(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Yt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bd(Er(r),t.status,r.weak_password.reasons);throw new Zv(Er(r),t.status||500,n)}const Ew=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Fl]||(i[Fl]=Xm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Cw(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Cw(t,e,r,n,s,i){const o=Ew(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Bl(Er(c),0)}if(l.ok||await qd(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await qd(c)}}function Rt(t){var e;let r=null;Aw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=uw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Qd(t){const e=Rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function rr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Pw(t){return{data:t,error:null}}function Rw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Sw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Tw(t){return t}function Aw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ro=["global","local","others"];var Iw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Lw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=rg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Ro[0]){if(Ro.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ro.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Iw(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Rw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tw});if(d.error)throw d.error;const m=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=j}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Qr(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qr(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:rr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Qr(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:rr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Qr(e.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qr(e.userId),Qr(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}function Kd(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function $w(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kr={debug:!!(globalThis&&tg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ng extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ow extends ng{}async function Dw(t,e,r){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ow(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}$w();const Mw={url:Kv,storageKey:Gv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gd(t,e,r){return await r()}const Gr={};class Ds{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ds.nextInstanceID,Ds.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Mw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Lw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=rg(s.fetch),this.lock=s.lock||Gd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Dw:this.lock=Gd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:tg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Kd(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Gr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Gr[this.storageKey]=Object.assign(Object.assign({},Gr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Gr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gr[this.storageKey]=Object.assign(Object.assign({},Gr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ym}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=hw(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ot()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rw(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new Zm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:m,options:f}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await qr(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:m,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:Rt})}else if("phone"in e){const{phone:d,password:m,options:f}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Rt})}else throw new bi("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Qd})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Qd})}else throw new bi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,c,u,d,m,f,y;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:b,wallet:p,statement:g,options:h}=e;let x;if(ot())if(typeof p=="object")x=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))x=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=p}const k=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const N=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),g?{statement:g}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),j=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=h==null?void 0:h.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((u=h==null?void 0:h.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((m=(d=h==null?void 0:h.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...h.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await x.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=N}}try{const{data:b,error:p}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:cw(j)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Rt});if(p)throw p;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new wi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:p})}catch(b){if(W(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Nr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Rt});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(W(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Rt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new wi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qr(this.storage,this.storageKey));const{error:m}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new bi("You must provide either an email or phone number.")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Rt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Pw})}catch(i){if(W(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Yt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new bi("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ko:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Nr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Po()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:rr})})}catch(r){if(W(r))return tw(r)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Yt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await qr(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:rr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Co(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Yt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ot())throw new ji("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ji(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fd("No code detected.");const{data:g,error:h}=await this._exchangeCodeForSession(e.code);if(h)throw h;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new ji("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(l);let f=d+m;c&&(f=parseInt(c));const y=f-d;y*1e3<=Jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const w=f-m;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:j,error:b}=await this._getUser(i);if(b)throw b;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:f,refresh_token:o,token_type:u,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Nr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(ew(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=dw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(W(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:m,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ot()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gw(async s=>(s>0&&await mw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Eo(i)&&Date.now()+o-n<Jr})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ot()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Nr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Yr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Po()}else if(s&&!s.user&&!s.user){const o=await Nr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Kt(this.storage,this.storageKey+"-user"),await Yr(this.storage,this.storageKey,s)):s.user=Po()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ko;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ko}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Eo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fa;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),W(i)){const o={session:null,error:i};return Eo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Yr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Wd(s);await Yr(this.storage,this.storageKey,i)}else{const s=Wd(r);await Yr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Jr}ms, refresh threshold is ${Ul} ticks`),s<=Ul&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ng)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await qr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Co(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Xv>s)return n;const{data:i,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Co(n);r!=null&&r.allowExpired||jw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=_w(s.alg),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,o,lw(`${l}.${c}`)))throw new zl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}Ds.nextInstanceID=0;const Uw=Ds;class Fw extends Uw{constructor(e){super(e)}}var Bw=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class zw{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Qv(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Dv,realtime:Uv,auth:Object.assign(Object.assign({},Mv),{storageKey:c}),global:Ov},d=qv(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Vv(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new nv(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Iv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $x(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Bw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fw({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vw=(t,e,r)=>new zw(t,e,r);function Hw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Hw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const su="https://ypiwfedtvgmazqcwolac.supabase.co",Ww="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwaXdmZWR0dmdtYXpxY3dvbGFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NDYxMDIsImV4cCI6MjA3NDIyMjEwMn0.QnHPyeMBpezC-Q72fVDuRPdM5dkSYqoHC3uY_Dgsuxs",V=Vw(su,Ww),iu=async(t,e)=>{try{const{data:r,error:n}=await V.from("users_profiles").select("personal_id, email").or(`personal_id.eq.${t.trim()},email.eq.${e.trim().toLowerCase()}`).limit(1);if(n)return console.error("Error checking user existence:",n),{exists:!1,byPersonalId:!1,byEmail:!1};if(r&&r.length>0){const s=r[0];return{exists:!0,byPersonalId:s.personal_id===t.trim(),byEmail:s.email===e.trim().toLowerCase()}}return{exists:!1,byPersonalId:!1,byEmail:!1}}catch(r){return console.error("User existence check error:",r),{exists:!1,byPersonalId:!1,byEmail:!1}}},qw=async t=>{if(!t||!t.trim())return{isValid:!0,error:null};try{const{data:e,error:r}=await V.from("users_profiles").select("personal_id, role").eq("personal_id",t.trim()).limit(1);return r?{isValid:!1,error:"Database error while checking Volunteer ID"}:!e||e.length===0?{isValid:!1,error:"Volunteer ID not found. Please check the ID and try again."}:e[0].role==="attendee"?{isValid:!1,error:"The provided ID belongs to an attendee, not a volunteer."}:{isValid:!0,error:null}}catch{return{isValid:!1,error:"Failed to validate Volunteer ID"}}},Qw=async(t,e,r)=>{const n=[];try{const s=await iu(e,t);if(s.exists&&(s.byPersonalId&&n.push("This Personal ID is already registered"),s.byEmail&&n.push("This email is already registered")),r&&r.trim()){const i=await qw(r);!i.isValid&&i.error&&n.push(i.error)}return{isValid:n.length===0,errors:n}}catch{return{isValid:!1,errors:["An unexpected error occurred during validation. Please try again."]}}},sg=async(t,e,r)=>{try{console.log("Starting attendee registration...");const n=await iu(r.personal_id,t);if(n.exists){const c=[];return n.byPersonalId&&c.push("Personal ID already registered"),n.byEmail&&c.push("Email already registered"),{data:null,error:{message:c.join(". "),validationErrors:c}}}console.log("User does not exist, creating auth user...");const{data:s,error:i}=await V.auth.signUp({email:t.trim().toLowerCase(),password:e});if(i)return console.error("Auth signup error:",i),{data:null,error:i};if(!s.user)return{data:null,error:{message:"Failed to create user account"}};console.log("Auth user created, creating profile...");const{data:o,error:l}=await V.from("users_profiles").insert({id:s.user.id,email:t.trim().toLowerCase(),...r,role:"attendee",score:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select();if(l){console.error("Profile creation error:",l);try{await V.auth.admin.deleteUser(s.user.id)}catch(c){console.error("Failed to cleanup auth user:",c)}return{data:null,error:l}}return console.log("Attendee registration completed successfully"),{data:s,error:null}}catch(n){return console.error("Registration error:",n),{data:null,error:{message:n.message||"Registration failed"}}}},Kw=async(t,e,r)=>{try{console.log("Starting volunteer registration...");const n=await iu(r.personal_id,t);if(n.exists){const c=[];return n.byPersonalId&&c.push("Personal ID already registered"),n.byEmail&&c.push("Email already registered"),{data:null,error:{message:c.join(". "),validationErrors:c}}}console.log("User does not exist, creating volunteer auth user...");const{data:s,error:i}=await V.auth.signUp({email:t.trim().toLowerCase(),password:e});if(i)return console.error("Auth signup error:",i),{data:null,error:i};if(!s.user)return{data:null,error:{message:"Failed to create volunteer account"}};console.log("Auth user created, creating volunteer profile...");const{data:o,error:l}=await V.from("users_profiles").insert({id:s.user.id,email:t.trim().toLowerCase(),...r,role:r.role||"volunteer",score:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select();if(l){console.error("Volunteer profile creation error:",l);try{await V.auth.admin.deleteUser(s.user.id)}catch(c){console.error("Failed to cleanup auth user:",c)}return{data:null,error:l}}return console.log("Volunteer registration completed successfully"),{data:s,error:null}}catch(n){return console.error("Volunteer registration error:",n),{data:null,error:{message:n.message||"Volunteer registration failed"}}}},Gw=async(t,e)=>{const{data:r,error:n}=await V.auth.signInWithPassword({email:t.trim().toLowerCase(),password:e});return{data:r,error:n}},Jd=async(t,e,r)=>{try{const n=r.name.split(".").pop(),s=`${Date.now()}-${Math.random().toString(36).substring(2)}.${n}`,i=`${e}/${s}`;console.log(`Uploading file to ${t}/${i}`);const{data:o,error:l}=await V.storage.from(t).upload(i,r);if(l)return console.error("File upload error:",l),{data:null,error:l};const{data:c}=V.storage.from(t).getPublicUrl(i);return console.log("File uploaded successfully:",c.publicUrl),{data:{path:i,url:c.publicUrl},error:null}}catch(n){return console.error("Upload error:",n),{data:null,error:{message:n.message}}}},Jw=async(t,e)=>{try{console.log("Updating user files:",e);const{data:r,error:n}=await V.from("users_profiles").update(e).eq("id",t).select();return n?console.error("Profile update error:",n):console.log("Profile updated successfully"),{data:r,error:n}}catch(r){return console.error("Update error:",r),{data:null,error:{message:r.message}}}},Yw=async(t,e)=>{try{const{data:{session:r}}=await V.auth.getSession();if(!(r!=null&&r.access_token))throw new Error("No authentication token found");const n=await fetch(`${su}/functions/v1/process-attendance`,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({personal_id:t,action:e})}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to process attendance");return{data:s,error:null}}catch(r){return console.error("Process attendance error:",r),{data:null,error:{message:r.message}}}},dn=async t=>{try{const{data:e,error:r}=await V.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        created_at
      `).eq("personal_id",t.trim()).eq("role","attendee").single();if(r)return console.error("Get attendee by Personal ID error:",r),{data:null,error:r};const{data:n}=await V.from("attendances").select("scan_type, scanned_at").eq("user_id",e.id).order("scanned_at",{ascending:!1}).limit(1).single();return{data:{...e,current_status:(n==null?void 0:n.scan_type)==="entry"?"inside":"outside",last_scan:(n==null?void 0:n.scanned_at)||null},error:null}}catch(e){return console.error("Get attendee by Personal ID exception:",e),{data:null,error:{message:e.message}}}},Vl=async t=>{try{const{data:e,error:r}=await V.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        created_at
      `).eq("id",t.trim()).eq("role","attendee").single();if(r)return console.error("Get attendee by UUID error:",r),{data:null,error:r};const{data:n}=await V.from("attendances").select("scan_type, scanned_at").eq("user_id",e.id).order("scanned_at",{ascending:!1}).limit(1).single();return{data:{...e,current_status:(n==null?void 0:n.scan_type)==="entry"?"inside":"outside",last_scan:(n==null?void 0:n.scanned_at)||null},error:null}}catch(e){return console.error("Get attendee by UUID exception:",e),{data:null,error:{message:e.message}}}},Hl=async t=>{try{if(!t||t.trim().length<2)return{data:[],error:null};const{data:e,error:r}=await V.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        created_at
      `).eq("role","attendee").ilike("personal_id",`%${t.trim()}%`).order("personal_id").limit(10);return r?(console.error("Search attendees error:",r),{data:[],error:r}):{data:await Promise.all(e.map(async s=>{const{data:i}=await V.from("attendances").select("scan_type, scanned_at").eq("user_id",s.id).order("scanned_at",{ascending:!1}).limit(1).single();return{...s,current_status:(i==null?void 0:i.scan_type)==="entry"?"inside":"outside",last_scan:(i==null?void 0:i.scanned_at)||null}})),error:null}}catch(e){return console.error("Search attendees exception:",e),{data:[],error:{message:e.message}}}},Xw=async()=>{try{const{count:t}=await V.from("users_profiles").select("*",{count:"exact",head:!0}),e=new Date;e.setHours(0,0,0,0);const{count:r}=await V.from("attendances").select("*",{count:"exact",head:!0}).eq("scan_type","entry").gte("scanned_at",e.toISOString()),{data:n}=await V.from("attendances").select("user_id, scan_type").order("scanned_at",{ascending:!1}),s=new Map;n==null||n.forEach(l=>{s.has(l.user_id)||s.set(l.user_id,l.scan_type)});const i=Array.from(s.values()).filter(l=>l==="entry").length,{count:o}=await V.from("users_profiles").select("*",{count:"exact",head:!0}).eq("role","attendee");return{data:{total_registered:t||0,checked_in_today:r||0,inside_event:i||0,total_attendees:o||0},error:null}}catch(t){return console.error("Get stats error:",t),{data:null,error:{message:t.message}}}},Yd=async(t,e,r)=>{try{const{data:{session:n}}=await V.auth.getSession();if(!(n!=null&&n.access_token))throw new Error("No authentication token found");const s={personal_id:t,action:e};e==="session_entry"&&r&&(s.session_id=r);const i=await fetch(`${su}/functions/v1/process-building-attendance`,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await i.json();if(!i.ok)throw new Error(o.error||"Failed to process attendance");return{data:o,error:null}}catch(n){return console.error("Process building attendance error:",n),{data:null,error:{message:n.message}}}},Zw=async()=>{try{const{data:t,error:e}=await V.from("sessions").select(`
        id,
        title,
        description,
        speaker,
        start_time,
        end_time,
        location,
        capacity,
        current_attendees,
        session_type,
        created_at
      `).order("start_time",{ascending:!0});return e?(console.error("Get sessions error:",e),{data:[],error:e}):{data:t||[],error:null}}catch(t){return console.error("Get sessions exception:",t),{data:[],error:{message:t.message}}}},ig=v.createContext(void 0),e1=({children:t})=>{const[e,r]=v.useState(null),[n,s]=v.useState(null),[i,o]=v.useState(!0),[l,c]=v.useState(!1),u=S=>{try{sessionStorage.setItem("user_profile",JSON.stringify(S))}catch(_){console.warn("Could not save profile to session storage:",_)}},d=()=>{try{const S=sessionStorage.getItem("user_profile");return S?JSON.parse(S):null}catch(S){return console.warn("Could not read profile from session storage:",S),null}},m=()=>{try{sessionStorage.removeItem("user_profile")}catch(S){console.warn("Could not clear profile from session storage:",S)}},f=v.useCallback(async(S,_=3)=>{const R=d();if(R&&R.id===S)return console.log(" Using cached profile:",R.role),s(R),!0;for(let C=1;C<=_;C++)try{console.log(` Fetching profile (attempt ${C}/${_}) for user:`,S);const{data:U,error:X}=await V.from("users_profiles").select("*").eq("id",S).single();if(X){if(console.error(` Profile fetch error (attempt ${C}):`,X),C===_||X.code==="PGRST116")return console.error("Profile not found or fetch failed permanently"),R&&R.id===S?(console.log(" Using cached profile as fallback"),s(R),!0):(s(null),m(),!1);await new Promise(I=>setTimeout(I,1e3*C));continue}return U?(console.log(" Profile fetched successfully:",U.role),s(U),u(U),!0):(console.warn("No profile data returned"),R&&R.id===S?(console.log(" Using cached profile as fallback"),s(R),!0):(s(null),m(),!1))}catch(U){if(console.error(`Profile fetch exception (attempt ${C}):`,U),C===_)return R&&R.id===S?(console.log(" Using cached profile as final fallback"),s(R),!0):(s(null),m(),!1);await new Promise(X=>setTimeout(X,1e3*C))}return!1},[]),y=v.useCallback(async(S,_)=>{console.log(" Auth state change:",S,_?"Session exists":"No session");try{_!=null&&_.user?(console.log("Setting user from session:",_.user.id),r(_.user),c(!0),f(_.user.id).then(R=>{R||console.warn(" Could not fetch profile, but session is valid"),o(!1)}).catch(R=>{console.error("Profile fetch failed:",R),o(!1)})):(console.log("Clearing user and profile"),r(null),s(null),m(),c(!0),o(!1))}catch(R){console.error("Error handling auth state change:",R),r(null),s(null),m(),c(!0),o(!1)}},[f]);v.useEffect(()=>{let S=!0,_=null;(async()=>{try{console.log(" Initializing authentication...");const{data:{session:U},error:X}=await V.auth.getSession();if(X){console.error(" Error getting session:",X),S&&(r(null),s(null),m(),c(!0),o(!1));return}U!=null&&U.user&&S?(console.log(" Found existing session for user:",U.user.id),r(U.user),c(!0),f(U.user.id).then(I=>{S&&(I||console.warn(" Profile not found for authenticated user"),o(!1))}).catch(I=>{console.error("Profile fetch error during init:",I),S&&o(!1)})):(console.log(" No existing session found"),S&&(r(null),s(null),m(),c(!0),o(!1)))}catch(U){console.error(" Auth initialization error:",U),S&&(r(null),s(null),m(),c(!0),o(!1))}})();const{data:{subscription:C}}=V.auth.onAuthStateChange(y);return _=C,()=>{S=!1,_&&_.unsubscribe()}},[]);const w=v.useCallback(async()=>{e!=null&&e.id&&(console.log(" Manually refreshing profile..."),await f(e.id))},[e==null?void 0:e.id,f]),j=async(S,_,R)=>{try{console.log(" Starting attendee registration..."),o(!0);const C=await sg(S,_,R);return C.error?(console.error(" Registration failed:",C.error),C):(console.log(" Registration successful"),C)}catch(C){return console.error("Registration exception:",C),{data:null,error:{message:C.message||"Registration failed"}}}finally{o(!1)}},b=async(S,_,R)=>{try{console.log(" Starting volunteer registration..."),o(!0);const C=await Kw(S,_,R);return C.error?(console.error(" Volunteer registration failed:",C.error),C):(console.log(" Volunteer registration successful"),C)}catch(C){return console.error("Volunteer registration exception:",C),{data:null,error:{message:C.message||"Volunteer registration failed"}}}finally{o(!1)}},p=async(S,_)=>{try{console.log(" Starting sign in..."),o(!0);const{data:R,error:C}=await Gw(S,_);return C?(console.error(" Sign in failed:",C),{error:C}):(console.log(" Sign in successful"),{error:null})}catch(R){return console.error("Sign in exception:",R),{error:{message:R.message||"Sign in failed"}}}finally{o(!1)}},g=async()=>{try{console.log(" Signing out..."),o(!0);const{error:S}=await V.auth.signOut();S?console.error("Sign out error:",S):console.log(" Signed out successfully"),m(),r(null),s(null)}catch(S){console.error("Sign out exception:",S),m(),r(null),s(null)}finally{o(!1)}},h=async(S,_,R)=>await Qw(S,_,R),x=S=>n!=null&&n.role?Array.isArray(S)?S.includes(n.role):n.role===S:!1,k=S=>{switch(S||(n==null?void 0:n.role)){case"admin":return"/secure-9821panel";case"sadmin":return"/super-ctrl-92k1x";case"team_leader":return"/teamleader";case"registration":return"/regteam";case"building":return"/buildteam";case"info_desk":return"/infodesk";case"volunteer":return"/volunteer";case"attendee":return"/attendee";default:return"/login"}},N=!!e&&l;return console.log("Auth Context State:",{hasUser:!!e,hasProfile:!!n,loading:i,sessionLoaded:l,isAuthenticated:N,userRole:n==null?void 0:n.role}),a.jsx(ig.Provider,{value:{user:e,profile:n,loading:i,sessionLoaded:l,isAuthenticated:N,signUp:j,signUpVolunteer:b,signIn:p,signOut:g,hasRole:x,getRoleBasedRedirect:k,validateRegistration:h,refreshProfile:w},children:t})},We=()=>{const t=v.useContext(ig);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const r=v.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...t1,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${r1(t)}`,l].join(" "),...u},[...e.map(([m,f])=>v.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=B("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=B("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=B("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=B("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=B("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=B("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=B("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=B("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=B("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=B("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=B("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=B("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=B("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=B("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=B("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=B("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=B("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=B("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=B("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=B("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=B("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=B("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=B("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ga=(t,e)=>t.trim()?t.trim().length<2?`${e} must be at least 2 characters long`:/^[a-zA-Z\s]+$/.test(t.trim())?null:`${e} must contain only letters and spaces`:`${e} is required`,Ba=t=>t.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim())?null:"Please enter a valid email address":"Email is required",dg=t=>{if(!t.trim())return"Phone number is required";const e=/^(010|011|012|015)\d{8}$/,r=t.replace(/\D/g,"");return e.test(r)?null:"Please enter a valid Egyptian phone number (01X-XXXXXXXX)"},cu=t=>t.trim()?t.trim().length!==14?"Personal ID must be exactly 14 digits":/^\d{14}$/.test(t.trim())?null:"Personal ID must contain only numbers":"Personal ID is required",uu=t=>t?t.length<6?"Password must be at least 6 characters long":null:"Password is required",hg=(t,e)=>e?t!==e?"Passwords do not match":null:"Please confirm your password",E1=t=>t?t.length!==14?"Volunteer ID must be exactly 14 digits":/^\d{14}$/.test(t)?null:"Volunteer ID must contain only numbers":null,C1=()=>{const t=zr(),{signIn:e,isAuthenticated:r,getRoleBasedRedirect:n,loading:s,profile:i}=We(),[o,l]=v.useState({email:"",password:""}),[c,u]=v.useState(!1),[d,m]=v.useState([]),[f,y]=v.useState(!1),[w,j]=v.useState(!1);v.useEffect(()=>{r&&i&&!s&&t(n(),{replace:!0})},[r,i,s,t,n]);const b=(x,k)=>{l(N=>({...N,[x]:k})),m(N=>N.filter(S=>S.field!==x))},p=()=>{const x=[],k=Ba(o.email);k&&x.push({field:"email",message:k});const N=uu(o.password);return N&&x.push({field:"password",message:N}),x},g=async x=>{x.preventDefault();const k=p();if(k.length>0){m(k);return}y(!0),m([]);try{const{error:N}=await e(o.email,o.password);if(N){m([{field:"general",message:"Invalid email or password"}]);return}j(!0)}catch{m([{field:"general",message:"Login failed. Please try again."}])}finally{y(!1)}},h=x=>{var k;return(k=d.find(N=>N.field===x))==null?void 0:k.message};return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):w&&r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Login successful! Redirecting..."})]})}):a.jsxs("div",{className:"min-h-screen relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("/src/Assets/careercenter.png")'},children:a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),a.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4 text-center",children:[a.jsx("div",{className:"mx-auto w-28 h-28 bg-white rounded-full flex items-center justify-center mb-2 shadow-lg",children:a.jsx("img",{src:"\\src\\Assets\\logo.png",alt:"ASU Career Week Logo",className:"w-24 h-24 rounded-full object-cover"})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-orange-100",children:"Sign in to ASU Career Week"})]}),a.jsxs("form",{onSubmit:g,className:"p-8",children:[h("general")&&a.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex items-center space-x-2 mb-6",children:[a.jsx(br,{className:"h-5 w-5 text-red-600"}),a.jsx("p",{className:"text-red-700",children:h("general")})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:o.email,onChange:x=>b("email",x.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${h("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email address"}),h("email")&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:h("email")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",value:o.password,onChange:x=>b("password",x.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${h("password")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-orange-600 transition-colors",children:c?a.jsx(Wl,{className:"h-5 w-5"}):a.jsx(ql,{className:"h-5 w-5"})})]}),h("password")&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:h("password")})]}),a.jsx("div",{className:"text-right",children:a.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-sm text-orange-600 hover:text-orange-700 hover:underline font-medium",children:"Forgot Password?"})}),a.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Signing In..."})]}):"Sign In"}),a.jsxs("div",{className:"text-center pt-4 border-t border-gray-200 space-y-2",children:[a.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",a.jsx("button",{type:"button",onClick:()=>t("/register"),className:"text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Create Attendee Account"})]}),a.jsxs("p",{className:"text-gray-600",children:["Want to volunteer?"," ",a.jsx("button",{type:"button",onClick:()=>t("/V0lunt33ringR3g"),className:"text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Register as Volunteer"})]})]})]})]})]})})]})},fg=["Faculty of Engineering","Faculty of Medicine","Faculty of Commerce","Faculty of Law","Faculty of Arts","Faculty of Science","Faculty of Pharmacy","Faculty of Dentistry","Faculty of Veterinary Medicine","Faculty of Agriculture","Faculty of Education","Faculty of Nursing","Faculty of Computer and Information Sciences","Faculty of Economics and Political Science","Faculty of Mass Communication","Faculty of Physical Education","Faculty of Fine Arts","Faculty of Music Education","Faculty of Archaeology","Faculty of Social Work","Faculty of Tourism and Hotels","Faculty of Languages","Faculty of Business Administration","Faculty of Applied Arts","Other"],P1=[{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"},{value:"5",label:"5th Year"}],R1=[{value:"linkedin",label:"LinkedIn"},{value:"facebook",label:"Facebook"},{value:"instagram",label:"Instagram"},{value:"friends",label:"Friends"},{value:"banners_in_street",label:"Banners in Street"},{value:"information_session_at_faculty",label:"Information Session at Faculty"},{value:"campus_marketing",label:"Campus Marketing"},{value:"other",label:"Other"}],T1=["Ain Shams University","Other"],rh=({accept:t,maxSize:e,onFileSelect:r,onFileRemove:n,label:s,currentFile:i,required:o=!1})=>{const l=c=>{var d;const u=(d=c.target.files)==null?void 0:d[0];if(u){if(u.size>e){alert(`File size must be less than ${Math.round(e/1024/1024)}MB`);return}r(u)}};return a.jsx("div",{className:"space-y-2",children:a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${i?"border-green-200 bg-green-50":"border-orange-200"}`,children:i?a.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx(Vt,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.name}),a.jsx("button",{type:"button",onClick:n,className:"text-red-600 hover:text-red-800",children:"Remove"})]}):a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:t,onChange:l,className:"hidden",id:`file-${s.replace(/\s+/g,"-").toLowerCase()}`,required:o}),a.jsxs("label",{htmlFor:`file-${s.replace(/\s+/g,"-").toLowerCase()}`,className:"cursor-pointer text-sm font-medium text-orange-600 hover:text-orange-700",children:[s," ",o&&"*"]})]})})})},A1=()=>{const t=zr(),{signIn:e,isAuthenticated:r,profile:n,loading:s,getRoleBasedRedirect:i}=We(),[o,l]=v.useState(1),[c,u]=v.useState({firstName:"",lastName:"",gender:"",nationality:"",email:"",phone:"",personalId:"",university:"",customUniversity:"",faculty:"",degreeLevel:"",program:"",classYear:"",howDidYouHear:"",volunteerId:"",password:"",confirmPassword:""}),[d,m]=v.useState({}),[f,y]=v.useState([]),[w,j]=v.useState(!1),[b,p]=v.useState(!1),g=[{id:1,title:"Personal Information",icon:gt},{id:2,title:"Academic Information",icon:h1},{id:3,title:"Event & Volunteer Info",icon:xt},{id:4,title:"Account Security",icon:au}];v.useEffect(()=>{r&&n&&!s&&(console.log("Auth context ready, redirecting to dashboard..."),t(i(),{replace:!0}))},[r,n,s,t,i]);const h=(E,L)=>{u(F=>({...F,[E]:L})),y(F=>F.filter(re=>re.field!==E))},x=E=>{const L=[];if(E===1){const F=ga(c.firstName,"First name");F&&L.push({field:"firstName",message:F});const re=ga(c.lastName,"Last name");re&&L.push({field:"lastName",message:re}),c.gender||L.push({field:"gender",message:"Gender is required"}),c.nationality||L.push({field:"nationality",message:"Nationality is required"});const A=Ba(c.email);A&&L.push({field:"email",message:A});const $=dg(c.phone);$&&L.push({field:"phone",message:$});const M=cu(c.personalId);M&&L.push({field:"personalId",message:M})}if(E===2&&(c.university||L.push({field:"university",message:"University is required"}),c.faculty||L.push({field:"faculty",message:"Faculty is required"}),c.degreeLevel||L.push({field:"degreeLevel",message:"Degree level is required"}),c.program||L.push({field:"program",message:"Program/Major is required"}),c.degreeLevel==="student"&&!c.classYear&&L.push({field:"classYear",message:"Class year is required for students"})),E===3&&(c.howDidYouHear||L.push({field:"howDidYouHear",message:"This field is required"}),d.universityId||L.push({field:"universityId",message:"University ID is required"}),d.resume||L.push({field:"resume",message:"CV/Resume is required"}),c.volunteerId&&c.volunteerId.trim())){const F=E1(c.volunteerId);F&&L.push({field:"volunteerId",message:F})}if(E===4){const F=uu(c.password);F&&L.push({field:"password",message:F});const re=hg(c.password,c.confirmPassword);re&&L.push({field:"confirmPassword",message:re})}return L},k=()=>{const E=x(o);if(E.length>0){y(E);return}y([]),o<4&&l(o+1)},N=()=>{o>1&&l(o-1)},S=async E=>{var F,re;E.preventDefault();const L=[1,2,3,4].flatMap(A=>x(A));if(L.length>0){y(L);const A={firstName:1,lastName:1,gender:1,nationality:1,email:1,phone:1,personalId:1,university:2,faculty:2,degreeLevel:2,program:2,classYear:2,howDidYouHear:3,universityId:3,resume:3,volunteerId:3,password:4,confirmPassword:4},$=Math.min(...L.map(M=>A[M.field]??1));l($);return}j(!0),y([]);try{const A={first_name:c.firstName.trim(),last_name:c.lastName.trim(),gender:c.gender,nationality:c.nationality,phone:c.phone.trim(),personal_id:c.personalId.trim(),university:c.university==="Other"?c.customUniversity:c.university,faculty:c.faculty,degree_level:c.degreeLevel,program:c.program,class:c.degreeLevel==="student"?c.classYear:null,how_did_hear_about_event:c.howDidYouHear,volunteer_id:((F=c.volunteerId)==null?void 0:F.trim())||null},{data:$,error:M}=await sg(c.email,c.password,A);if(M){y([{field:"general",message:M.message||"Failed to create account."}]);return}if(console.log(" Attendee registration successful, uploading files..."),(re=$==null?void 0:$.user)!=null&&re.id){const O=$.user.id,Q={};if(d.universityId){const{data:Y,error:ee}=await Jd("university-ids",O,d.universityId);if(ee){console.error("University ID upload failed:",ee),y([{field:"general",message:"Failed to upload University ID. Please try again."}]);return}Q.university_id_path=Y==null?void 0:Y.path}if(d.resume){const{data:Y,error:ee}=await Jd("cvs",O,d.resume);if(ee){console.error("Resume upload failed:",ee),y([{field:"general",message:"Failed to upload Resume. Please try again."}]);return}Q.cv_path=Y==null?void 0:Y.path}if(Object.keys(Q).length>0){const{error:Y}=await Jw(O,Q);Y&&console.warn("Profile file paths update failed (user still created):",Y)}}console.log(" File upload completed, attempting auto-login...");const{error:q}=await e(c.email,c.password);q&&console.warn(" Auto-login failed:",q.message),p(!0)}catch(A){console.error("Unexpected error during registration:",A),y([{field:"general",message:A.message||"An unexpected error occurred. Please try again."}])}finally{j(!1)}},_=E=>{var L;return(L=f.find(F=>F.field===E))==null?void 0:L.message},R=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),a.jsx("input",{type:"text",value:c.firstName,onChange:E=>h("firstName",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("firstName")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your first name"}),_("firstName")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("firstName")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),a.jsx("input",{type:"text",value:c.lastName,onChange:E=>h("lastName",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("lastName")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your last name"}),_("lastName")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("lastName")})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender *"}),a.jsxs("select",{value:c.gender,onChange:E=>h("gender",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("gender")?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select gender"}),a.jsx("option",{value:"male",children:"Male"}),a.jsx("option",{value:"female",children:"Female"})]}),_("gender")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("gender")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality *"}),a.jsxs("select",{value:c.nationality,onChange:E=>h("nationality",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("nationality")?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select nationality"}),a.jsx("option",{value:"Egyptian",children:"Egyptian"}),a.jsx("option",{value:"Other",children:"Other"})]}),_("nationality")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("nationality")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"email",value:c.email,onChange:E=>h("email",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("email")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your email address"})}),_("email")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("email")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",value:c.phone,onChange:E=>h("phone",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("phone")?"border-red-500":"border-gray-300"}`,placeholder:"01X-XXXXXXXX"}),_("phone")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("phone")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal ID *"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",value:c.personalId,onChange:E=>h("personalId",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("personalId")?"border-red-500":"border-gray-300"}`,placeholder:"14-digit Egyptian ID",maxLength:14})}),_("personalId")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("personalId")})]})]})]}),C=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"University *"}),a.jsxs("select",{value:c.university,onChange:E=>h("university",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("university")?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select university"}),T1.map(E=>a.jsx("option",{value:E,children:E},E))]}),_("university")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("university")})]}),c.university==="Other"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom University Name *"}),a.jsx("input",{type:"text",value:c.customUniversity,onChange:E=>h("customUniversity",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("customUniversity")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your university name"}),_("customUniversity")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("customUniversity")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Faculty *"}),a.jsxs("select",{value:c.faculty,onChange:E=>h("faculty",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("faculty")?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select faculty"}),fg.map(E=>a.jsx("option",{value:E,children:E},E))]}),_("faculty")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("faculty")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Degree Level *"}),a.jsxs("select",{value:c.degreeLevel,onChange:E=>h("degreeLevel",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("degreeLevel")?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select degree level"}),a.jsx("option",{value:"student",children:"Student"}),a.jsx("option",{value:"graduate",children:"Graduate"})]}),_("degreeLevel")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("degreeLevel")})]}),c.degreeLevel==="student"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Year *"}),a.jsxs("select",{value:c.classYear,onChange:E=>h("classYear",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("classYear")?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select class year"}),P1.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]}),_("classYear")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("classYear")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program/Major *"}),a.jsx("input",{type:"text",value:c.program,onChange:E=>h("program",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("program")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your program or major"}),_("program")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("program")})]})]}),U=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How did you hear about this event? *"}),a.jsxs("select",{value:c.howDidYouHear,onChange:E=>h("howDidYouHear",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("howDidYouHear")?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select an option"}),R1.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]}),_("howDidYouHear")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("howDidYouHear")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volunteer ID (Optional)"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",value:c.volunteerId,onChange:E=>h("volunteerId",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("volunteerId")?"border-red-500":"border-gray-300"}`,placeholder:"Enter volunteer ID (if applicable)"})}),_("volunteerId")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("volunteerId")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Required Documents"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"University ID *"}),a.jsx(rh,{accept:".jpg,.jpeg,.png,.pdf",maxSize:10*1024*1024,onFileSelect:E=>{m(L=>({...L,universityId:E})),y(L=>L.filter(F=>F.field!=="universityId"))},onFileRemove:()=>m(E=>({...E,universityId:void 0})),label:"Upload University ID (JPG, PNG, PDF - Max 10MB)",currentFile:d.universityId,required:!0}),_("universityId")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("universityId")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV/Resume *"}),a.jsx(rh,{accept:".pdf,.doc,.docx",maxSize:10*1024*1024,onFileSelect:E=>{m(L=>({...L,resume:E})),y(L=>L.filter(F=>F.field!=="resume"))},onFileRemove:()=>m(E=>({...E,resume:void 0})),label:"Upload CV/Resume (PDF, DOC, DOCX - Max 10MB)",currentFile:d.resume,required:!0}),_("resume")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("resume")})]})]})]}),X=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",value:c.password,onChange:E=>h("password",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("password")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your password (minimum 6 characters)"}),_("password")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("password")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",value:c.confirmPassword,onChange:E=>h("confirmPassword",E.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("confirmPassword")?"border-red-500":"border-gray-300"}`,placeholder:"Confirm your password"}),_("confirmPassword")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("confirmPassword")})]})]}),I=()=>{switch(o){case 1:return R();case 2:return C();case 3:return U();case 4:return X();default:return null}};return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):b?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border border-orange-100",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vt,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully. You can now log in to access Career Week Account."}),a.jsx("button",{onClick:()=>t("/login"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 transform hover:scale-105",children:"Go to Login"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white py-8 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Join Career Week"}),a.jsx("p",{className:"text-gray-600",children:"Create your attendee account to access exclusive events"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:g.map((E,L)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${o>=E.id?"bg-orange-500 border-orange-500 text-white":"bg-white border-gray-300 text-gray-400"}`,children:a.jsx(E.icon,{className:"w-5 h-5"})}),L<g.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-2 transition-colors ${o>E.id?"bg-orange-500":"bg-gray-300"}`})]},E.id))}),a.jsx("div",{className:"flex justify-between max-w-2xl mx-auto mt-2",children:g.map(E=>a.jsx("div",{className:"text-xs text-center",style:{width:"120px"},children:a.jsx("span",{className:o>=E.id?"text-orange-600 font-medium":"text-gray-500",children:E.title})},E.id))})]}),a.jsxs("form",{onSubmit:S,className:"bg-white rounded-2xl shadow-2xl p-8 border border-orange-100",children:[_("general")&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[a.jsx(br,{className:"w-5 h-5 text-red-600 mr-3"}),a.jsx("p",{className:"text-red-700",children:_("general")})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:g[o-1].title}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${o/4*100}%`}})})]}),I(),a.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:N,disabled:o===1,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Previous"}),o<4?a.jsxs("button",{type:"button",onClick:k,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 transform hover:scale-105 flex items-center",children:["Next",a.jsx(ag,{className:"w-4 h-4 ml-2"})]}):a.jsx("button",{type:"submit",disabled:w,className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]}),a.jsx("div",{className:"text-center mt-6 pt-6 border-t border-gray-200",children:a.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-orange-600 hover:text-orange-700 font-medium transition-colors",children:"Sign in here"})]})})]})]})})},I1=()=>{const t=zr(),{resetPassword:e}=We(),[r,n]=v.useState({personalId:"",email:""}),[s,i]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(!1),d=(w,j)=>{n(b=>({...b,[w]:j})),i(b=>b.filter(p=>p.field!==w))},m=()=>{const w=[],j=cu(r.personalId);j&&w.push({field:"personalId",message:j});const b=Ba(r.email);return b&&w.push({field:"email",message:b}),w},f=async w=>{w.preventDefault();const j=m();if(j.length>0){i(j);return}l(!0),i([]);try{const{error:b}=await e(r.email);if(b){i([{field:"general",message:b.message}]);return}u(!0)}catch{i([{field:"general",message:"Password reset failed. Please try again."}])}finally{l(!1)}},y=w=>{var j;return(j=s.find(b=>b.field===w))==null?void 0:j.message};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md p-8 text-center",children:[a.jsx(Vt,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent password reset instructions to your email address. Please check your inbox and follow the link to reset your password."}),a.jsx("button",{onClick:()=>t("/login"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Back to Login"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-6 text-center",children:[a.jsx(f1,{className:"mx-auto h-12 w-12 text-white mb-3"}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),a.jsx("p",{className:"text-orange-100",children:"Enter your details to reset your password"})]}),a.jsxs("form",{onSubmit:f,className:"p-8",children:[y("general")&&a.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex items-center space-x-2 mb-6",children:[a.jsx(br,{className:"h-5 w-5 text-red-600"}),a.jsx("p",{className:"text-red-700",children:y("general")})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal ID"}),a.jsx("input",{type:"text",value:r.personalId,onChange:w=>d("personalId",w.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${y("personalId")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your 14-digit Personal ID",maxLength:14}),y("personalId")&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:y("personalId")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:r.email,onChange:w=>d("email",w.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${y("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your registered email address"}),y("email")&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:y("email")})]}),a.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Sending Reset Link..."})]}):"Send Reset Link"}),a.jsxs("button",{type:"button",onClick:()=>t("/login"),className:"w-full flex items-center justify-center space-x-2 text-orange-600 hover:text-orange-700 font-medium py-2 transition-colors",children:[a.jsx(s1,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Login"})]})]})]})]})})},L1=()=>{const t=zr(),{signUpVolunteer:e,signIn:r,isAuthenticated:n,profile:s,loading:i,getRoleBasedRedirect:o}=We(),[l,c]=v.useState(1),[u,d]=v.useState({firstName:"",lastName:"",email:"",phone:"",personalId:"",faculty:"",password:"",confirmPassword:"",role:""}),[m,f]=v.useState([]),[y,w]=v.useState(!1),[j,b]=v.useState(!1),p=[{id:1,title:"Personal Information",icon:gt},{id:2,title:"Role Selection",icon:ys},{id:3,title:"Account Security",icon:au}],g=[{value:"registration",label:"Registration Desk"},{value:"building",label:"Building Assistance"},{value:"info_desk",label:"Info Desk"},{value:"volunteer",label:"Other Volunteer"},{value:"team_leader",label:"Team Leader"}];v.useEffect(()=>{n&&s&&!i&&(console.log(" Auth context ready, redirecting to dashboard..."),t(o(),{replace:!0}))},[n,s,i,t,o]);const h=(I,E)=>{d(L=>({...L,[I]:E})),f(L=>L.filter(F=>F.field!==I))},x=I=>{const E=[];if(I===1){const L=ga(u.firstName,"First name");L&&E.push({field:"firstName",message:L});const F=ga(u.lastName,"Last name");F&&E.push({field:"lastName",message:F});const re=Ba(u.email);re&&E.push({field:"email",message:re});const A=dg(u.phone);A&&E.push({field:"phone",message:A});const $=cu(u.personalId);$&&E.push({field:"personalId",message:$}),u.faculty||E.push({field:"faculty",message:"Faculty is required"})}if(I===2&&(u.role||E.push({field:"role",message:"Please select a volunteer role"})),I===3){const L=uu(u.password);L&&E.push({field:"password",message:L});const F=hg(u.password,u.confirmPassword);F&&E.push({field:"confirmPassword",message:F})}return E},k=()=>{const I=x(l);if(I.length>0){f(I);return}f([]),l<3&&c(l+1)},N=()=>{l>1&&c(l-1)},S=async I=>{I.preventDefault();const E=[1,2,3].flatMap(L=>x(L));if(E.length>0){f(E);const L=Math.min(...E.map(F=>["firstName","lastName","email","phone","personalId","faculty"].includes(F.field)?1:["role"].includes(F.field)?2:["password","confirmPassword"].includes(F.field)?3:1));c(L);return}w(!0),f([]);try{const L={first_name:u.firstName.trim(),last_name:u.lastName.trim(),phone:u.phone.trim(),personal_id:u.personalId.trim(),faculty:u.faculty,role:u.role},{data:F,error:re}=await e(u.email,u.password,L);if(re){f([{field:"general",message:re.message}]);return}}catch{}finally{w(!1)}},_=I=>{var E;return(E=m.find(L=>L.field===I))==null?void 0:E.message},R=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),a.jsx("input",{type:"text",value:u.firstName,onChange:I=>h("firstName",I.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("firstName")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your first name"}),_("firstName")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("firstName")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),a.jsx("input",{type:"text",value:u.lastName,onChange:I=>h("lastName",I.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("lastName")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your last name"}),_("lastName")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("lastName")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",value:u.email,onChange:I=>h("email",I.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("email")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your email address"}),_("email")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("email")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",value:u.phone,onChange:I=>h("phone",I.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("phone")?"border-red-500":"border-gray-300"}`,placeholder:"01X-XXXXXXXX"}),_("phone")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("phone")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal ID *"}),a.jsx("input",{type:"text",value:u.personalId,onChange:I=>h("personalId",I.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("personalId")?"border-red-500":"border-gray-300"}`,placeholder:"14-digit Egyptian ID",maxLength:14}),_("personalId")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("personalId")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Faculty *"}),a.jsxs("select",{value:u.faculty,onChange:I=>h("faculty",I.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("faculty")?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select faculty"}),fg.map(I=>a.jsx("option",{value:I,children:I},I))]}),_("faculty")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("faculty")})]})]}),C=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(ys,{className:"h-6 w-6 text-orange-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Volunteer Role Selection"})]}),a.jsx("p",{className:"text-orange-800",children:"Please select the volunteer role you're interested in. This helps us assign you to the most suitable position."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Preferred Volunteer Role *"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(I=>a.jsxs("label",{className:`relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors ${u.role===I.value?"border-orange-500 bg-orange-50":"border-gray-300 bg-white hover:bg-gray-50"}`,children:[a.jsx("input",{type:"radio",name:"role",value:I.value,checked:u.role===I.value,onChange:E=>h("role",E.target.value),className:"sr-only"}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("div",{className:"flex flex-col",children:a.jsx("span",{className:"font-medium text-gray-900",children:I.label})}),a.jsx("div",{className:`flex-shrink-0 ${u.role===I.value?"text-orange-600":"text-gray-300"}`,children:a.jsx(Vt,{className:"h-6 w-6"})})]})]},I.value))}),_("role")&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:_("role")})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Note:"})," Specific role assignments will be communicated after registration."]})})]}),U=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",value:u.password,onChange:I=>h("password",I.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("password")?"border-red-500":"border-gray-300"}`,placeholder:"Enter your password (minimum 6 characters)"}),_("password")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("password")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",value:u.confirmPassword,onChange:I=>h("confirmPassword",I.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${_("confirmPassword")?"border-red-500":"border-gray-300"}`,placeholder:"Confirm your password"}),_("confirmPassword")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:_("confirmPassword")})]})]}),X=()=>{switch(l){case 1:return R();case 2:return C();case 3:return U();default:return null}};return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):j?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border border-orange-100",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vt,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Volunteer Registration Successful!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully. You can now log in to access your volunteer dashboard."}),a.jsx("button",{onClick:()=>t("/login"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 transform hover:scale-105",children:"Go to Login"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white py-8 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(ys,{className:"h-12 w-12 text-orange-600 mr-3"}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Volunteer Registration"})]}),a.jsx("p",{className:"text-gray-600",children:"Join our amazing volunteer team and help make Career Week unforgettable!"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:p.map((I,E)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${l>=I.id?"bg-orange-500 border-orange-500 text-white":"bg-white border-gray-300 text-gray-400"}`,children:a.jsx(I.icon,{className:"w-5 h-5"})}),E<p.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-2 transition-colors ${l>I.id?"bg-orange-500":"bg-gray-300"}`})]},I.id))}),a.jsx("div",{className:"flex justify-between max-w-2xl mx-auto mt-2",children:p.map(I=>a.jsx("div",{className:"text-xs text-center",style:{width:"120px"},children:a.jsx("span",{className:l>=I.id?"text-orange-600 font-medium":"text-gray-500",children:I.title})},I.id))})]}),a.jsxs("form",{onSubmit:S,className:"bg-white rounded-2xl shadow-2xl p-8 border border-orange-100",children:[_("general")&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[a.jsx(br,{className:"w-5 h-5 text-red-600 mr-3"}),a.jsx("p",{className:"text-red-700",children:_("general")})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:p[l-1].title}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${l/3*100}%`}})})]}),X(),a.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:N,disabled:l===1,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${l===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Previous"}),l<3?a.jsxs("button",{type:"button",onClick:k,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 transform hover:scale-105 flex items-center",children:["Next",a.jsx(ag,{className:"w-4 h-4 ml-2"})]}):a.jsx("button",{type:"submit",disabled:y,className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Volunteer Account..."]}):"Create Volunteer Account"})]}),a.jsx("div",{className:"text-center mt-6 pt-6 border-t border-gray-200",children:a.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-orange-600 hover:text-orange-700 font-medium transition-colors",children:"Sign in here"})]})})]})]})})};var Ys={},$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},mg={},Xe={};let du;const O1=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Xe.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Xe.getSymbolTotalCodewords=function(e){return O1[e]};Xe.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Xe.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');du=e};Xe.isKanjiModeEnabled=function(){return typeof du<"u"};Xe.toSJIS=function(e){return du(e)};var za={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,s){if(t.isValid(n))return n;try{return e(n)}catch{return s}}})(za);function gg(){this.buffer=[],this.length=0}gg.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var D1=gg;function Xs(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Xs.prototype.set=function(t,e,r,n){const s=t*this.size+e;this.data[s]=r,n&&(this.reservedBit[s]=!0)};Xs.prototype.get=function(t,e){return this.data[t*this.size+e]};Xs.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Xs.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var M1=Xs,pg={};(function(t){const e=Xe.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,i=e(n),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,l=[i-7];for(let c=1;c<s-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(n){const s=[],i=t.getRowColCoords(n),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||s.push([i[l],i[c]]);return s}})(pg);var yg={};const U1=Xe.getSymbolSize,nh=7;yg.getPositions=function(e){const r=U1(e);return[[0,0],[r-nh,0],[0,r-nh]]};var xg={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,l=0,c=0,u=null,d=null;for(let m=0;m<i;m++){l=c=0,u=d=null;for(let f=0;f<i;f++){let y=s.get(m,f);y===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=y,l=1),y=s.get(f,m),y===d?c++:(c>=5&&(o+=e.N1+(c-5)),d=y,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=s.get(l,c)+s.get(l,c+1)+s.get(l+1,c)+s.get(l+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|s.get(u,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|s.get(d,u),d>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function r(n,s,i){switch(n){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(s,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,r(s,c,l))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){i(u),t.applyMask(u,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(u,s),d<c&&(c=d,l=u)}return l}})(xg);var Va={};const ir=za,_i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ni=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Va.getBlocksCount=function(e,r){switch(r){case ir.L:return _i[(e-1)*4+0];case ir.M:return _i[(e-1)*4+1];case ir.Q:return _i[(e-1)*4+2];case ir.H:return _i[(e-1)*4+3];default:return}};Va.getTotalCodewordsCount=function(e,r){switch(r){case ir.L:return Ni[(e-1)*4+0];case ir.M:return Ni[(e-1)*4+1];case ir.Q:return Ni[(e-1)*4+2];case ir.H:return Ni[(e-1)*4+3];default:return}};var vg={},Ha={};const xs=new Uint8Array(512),pa=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)xs[r]=e,pa[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)xs[r]=xs[r-255]})();Ha.log=function(e){if(e<1)throw new Error("log("+e+")");return pa[e]};Ha.exp=function(e){return xs[e]};Ha.mul=function(e,r){return e===0||r===0?0:xs[pa[e]+pa[r]]};(function(t){const e=Ha;t.mul=function(n,s){const i=new Uint8Array(n.length+s.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<s.length;l++)i[o+l]^=e.mul(n[o],s[l]);return i},t.mod=function(n,s){let i=new Uint8Array(n);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},t.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(vg);const wg=vg;function hu(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}hu.prototype.initialize=function(e){this.degree=e,this.genPoly=wg.generateECPolynomial(this.degree)};hu.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=wg.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(n,s),i}return n};var F1=hu,bg={},jr={},fu={};fu.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Pt={};const jg="[0-9]+",B1="[A-Z $%*+\\-./:]+";let Fs="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Fs=Fs.replace(/u/g,"\\u");const z1="(?:(?![A-Z0-9 $%*+\\-./:]|"+Fs+`)(?:.|[\r
]))+`;Pt.KANJI=new RegExp(Fs,"g");Pt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Pt.BYTE=new RegExp(z1,"g");Pt.NUMERIC=new RegExp(jg,"g");Pt.ALPHANUMERIC=new RegExp(B1,"g");const V1=new RegExp("^"+Fs+"$"),H1=new RegExp("^"+jg+"$"),W1=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Pt.testKanji=function(e){return V1.test(e)};Pt.testNumeric=function(e){return H1.test(e)};Pt.testAlphanumeric=function(e){return W1.test(e)};(function(t){const e=fu,r=Pt;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return r.testNumeric(i)?t.NUMERIC:r.testAlphanumeric(i)?t.ALPHANUMERIC:r.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return n(i)}catch{return o}}})(jr);(function(t){const e=Xe,r=Va,n=za,s=jr,i=fu,o=7973,l=e.getBCHDigit(o);function c(f,y,w){for(let j=1;j<=40;j++)if(y<=t.getCapacity(j,w,f))return j}function u(f,y){return s.getCharCountIndicator(f,y)+4}function d(f,y){let w=0;return f.forEach(function(j){const b=u(j.mode,y);w+=b+j.getBitsLength()}),w}function m(f,y){for(let w=1;w<=40;w++)if(d(f,w)<=t.getCapacity(w,y,s.MIXED))return w}t.from=function(y,w){return i.isValid(y)?parseInt(y,10):w},t.getCapacity=function(y,w,j){if(!i.isValid(y))throw new Error("Invalid QR Code version");typeof j>"u"&&(j=s.BYTE);const b=e.getSymbolTotalCodewords(y),p=r.getTotalCodewordsCount(y,w),g=(b-p)*8;if(j===s.MIXED)return g;const h=g-u(j,y);switch(j){case s.NUMERIC:return Math.floor(h/10*3);case s.ALPHANUMERIC:return Math.floor(h/11*2);case s.KANJI:return Math.floor(h/13);case s.BYTE:default:return Math.floor(h/8)}},t.getBestVersionForData=function(y,w){let j;const b=n.from(w,n.M);if(Array.isArray(y)){if(y.length>1)return m(y,b);if(y.length===0)return 1;j=y[0]}else j=y;return c(j.mode,j.getLength(),b)},t.getEncodedBits=function(y){if(!i.isValid(y)||y<7)throw new Error("Invalid QR Code version");let w=y<<12;for(;e.getBCHDigit(w)-l>=0;)w^=o<<e.getBCHDigit(w)-l;return y<<12|w}})(bg);var _g={};const Ql=Xe,Ng=1335,q1=21522,sh=Ql.getBCHDigit(Ng);_g.getEncodedBits=function(e,r){const n=e.bit<<3|r;let s=n<<10;for(;Ql.getBCHDigit(s)-sh>=0;)s^=Ng<<Ql.getBCHDigit(s)-sh;return(n<<10|s)^q1};var Sg={};const Q1=jr;function En(t){this.mode=Q1.NUMERIC,this.data=t.toString()}En.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};En.prototype.getLength=function(){return this.data.length};En.prototype.getBitsLength=function(){return En.getBitsLength(this.data.length)};En.prototype.write=function(e){let r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),e.put(s,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),s=parseInt(n,10),e.put(s,i*3+1))};var K1=En;const G1=jr,Io=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Cn(t){this.mode=G1.ALPHANUMERIC,this.data=t}Cn.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Cn.prototype.getLength=function(){return this.data.length};Cn.prototype.getBitsLength=function(){return Cn.getBitsLength(this.data.length)};Cn.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Io.indexOf(this.data[r])*45;n+=Io.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Io.indexOf(this.data[r]),6)};var J1=Cn;const Y1=jr;function Pn(t){this.mode=Y1.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Pn.getBitsLength=function(e){return e*8};Pn.prototype.getLength=function(){return this.data.length};Pn.prototype.getBitsLength=function(){return Pn.getBitsLength(this.data.length)};Pn.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var X1=Pn;const Z1=jr,eb=Xe;function Rn(t){this.mode=Z1.KANJI,this.data=t}Rn.getBitsLength=function(e){return e*13};Rn.prototype.getLength=function(){return this.data.length};Rn.prototype.getBitsLength=function(){return Rn.getBitsLength(this.data.length)};Rn.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=eb.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var tb=Rn,kg={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,s){var i={},o={};o[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var c,u,d,m,f,y,w,j,b;!l.empty();){c=l.pop(),u=c.value,m=c.cost,f=r[u]||{};for(d in f)f.hasOwnProperty(d)&&(y=f[d],w=m+y,j=o[d],b=typeof o[d]>"u",(b||j>w)&&(o[d]=w,l.push(d,w),i[d]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var p=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var s=[],i=n;i;)s.push(i),r[i],i=r[i];return s.reverse(),s},find_path:function(r,n,s){var i=e.single_source_shortest_paths(r,n,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,s={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=r.sorter||n.default_sorter,s},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var s={value:r,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(kg);var rb=kg.exports;(function(t){const e=jr,r=K1,n=J1,s=X1,i=tb,o=Pt,l=Xe,c=rb;function u(p){return unescape(encodeURIComponent(p)).length}function d(p,g,h){const x=[];let k;for(;(k=p.exec(h))!==null;)x.push({data:k[0],index:k.index,mode:g,length:k[0].length});return x}function m(p){const g=d(o.NUMERIC,e.NUMERIC,p),h=d(o.ALPHANUMERIC,e.ALPHANUMERIC,p);let x,k;return l.isKanjiModeEnabled()?(x=d(o.BYTE,e.BYTE,p),k=d(o.KANJI,e.KANJI,p)):(x=d(o.BYTE_KANJI,e.BYTE,p),k=[]),g.concat(h,x,k).sort(function(S,_){return S.index-_.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function f(p,g){switch(g){case e.NUMERIC:return r.getBitsLength(p);case e.ALPHANUMERIC:return n.getBitsLength(p);case e.KANJI:return i.getBitsLength(p);case e.BYTE:return s.getBitsLength(p)}}function y(p){return p.reduce(function(g,h){const x=g.length-1>=0?g[g.length-1]:null;return x&&x.mode===h.mode?(g[g.length-1].data+=h.data,g):(g.push(h),g)},[])}function w(p){const g=[];for(let h=0;h<p.length;h++){const x=p[h];switch(x.mode){case e.NUMERIC:g.push([x,{data:x.data,mode:e.ALPHANUMERIC,length:x.length},{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.ALPHANUMERIC:g.push([x,{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.KANJI:g.push([x,{data:x.data,mode:e.BYTE,length:u(x.data)}]);break;case e.BYTE:g.push([{data:x.data,mode:e.BYTE,length:u(x.data)}])}}return g}function j(p,g){const h={},x={start:{}};let k=["start"];for(let N=0;N<p.length;N++){const S=p[N],_=[];for(let R=0;R<S.length;R++){const C=S[R],U=""+N+R;_.push(U),h[U]={node:C,lastCount:0},x[U]={};for(let X=0;X<k.length;X++){const I=k[X];h[I]&&h[I].node.mode===C.mode?(x[I][U]=f(h[I].lastCount+C.length,C.mode)-f(h[I].lastCount,C.mode),h[I].lastCount+=C.length):(h[I]&&(h[I].lastCount=C.length),x[I][U]=f(C.length,C.mode)+4+e.getCharCountIndicator(C.mode,g))}}k=_}for(let N=0;N<k.length;N++)x[k[N]].end=0;return{map:x,table:h}}function b(p,g){let h;const x=e.getBestModeForData(p);if(h=e.from(g,x),h!==e.BYTE&&h.bit<x.bit)throw new Error('"'+p+'" cannot be encoded with mode '+e.toString(h)+`.
 Suggested mode is: `+e.toString(x));switch(h===e.KANJI&&!l.isKanjiModeEnabled()&&(h=e.BYTE),h){case e.NUMERIC:return new r(p);case e.ALPHANUMERIC:return new n(p);case e.KANJI:return new i(p);case e.BYTE:return new s(p)}}t.fromArray=function(g){return g.reduce(function(h,x){return typeof x=="string"?h.push(b(x,null)):x.data&&h.push(b(x.data,x.mode)),h},[])},t.fromString=function(g,h){const x=m(g,l.isKanjiModeEnabled()),k=w(x),N=j(k,h),S=c.find_path(N.map,"start","end"),_=[];for(let R=1;R<S.length-1;R++)_.push(N.table[S[R]].node);return t.fromArray(y(_))},t.rawSplit=function(g){return t.fromArray(m(g,l.isKanjiModeEnabled()))}})(Sg);const Wa=Xe,Lo=za,nb=D1,sb=M1,ib=pg,ab=yg,Kl=xg,Gl=Va,ob=F1,ya=bg,lb=_g,cb=jr,$o=Sg;function ub(t,e){const r=t.size,n=ab.getPositions(e);for(let s=0;s<n.length;s++){const i=n[s][0],o=n[s][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(i+l,o+c,!0,!0):t.set(i+l,o+c,!1,!0))}}function db(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function hb(t,e){const r=ib.getPositions(e);for(let n=0;n<r.length;n++){const s=r[n][0],i=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(s+o,i+l,!0,!0):t.set(s+o,i+l,!1,!0)}}function fb(t,e){const r=t.size,n=ya.getEncodedBits(e);let s,i,o;for(let l=0;l<18;l++)s=Math.floor(l/3),i=l%3+r-8-3,o=(n>>l&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function Oo(t,e,r){const n=t.size,s=lb.getEncodedBits(e,r);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(n-15+i,8,o,!0),i<8?t.set(8,n-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(n-8,8,1,!0)}function mb(t,e){const r=t.size;let n=-1,s=r-1,i=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(s,l-c)){let u=!1;o<e.length&&(u=(e[o]>>>i&1)===1),t.set(s,l-c,u),i--,i===-1&&(o++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function gb(t,e,r){const n=new nb;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),cb.getCharCountIndicator(c.mode,t)),c.write(n)});const s=Wa.getSymbolTotalCodewords(t),i=Gl.getTotalCodewordsCount(t,e),o=(s-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return pb(n,t,e)}function pb(t,e,r){const n=Wa.getSymbolTotalCodewords(e),s=Gl.getTotalCodewordsCount(e,r),i=n-s,o=Gl.getBlocksCount(e,r),l=n%o,c=o-l,u=Math.floor(n/o),d=Math.floor(i/o),m=d+1,f=u-d,y=new ob(f);let w=0;const j=new Array(o),b=new Array(o);let p=0;const g=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const _=S<c?d:m;j[S]=g.slice(w,w+_),b[S]=y.encode(j[S]),w+=_,p=Math.max(p,_)}const h=new Uint8Array(n);let x=0,k,N;for(k=0;k<p;k++)for(N=0;N<o;N++)k<j[N].length&&(h[x++]=j[N][k]);for(k=0;k<f;k++)for(N=0;N<o;N++)h[x++]=b[N][k];return h}function yb(t,e,r,n){let s;if(Array.isArray(t))s=$o.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=$o.rawSplit(t);u=ya.getBestVersionForData(d,r)}s=$o.fromString(t,u||40)}else throw new Error("Invalid data");const i=ya.getBestVersionForData(s,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=gb(e,r,s),l=Wa.getSymbolSize(e),c=new sb(l);return ub(c,e),db(c),hb(c,e),Oo(c,r,0),e>=7&&fb(c,e),mb(c,o),isNaN(n)&&(n=Kl.getBestMask(c,Oo.bind(null,c,r))),Kl.applyMask(n,c),Oo(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:s}}mg.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Lo.M,s,i;return typeof r<"u"&&(n=Lo.from(r.errorCorrectionLevel,Lo.M),s=ya.from(r.version),i=Kl.from(r.maskPattern),r.toSJISFunc&&Wa.setToSJISFunction(r.toSJISFunc)),yb(e,s,n,i)};var Eg={},mu={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},t.getImageWidth=function(n,s){const i=t.getScale(n,s);return Math.floor((n+s.margin*2)*i)},t.qrToImageData=function(n,s,i){const o=s.modules.size,l=s.modules.data,c=t.getScale(o,i),u=Math.floor((o+i.margin*2)*c),d=i.margin*c,m=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let y=0;y<u;y++){let w=(f*u+y)*4,j=i.color.light;if(f>=d&&y>=d&&f<u-d&&y<u-d){const b=Math.floor((f-d)/c),p=Math.floor((y-d)/c);j=m[l[b*o+p]?1:0]}n[w++]=j.r,n[w++]=j.g,n[w++]=j.b,n[w]=j.a}}})(mu);(function(t){const e=mu;function r(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=e.getOptions(c);const d=e.getImageWidth(i.modules.size,c),m=u.getContext("2d"),f=m.createImageData(d,d);return e.qrToImageData(f.data,i,c),r(m,u,d),m.putImageData(f,0,0),u},t.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(i,o,c),d=c.type||"image/png",m=c.rendererOpts||{};return u.toDataURL(d,m.quality)}})(Eg);var Cg={};const xb=mu;function ih(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Do(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function vb(t,e,r){let n="",s=0,i=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);!c&&!i&&(i=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(n+=i?Do("M",c+r,.5+u+r):Do("m",s,0),s=0,i=!1),c+1<e&&t[l+1]||(n+=Do("h",o),o=0)):s++}return n}Cg.render=function(e,r,n){const s=xb.getOptions(r),i=e.modules.size,o=e.modules.data,l=i+s.margin*2,c=s.color.light.a?"<path "+ih(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+ih(s.color.dark,"stroke")+' d="'+vb(o,i,s.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,f),f};const wb=$1,Jl=mg,Pg=Eg,bb=Cg;function gu(t,e,r,n,s){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!wb())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(s=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,u){try{const d=Jl.create(r,n);c(t(d,e,n))}catch(d){u(d)}})}try{const c=Jl.create(r,n);s(null,t(c,e,n))}catch(c){s(c)}}Ys.create=Jl.create;Ys.toCanvas=gu.bind(null,Pg.render);Ys.toDataURL=gu.bind(null,Pg.renderToDataURL);Ys.toString=gu.bind(null,function(t,e,r){return bb.render(t,r)});const vt=({children:t,title:e,subtitle:r})=>{var Fn,Bn,Zs;const{profile:n,signOut:s}=We(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[m,f]=v.useState(!1),[y,w]=v.useState(!1),[j,b]=v.useState(null),[p,g]=v.useState(""),[h,x]=v.useState(!1),[k,N]=v.useState([]),[S,_]=v.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[R,C]=v.useState({old:!1,new:!1,confirm:!1}),[U,X]=v.useState(!1),[I,E]=v.useState(null),[L,F]=v.useState(null),[re,A]=v.useState(!1),$=v.useRef(null),M=v.useRef(null);v.useEffect(()=>{q()},[n==null?void 0:n.id]),v.useEffect(()=>{const z=ye=>{$.current&&!$.current.contains(ye.target)&&o(!1),M.current&&!M.current.contains(ye.target)&&c(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),v.useEffect(()=>{u&&(n!=null&&n.id)&&O()},[u,n==null?void 0:n.id]);const q=async()=>{if(n!=null&&n.id)try{const{data:z,error:ye}=await V.from("notifications").select("*").eq("user_id",n.id).order("created_at",{ascending:!1}).limit(10);ye?console.error("Error fetching notifications:",ye):z&&N(z)}catch(z){console.error("Error fetching notifications:",z)}},O=async()=>{if(n!=null&&n.id){x(!0);try{const z=await Ys.toDataURL(n.id,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"});g(z)}catch(z){console.error("Error generating QR code:",z),g("")}finally{x(!1)}}},Q=async()=>{if(!re){A(!0),o(!1);try{console.log(" Initiating logout..."),await s(),console.log(" Logout completed")}catch(z){console.error(" Logout error:",z),window.location.href="/login"}finally{A(!1)}}},Y=()=>{d(!0),o(!1)},ee=z=>{b(z),w(!0),c(!1)},Se=async z=>{try{const{error:ye}=await V.from("notifications").update({is_read:!0}).eq("id",z);ye||(N(Qa=>Qa.map(zn=>zn.id===z?{...zn,is_read:!0}:zn)),w(!1),b(null))}catch(ye){console.error("Error marking notification as read:",ye)}},Wt=async z=>{if(z.preventDefault(),E(null),F(null),S.newPassword!==S.confirmPassword){E("New passwords do not match");return}if(S.newPassword.length<6){E("New password must be at least 6 characters long");return}X(!0);try{const{error:ye}=await V.auth.updateUser({password:S.newPassword});ye?E(ye.message||"Failed to update password. Please try again."):(F("Password updated successfully!"),_({oldPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{f(!1),F(null)},2e3))}catch{E("An unexpected error occurred. Please try again.")}finally{X(!1)}},qa=()=>{switch(n==null?void 0:n.role){case"attendee":return a.jsx(gt,{className:"h-5 w-5"});case"volunteer":return a.jsx(ys,{className:"h-5 w-5"});case"registration":return a.jsx(lu,{className:"h-5 w-5"});case"building":return a.jsx(Ms,{className:"h-5 w-5"});case"team_leader":return a.jsx(xt,{className:"h-5 w-5"});case"admin":return a.jsx(ou,{className:"h-5 w-5"});default:return a.jsx(gt,{className:"h-5 w-5"})}},le=()=>{switch(n==null?void 0:n.role){case"attendee":return"bg-blue-100 text-blue-800";case"volunteer":return"bg-pink-100 text-pink-800";case"registration":return"bg-green-100 text-green-800";case"building":return"bg-purple-100 text-purple-800";case"team_leader":return"bg-indigo-100 text-indigo-800";case"admin":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},qt=k.filter(z=>!z.is_read).length;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-orange-100",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/src/Assets/logo.png",alt:"Career Week Logo",className:"w-8 h-8 object-contain"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Career Week"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",ref:M,children:[a.jsxs("button",{onClick:()=>c(!l),className:"relative p-2 text-gray-400 hover:text-orange-600 transition-colors","aria-label":"Notifications",children:[a.jsx(Zd,{className:"h-5 w-5"}),qt>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:qt>9?"9+":qt})]}),l&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-y-auto",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:k.length>0?k.map(z=>a.jsx("button",{onClick:()=>ee(z),className:`w-full text-left p-4 hover:bg-gray-50 border-b border-gray-100 transition-colors ${z.is_read?"":"bg-orange-50"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:z.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:z.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(z.created_at).toLocaleDateString()})]}),!z.is_read&&a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full ml-2 mt-1"})]})},z.id)):a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(Zd,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No notifications yet"})]})})]})]}),a.jsxs("div",{className:"relative",ref:$,children:[a.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Profile menu",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate max-w-32",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),a.jsx("p",{className:"text-xs text-gray-500 truncate max-w-32",children:(n==null?void 0:n.email)||"No email"})]}),a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-white font-medium text-sm",children:[(Fn=n==null?void 0:n.first_name)==null?void 0:Fn.charAt(0),(Bn=n==null?void 0:n.last_name)==null?void 0:Bn.charAt(0)]})}),a.jsx(l1,{className:"h-4 w-4 text-gray-400"})]}),i&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("button",{onClick:Y,className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[a.jsx(gt,{className:"h-4 w-4 mr-3"}),"Profile"]}),a.jsxs("button",{onClick:Q,disabled:re,className:"w-full flex items-center px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(m1,{className:"h-4 w-4 mr-3"}),re?"Logging out...":"Logout"]})]})})]})]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e}),r&&a.jsx("p",{className:"mt-2 text-gray-600",children:r})]}),t]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Profile Information"}),a.jsx("button",{onClick:()=>{d(!1),g("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(ht,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-48 h-48 bg-white border-2 border-gray-200 rounded-lg mx-auto mb-4 flex items-center justify-center overflow-hidden",children:h?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Generating QR Code..."})]}):p?a.jsx("img",{src:p,alt:"Profile QR Code",className:"w-full h-full object-contain"}):a.jsxs("div",{className:"text-center",children:[a.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-gray-500",children:"QR Code unavailable"})]})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show this QR code for check-ins"}),(n==null?void 0:n.id)&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1 font-mono break-all px-4",children:["ID: ",n.id]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n==null?void 0:n.first_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n==null?void 0:n.last_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 break-all",children:(n==null?void 0:n.email)||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(n==null?void 0:n.phone)||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Personal ID"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(n==null?void 0:n.personal_id)||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),a.jsx("div",{className:"mt-1 flex items-center",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${le()}`,children:[qa(),a.jsx("span",{className:"ml-1 capitalize",children:(Zs=n==null?void 0:n.role)==null?void 0:Zs.replace("_"," ")})]})})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 space-y-3",children:[a.jsx("button",{onClick:()=>f(!0),className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"Change Password"}),p&&a.jsx("button",{onClick:()=>{const z=document.createElement("a");z.download=`qr-code-${n==null?void 0:n.first_name}-${n==null?void 0:n.last_name}.png`,z.href=p,z.click()},className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Download QR Code"})]})]})})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Change Password"}),a.jsx("button",{onClick:()=>{f(!1),_({oldPassword:"",newPassword:"",confirmPassword:""}),E(null),F(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(ht,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:Wt,className:"space-y-4",children:[I&&a.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[a.jsx(br,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("p",{className:"text-red-700 text-sm",children:I})]}),L&&a.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[a.jsx(Vt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("p",{className:"text-green-700 text-sm",children:L})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:R.new?"text":"password",value:S.newPassword,onChange:z=>_(ye=>({...ye,newPassword:z.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>C(z=>({...z,new:!z.new})),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:R.new?a.jsx(Wl,{className:"h-4 w-4"}):a.jsx(ql,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:R.confirm?"text":"password",value:S.confirmPassword,onChange:z=>_(ye=>({...ye,confirmPassword:z.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>C(z=>({...z,confirm:!z.confirm})),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:R.confirm?a.jsx(Wl,{className:"h-4 w-4"}):a.jsx(ql,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{f(!1),_({oldPassword:"",newPassword:"",confirmPassword:""}),E(null),F(null)},className:"flex-1 bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:U,className:"flex-1 bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:U?"Updating...":"Save Changes"})]})]})]})})}),y&&j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Notification"}),a.jsx("button",{onClick:()=>{w(!1),b(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(ht,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"font-semibold text-gray-900",children:j.title})}),a.jsx("div",{children:a.jsx("p",{className:"text-gray-700",children:j.message})}),a.jsxs("div",{className:"text-sm text-gray-500",children:[a.jsxs("p",{children:["From: ",j.sender]}),a.jsxs("p",{children:["Date: ",new Date(j.created_at).toLocaleString()]})]})]}),!j.is_read&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsx("button",{onClick:()=>Se(j.id),className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"Mark as Read"})})]})})})]})},jb=()=>{const{profile:t}=We();zr();const[e,r]=v.useState(null),[n,s]=v.useState([]),[i,o]=v.useState("overview"),[l,c]=v.useState(1),[u,d]=v.useState(!0),[m,f]=v.useState(!1);v.useEffect(()=>{y()},[t==null?void 0:t.id]);const y=async()=>{if(t!=null&&t.id)try{const{data:g}=await V.from("user_scores").select("score").eq("user_id",t.id).single();if(g){const{data:k}=await V.rpc("get_user_ranking",{user_id:t.id});r({score:g.score||0,rank:(k==null?void 0:k.rank)||0,total_users:(k==null?void 0:k.total_users)||0})}const h=new Date().toISOString().split("T")[0],{data:x}=await V.from("schedule_items").select("*").gte("start_time",`${h}T00:00:00`).lt("start_time",`${h}T23:59:59`).order("start_time",{ascending:!0});x&&s(x)}catch(g){console.error(g)}finally{d(!1)}},w=()=>(t==null?void 0:t.id)||"";if(u)return a.jsx(vt,{title:"Dashboard",subtitle:"Welcome back to Career Week",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})});const j=["/src/Assets/day1.png","/src/Assets/day2.png","/src/Assets/day3.png","/src/Assets/day4.png","/src/Assets/day5.png"],b=[{name:"Google",logo:"https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg",description:"Leading global technology company offering cloud, software, and AI roles.",url:"https://careers.google.com/"},{name:"Microsoft",logo:"https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg",description:"Enterprise software giant with roles in cloud, security, and engineering.",url:"https://careers.microsoft.com/"},{name:"Cyshield",logo:"https://www.cyshield.com/images/logo.png",description:"Cybersecurity solutions provider offering internships and security engineer positions.",url:"https://www.cyshield.com/"}],p=g=>{window.open(g,"_blank")};return a.jsxs(vt,{title:"Attendee Dashboard",subtitle:`Welcome back, ${t==null?void 0:t.first_name}!`,children:[a.jsx("div",{className:"flex space-x-4 border-b mb-6",children:["overview","events","maps","employers"].map(g=>a.jsxs("button",{onClick:()=>o(g),className:`py-2 px-4 font-semibold ${i===g?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-orange-600"}`,children:[g==="overview"&&"Overview",g==="events"&&"Event Days",g==="maps"&&"Maps",g==="employers"&&"Employers"]},g))}),i==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your Score"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(e==null?void 0:e.score)||0}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mt-2",children:a.jsx(ug,{className:"h-6 w-6 text-orange-600"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your Rank"}),a.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["#",(e==null?void 0:e.rank)||0]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["of ",(e==null?void 0:e.total_users)||0," attendees"]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mt-2",children:a.jsx(_1,{className:"h-6 w-6 text-blue-600"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your QR Code"}),a.jsx("button",{onClick:()=>f(!0),className:"mt-2 bg-orange-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-orange-600 transition-colors",children:"Show QR"}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mt-2",children:a.jsx(Et,{className:"h-6 w-6 text-green-600"})})]})]}),i==="events"&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Us,{className:"h-5 w-5 mr-2 text-orange-600"})," 5-Day Event Schedule"]}),a.jsx("div",{className:"space-y-4",children:n.length>0?n.map(g=>a.jsxs("div",{className:"border-l-4 border-orange-500 pl-4 py-2 bg-white rounded-lg shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:g.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description}),a.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(kn,{className:"h-3 w-3 mr-1"}),new Date(g.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(og,{className:"h-3 w-3 mr-1"}),g.location]})]})]},g.id)):a.jsx("p",{className:"text-gray-500 text-center",children:"No schedule available"})})]}),i==="maps"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Event Maps"}),a.jsx("div",{className:"flex space-x-2 mb-4",children:[1,2,3,4,5].map(g=>a.jsxs("button",{onClick:()=>c(g),className:`px-4 py-2 rounded-lg text-sm ${l===g?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"}`,children:["Day ",g]},g))}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-4 flex justify-center",children:a.jsx("img",{src:j[l-1],alt:`Day ${l} Map`,className:"max-w-full h-auto rounded-lg"})})]}),i==="employers"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Participating Employers"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:b.map(g=>a.jsxs("div",{onClick:()=>p(g.url),className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 hover:shadow-md cursor-pointer transition",children:[a.jsx("img",{src:g.logo,alt:g.name,className:"h-16 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-center mb-2",children:g.name}),a.jsx("p",{className:"text-sm text-gray-600 text-center",children:g.description}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx(Ms,{className:"h-5 w-5 text-orange-500"})})]},g.name))})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your QR Code"}),a.jsx("div",{className:"w-48 h-48 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Et,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-gray-500",children:"QR Code"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:w()})]})}),a.jsx("button",{onClick:()=>f(!1),className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"Close"})]})})]})},_b=()=>{const{profile:t}=We(),[e,r]=v.useState(null),[n,s]=v.useState(!0);v.useEffect(()=>{i()},[t==null?void 0:t.id]);const i=async()=>{if(t!=null&&t.id)try{const{data:o}=await V.rpc("get_volunteer_stats",{volunteer_id:t.id});r(o||{points_earned:0,leaderboard_rank:0})}catch(o){console.error("Error fetching dashboard data:",o),r({points_earned:0,leaderboard_rank:0})}finally{s(!1)}};return n?a.jsx(vt,{title:"Volunteer Dashboard",subtitle:"Welcome to your volunteer portal",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})}):a.jsxs(vt,{title:"Volunteer Dashboard",subtitle:`Welcome back, ${t==null?void 0:t.first_name}! `,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Points Earned"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(e==null?void 0:e.points_earned)||0})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(ys,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-l font-medium text-gray-600",children:"Your Rank"}),a.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["#",(e==null?void 0:e.leaderboard_rank)||0]})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(ug,{className:"h-6 w-6 text-blue-600"})})]})})]}),a.jsxs("div",{className:"max-w-2xl mx-auto mt-8 text-center pt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Volunteer Information"}),a.jsxs("p",{className:"text-gray-600",children:[a.jsx("br",{}),"Thank you for your dedication and hard work! Your contributions make this event possible.",a.jsx("br",{})," If anything comes up, refer to your team leader."]})]})]})};class K{constructor(e,r,n,s,i){this._legacyCanvasSize=K.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||s||i?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof s=="function"?s:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof s=="number"?s:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let o=!1;if(e.hidden&&(e.hidden=!1,o=!0),document.body.contains(e)||(document.body.appendChild(e),o=!0),n=e.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(s=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),i=this.$overlay.style,i.position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!s&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let l=window.getComputedStyle(e);l.display==="none"&&(e.style.setProperty("display","block","important"),o=!0),l.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=K.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await K.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput"),n;try{e&&(await r()).every(s=>!s.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((s,i)=>({id:s.deviceId,label:s.label||(i===0?"Default Camera":`Camera ${i+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),K._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),K._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),K._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:r}=await this._getCameraStream();!this._active||this._paused?K._stopVideoStream(e):(this._setVideoMirror(r),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(K._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,r,n,s,i=!1,o=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,s=r.canvas,i=r.disallowCanvasResizing||!1,o=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||s||i||o?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let u,d;[n,u]=await Promise.all([n||K.createQrEngine(),K._loadImage(e)]),[s,d]=K._drawToCanvas(u,l,s,i);let m;if(n instanceof Worker){let f=n;r||K._postWorkerMessageSync(f,"inversionMode","both"),m=await new Promise((y,w)=>{let j,b,p,g=-1;b=x=>{x.data.id===g&&(f.removeEventListener("message",b),f.removeEventListener("error",p),clearTimeout(j),x.data.data!==null?y({data:x.data.data,cornerPoints:K._convertPoints(x.data.cornerPoints,l)}):w(K.NO_QR_CODE_FOUND))},p=x=>{f.removeEventListener("message",b),f.removeEventListener("error",p),clearTimeout(j),w("Scanner error: "+(x?x.message||x:"Unknown Error"))},f.addEventListener("message",b),f.addEventListener("error",p),j=setTimeout(()=>p("timeout"),1e4);let h=d.getImageData(0,0,s.width,s.height);g=K._postWorkerMessageSync(f,"decode",h,[h.data.buffer])})}else m=await Promise.race([new Promise((f,y)=>window.setTimeout(()=>y("Scanner error: timeout"),1e4)),(async()=>{try{var[f]=await n.detect(s);if(!f)throw K.NO_QR_CODE_FOUND;return{data:f.rawValue,cornerPoints:K._convertPoints(f.cornerPoints,l)}}catch(y){if(f=y.message||y,/not implemented|service unavailable/.test(f))return K._disableBarcodeDetector=!0,K.scanImage(e,{scanRegion:l,canvas:s,disallowCanvasResizing:i,alsoTryWithoutScanRegion:o});throw`Scanner error: ${f}`}})()]);return c?m:m.data}catch(u){if(!l||!o)throw u;let d=await K.scanImage(e,{qrEngine:n,canvas:s,disallowCanvasResizing:i});return c?d:d.data}finally{r||K._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,r,n,s=!0){K._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:r,blue:n,useIntegerApproximation:s})}setInversionMode(e){K._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>Dn(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!K._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:s})=>/arm/i.test(n||"arm")&&13<=parseInt(s||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let r=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-r)/2),y:Math.round((e.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,r=e.videoWidth,n=e.videoHeight,s=e.offsetWidth,i=e.offsetHeight,o=e.offsetLeft,l=e.offsetTop,c=window.getComputedStyle(e),u=c.objectFit,d=r/n,m=s/i;switch(u){case"none":var f=r,y=n;break;case"fill":f=s,y=i;break;default:(u==="cover"?d>m:d<m)?(y=i,f=y*d):(f=s,y=f/d),u==="scale-down"&&(f=Math.min(f,r),y=Math.min(y,n))}var[w,j]=c.objectPosition.split(" ").map((p,g)=>{const h=parseFloat(p);return p.endsWith("%")?(g?i-y:s-f)*h/100:h});c=this._scanRegion.width||r,m=this._scanRegion.height||n,u=this._scanRegion.x||0;var b=this._scanRegion.y||0;d=this.$overlay.style,d.width=`${c/r*f}px`,d.height=`${m/n*y}px`,d.top=`${l+j+b/n*y}px`,n=/scaleX\(-1\)/.test(e.style.transform),d.left=`${o+(n?s-w-f:w)+(n?r-u-c:u)/r*f}px`,d.transform=e.style.transform}})}static _convertPoints(e,r){if(!r)return e;let n=r.x||0,s=r.y||0,i=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let o of e)o.x=o.x*i+n,o.y=o.y*r+s;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;e<r&&await new Promise(s=>setTimeout(s,r-e)),this._lastScanTimestamp=Date.now();try{var n=await K.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(s){if(!this._active)return;this._onDecodeError(s)}!K._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=K.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:s,y:i})=>`${s},${i}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==K.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(s=>Object.assign({},s,{[e]:{exact:this._preferredCamera}}));for(let s of[...n,...r])try{let i=await navigator.mediaDevices.getUserMedia({video:s,audio:!1}),o=this._getFacingMode(i)||(s.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:i,facingMode:o}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let r of e.getTracks())r.stop(),e.removeTrack(r)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,r,n,s=!1){n=n||document.createElement("canvas");let i=r&&r.x?r.x:0,o=r&&r.y?r.y:0,l=r&&r.width?r.width:e.videoWidth||e.width,c=r&&r.height?r.height:e.videoHeight||e.height;return s||(s=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==s&&(n.width=s),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(e,i,o,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(e){if(e instanceof Image)return await K._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let r=new Image;r.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await K._awaitImageLoad(r),r}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((r,n)=>{let s=i=>{e.removeEventListener("load",s),e.removeEventListener("error",s),i instanceof ErrorEvent?n("Image load error"):r()};e.addEventListener("load",s),e.addEventListener("error",s)})}static async _postWorkerMessage(e,r,n,s){return K._postWorkerMessageSync(await e,r,n,s)}static _postWorkerMessageSync(e,r,n,s){if(!(e instanceof Worker))return-1;let i=K._workerMessageId++;return e.postMessage({id:i,type:r,data:n},s),i}}K.DEFAULT_CANVAS_SIZE=400;K.NO_QR_CODE_FOUND="No QR code found";K._disableBarcodeDetector=!1;K._workerMessageId=0;const Bs=({onScan:t,onClose:e,isOpen:r,title:n="Scan QR Code",description:s="Position the QR code within the frame to scan"})=>{const[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[m,f]=v.useState(!1),[y,w]=v.useState(null),j=v.useRef(null),b=v.useRef(null),p=v.useCallback(()=>{o(null),c(!1),d(!1),f(!1),w(null)},[]),g=v.useCallback(()=>{console.log("Stopping QR scanner..."),b.current&&(b.current.stop(),b.current.destroy(),b.current=null)},[]),h=v.useCallback(_=>{var C;const R=(C=_.data)==null?void 0:C.trim();if(!R){console.log("Empty QR code data");return}console.log("QR Code scanned:",R),c(!1),d(!0),b.current&&b.current.stop(),setTimeout(()=>{t(R),e()},1500)},[t,e]),x=v.useCallback(_=>{console.log("Scan error (this is normal - just means no QR code found):",_)},[]),k=v.useCallback(async()=>{if(!j.current){o("Video element not available");return}try{if(console.log("Initializing QR scanner..."),o(null),!await K.hasCamera()){o("No camera found on this device");return}const R=new K(j.current,h,{onDecodeError:x,preferredCamera:"environment",highlightScanRegion:!0,highlightCodeOutline:!0,maxScansPerSecond:5});b.current=R,console.log("Starting QR scanner..."),await R.start(),f(!0),c(!0),w(!0),console.log("QR scanner started successfully")}catch(_){console.error("Failed to start QR scanner:",_),_.name==="NotAllowedError"?(o("Camera permission denied. Please allow camera access and try again."),w(!1)):_.name==="NotFoundError"?o("No camera found. Please ensure your device has a camera."):_.name==="NotReadableError"?o("Camera is being used by another application. Please close other apps and try again."):_.name==="OverconstrainedError"?(o("Camera constraints not supported. Trying again with different settings..."),N()):o(`Camera error: ${_.message||"Failed to access camera"}`)}},[h,x]),N=v.useCallback(async()=>{if(!(!j.current||!b.current))try{console.log("Retrying with front camera...");const R=(await K.listCameras(!0)).find(C=>C.label.toLowerCase().includes("front")||C.label.toLowerCase().includes("user"));R?(await b.current.setCamera(R.id),o(null),f(!0),c(!0)):(await b.current.start(),o(null),f(!0),c(!0))}catch(_){console.error("Retry failed:",_),o("Unable to access any camera. Please check your browser settings.")}},[]),S=v.useCallback(()=>{g(),p(),setTimeout(()=>{k()},500)},[g,p,k]);return v.useEffect(()=>{if(r){console.log("QR Scanner modal opening..."),p();const _=setTimeout(()=>{k()},100);return()=>{clearTimeout(_)}}else console.log("QR Scanner modal closing..."),g(),p()},[r,p,k,g]),v.useEffect(()=>()=>{g()},[g]),r?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(w1,{className:"h-6 w-6 text-white"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:n})]}),a.jsx("button",{onClick:e,className:"text-white hover:text-orange-200 transition-colors","aria-label":"Close scanner",children:a.jsx(ht,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"p-6",children:u?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:a.jsx(Vt,{className:"w-8 h-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"QR Code Scanned!"}),a.jsx("p",{className:"text-gray-600",children:"Processing information..."})]})]}):i?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:a.jsx(br,{className:"w-8 h-8 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Scanner Error"}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:i}),y===!1?a.jsx("div",{className:"space-y-3",children:a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsx("p",{className:"text-xs text-yellow-800",children:"Camera access is required. Please enable camera permissions in your browser settings and refresh the page."})})}):a.jsxs("button",{onClick:S,className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium flex items-center justify-center space-x-2",children:[a.jsx(v1,{className:"h-4 w-4"}),a.jsx("span",{children:"Try Again"})]})]})]}):m?a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-center text-gray-600 text-sm",children:s}),a.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-square",children:[a.jsx("video",{ref:j,className:"w-full h-full object-cover",playsInline:!0,muted:!0}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:a.jsxs("div",{className:"bg-black bg-opacity-50 text-white px-3 py-2 rounded-full text-sm flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${l?"bg-green-500 animate-pulse":"bg-gray-500"}`}),a.jsx("span",{children:l?"Scanning for QR codes...":"Initializing..."})]})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 leading-relaxed mb-2",children:"Hold your device steady and position the QR code clearly within the frame."}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-blue-800 font-medium",children:"Tips for best results:"}),a.jsxs("ul",{className:"text-xs text-blue-700 mt-1 space-y-1",children:[a.jsx("li",{children:" Ensure good lighting"}),a.jsx("li",{children:" Keep the QR code flat and unfolded"}),a.jsx("li",{children:" Maintain steady hands"}),a.jsx("li",{children:" Clean your camera lens if needed"})]})]})]})]}):a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"animate-pulse",children:a.jsx(a1,{className:"h-12 w-12 text-orange-500 mx-auto mb-3"})}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Starting camera..."}),a.jsx("p",{className:"text-xs text-gray-500",children:"Please allow camera access when prompted"}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"})})]})})]})}):null},Nb=t=>{switch(t.toLowerCase()){case"admin":case"sadmin":return a.jsx(u1,{className:"h-8 w-8 text-yellow-500"});case"team_leader":case"registration":case"building":case"info_desk":return a.jsx(ou,{className:"h-8 w-8 text-blue-500"});case"volunteer":return a.jsx(xt,{className:"h-8 w-8 text-green-500"});default:return a.jsx(gt,{className:"h-8 w-8 text-gray-500"})}},Sb=t=>{switch(t.toLowerCase()){case"admin":case"sadmin":return"bg-yellow-100 text-yellow-800";case"team_leader":case"registration":case"building":case"info_desk":return"bg-blue-100 text-blue-800";case"volunteer":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},kb=t=>t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),Rg=({isOpen:t,onClose:e,attendee:r,onAction:n,loading:s=!1,mode:i="building",sessionTitle:o})=>{const[l,c]=v.useState(null);if(!t||!r)return null;const u=async y=>{c(y);try{await n(y)}finally{c(null)}},d=y=>y?new Date(y).toLocaleString():"Never",m=()=>i==="session"?"Add to Session":"Attendee Details",f=()=>i==="session"?a.jsxs("div",{className:"pt-4",children:[a.jsx("button",{onClick:()=>u("enter"),disabled:s||l!==null,className:`w-full flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-colors ${l==="enter"?"bg-green-100 text-green-700 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white"}`,children:l==="enter"?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-600"}):a.jsxs(a.Fragment,{children:[a.jsx(N1,{className:"h-5 w-5"}),a.jsx("span",{children:"Add to Session"})]})}),o&&a.jsxs("p",{className:"text-sm text-gray-600 text-center mt-2",children:["Adding to: ",a.jsx("span",{className:"font-medium",children:o})]})]}):a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>u("enter"),disabled:s||l!==null,className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-colors ${l==="enter"?"bg-green-100 text-green-700 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white"}`,children:l==="enter"?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-600"}):a.jsxs(a.Fragment,{children:[a.jsx(lu,{className:"h-5 w-5"}),a.jsx("span",{children:"Enter"})]})}),a.jsx("button",{onClick:()=>u("exit"),disabled:s||l!==null,className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-colors ${l==="exit"?"bg-red-100 text-red-700 cursor-not-allowed":"bg-red-500 hover:bg-red-600 text-white"}`,children:l==="exit"?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-red-600"}):a.jsxs(a.Fragment,{children:[a.jsx(S1,{className:"h-5 w-5"}),a.jsx("span",{children:"Exit"})]})})]});return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:m()}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:s||l!==null,children:a.jsx(ht,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 p-3 bg-gray-50 rounded-full",children:Nb(r.role)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[r.first_name," ",r.last_name]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Sb(r.role)}`,children:kb(r.role)}),r.current_status&&i==="building"&&a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.current_status==="inside"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.current_status==="inside"?" Inside":" Outside"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(g1,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:r.email})]}),r.phone&&a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(x1,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:r.phone})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(gt,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("span",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:["ID: ",r.personal_id]})]}),r.university&&a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(og,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{children:r.university}),r.faculty&&a.jsx("div",{className:"text-gray-500 text-xs",children:r.faculty})]})]}),r.last_scan&&i==="building"&&a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(kn,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("div",{className:"text-sm",children:a.jsxs("div",{children:["Last Scan: ",d(r.last_scan)]})})]})]}),f()]})]})})},Si=t=>({...t,current_status:t.current_status==="inside"?"inside":"outside"}),Eb=()=>{We();const[t,e]=v.useState("scanner"),[r,n]=v.useState(null),[s,i]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState("manual"),[d,m]=v.useState(""),[f,y]=v.useState(!1),[w,j]=v.useState([]),[b,p]=v.useState(!1),[g,h]=v.useState(null),[x,k]=v.useState(null),[N,S]=v.useState(!1),[_,R]=v.useState(!1),[C,U]=v.useState(null);v.useEffect(()=>{t==="dashboard"&&X()},[t]),v.useEffect(()=>{if(g&&clearTimeout(g),d.trim().length>=2){const O=setTimeout(()=>{I(d.trim())},300);h(O)}else j([]),p(!1);return()=>{g&&clearTimeout(g)}},[d]);const X=async()=>{try{i(!0);const{data:O,error:Q}=await Xw();Q?(console.error("Error fetching stats:",Q),E("error","Failed to load dashboard statistics")):O&&n(O)}catch(O){console.error("Error fetching stats:",O),E("error","An unexpected error occurred")}finally{i(!1)}},I=async O=>{try{y(!0);const{data:Q,error:Y}=await Hl(O);if(Y)console.error("Search error:",Y),j([]);else{const ee=(Q||[]).map(Se=>Si(Se));j(ee),p(!0)}}catch(Q){console.error("Search exception:",Q),j([])}finally{y(!1)}},E=(O,Q)=>{U({type:O,message:Q}),setTimeout(()=>U(null),5e3)},L=O=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(O),F=async()=>{if(!d.trim()){E("error","Please enter a Personal ID");return}try{y(!0);const{data:O,error:Q}=await dn(d.trim());Q||!O?E("error","Personal ID not found"):O.role!=="attendee"?E("error","Only attendees can be processed through this system"):(k(Si(O)),S(!0),m(""),p(!1))}catch(O){console.error("Search exception:",O),E("error","Search failed. Please try again.")}finally{y(!1)}},re=O=>{k(O),S(!0),m(""),p(!1),j([])},A=async O=>{try{console.log("Processing QR data:",O);let Q=null,Y;if(L(O)){console.log("Detected UUID format, searching by UUID...");const ee=await Vl(O);Q=ee.data?Si(ee.data):null,Y=ee.error}else{console.log("Detected Personal ID format, searching by Personal ID...");const ee=await dn(O);Q=ee.data?Si(ee.data):null,Y=ee.error}if(Y||!Q){const ee=L(O)?"Invalid QR code: UUID not found in system":"Invalid QR code: Personal ID not found";E("error",ee);return}if(Q.role!=="attendee"){E("error","Only attendees can be processed through this system");return}k(Q),S(!0),l(!1)}catch(Q){console.error("QR scan error:",Q),E("error","Failed to process QR code")}},$=async O=>{if(x)try{R(!0);const{data:Q,error:Y}=await Yw(x.personal_id,O);if(Y){E("error",Y.message||`Failed to process ${O}`);return}E("success",Q.message||`${O.toUpperCase()} scan successful!`);const ee=O==="enter"?"inside":"outside";k(Se=>Se?{...Se,current_status:ee,last_scan:new Date().toISOString()}:null),t==="dashboard"&&X(),setTimeout(()=>{S(!1),k(null)},2e3)}catch(Q){console.error("Attendance action error:",Q),E("error",`Failed to process ${O}`)}finally{R(!1)}},M=()=>{m(""),j([]),p(!1)},q=()=>{setTimeout(()=>{p(!1)},200)};return a.jsxs(vt,{title:"Registration Team Dashboard",subtitle:"Manage attendee registrations and check-ins",children:[C&&a.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center space-x-2 px-4 py-3 rounded-lg shadow-lg ${C.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[C.type==="success"?a.jsx(Vt,{className:"h-5 w-5"}):a.jsx(br,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:C.message}),a.jsx("button",{onClick:()=>U(null),className:"ml-2 hover:bg-black hover:bg-opacity-20 rounded p-1",children:a.jsx(ht,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[a.jsx("button",{className:`px-4 py-2 font-medium transition-colors ${t==="scanner"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e("scanner"),children:"Scanner & Search"}),a.jsx("button",{className:`px-4 py-2 font-medium transition-colors ${t==="dashboard"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e("dashboard"),children:"Live Dashboard"})]}),t==="scanner"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:()=>{u("manual"),M()},className:`px-6 py-3 rounded-lg font-medium transition-colors ${c==="manual"?"bg-orange-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(Ar,{className:"h-4 w-4 inline mr-2"}),"Search by Personal ID"]}),a.jsxs("button",{onClick:()=>{u("qr"),M()},className:`px-6 py-3 rounded-lg font-medium transition-colors ${c==="qr"?"bg-orange-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(Et,{className:"h-4 w-4 inline mr-2"}),"QR Scanner"]})]}),c==="manual"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Attendees by Personal ID"}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",placeholder:"Start typing Personal ID (e.g., 123456...)",value:d,onChange:O=>m(O.target.value),onKeyDown:O=>O.key==="Enter"&&F(),onBlur:q,onFocus:()=>w.length>0&&p(!0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors"}),d&&a.jsx("button",{onClick:M,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.jsx(ht,{className:"h-5 w-5"})}),b&&w.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:w.map(O=>a.jsx("button",{onClick:()=>re(O),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-orange-50 focus:outline-none",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[O.first_name," ",O.last_name]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",O.personal_id]}),O.university&&a.jsx("p",{className:"text-xs text-gray-500",children:O.university})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.current_status==="inside"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:O.current_status==="inside"?"Inside":"Outside"})})]})},O.id))}),b&&w.length===0&&d.trim().length>=2&&!f&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:a.jsxs("p",{className:"text-gray-600 text-sm",children:['No attendees found matching "',d,'"']})}),f&&d.trim().length>=2&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Searching attendees..."})]})})]}),a.jsx("button",{onClick:F,disabled:f||!d.trim(),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:f?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"h-5 w-5"}),a.jsx("span",{children:"Search"})]})})]})]}),a.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Search Tips:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[a.jsx("li",{children:"Start typing to see dynamic suggestions (minimum 2 characters)"}),a.jsx("li",{children:"Only attendees will appear in search results"}),a.jsx("li",{children:"Click on a suggestion to select that attendee"}),a.jsx("li",{children:"Use QR Scanner for faster lookup"})]})]})]})}),c==="qr"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[a.jsx(Et,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"QR Code Scanner"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Scan the attendee's QR code to instantly load their information and process entry/exit"}),a.jsxs("button",{onClick:()=>l(!0),className:"px-8 py-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium flex items-center space-x-2 mx-auto",children:[a.jsx(Et,{className:"h-5 w-5"}),a.jsx("span",{children:"Open QR Scanner"})]}),a.jsxs("div",{className:"mt-6 text-sm text-gray-600 bg-green-50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"QR Scanner supports:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[a.jsx("li",{children:"UUID format (from QR codes)"}),a.jsx("li",{children:"Personal ID format (fallback)"}),a.jsx("li",{children:"Automatic attendee role verification"})]})]})]})]}),t==="dashboard"&&a.jsx("div",{className:"space-y-8",children:s?a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading dashboard..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Registered"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(r==null?void 0:r.total_registered)||0})]}),a.jsx(xt,{className:"h-8 w-8 text-orange-500"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Checked In Today"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(r==null?void 0:r.checked_in_today)||0})]}),a.jsx(lu,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Currently Inside"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(r==null?void 0:r.inside_event)||0})]}),a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-bold",children:""})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Attendees"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(r==null?void 0:r.total_attendees)||0})]}),a.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center",children:a.jsx("span",{className:"text-purple-600 font-bold",children:""})})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:X,disabled:s,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:cursor-not-allowed flex items-center space-x-2",children:[a.jsx("div",{className:`h-4 w-4 ${s?"animate-spin":""}`,children:""}),a.jsx("span",{children:"Refresh"})]})})]})}),a.jsx(Bs,{isOpen:o,onClose:()=>l(!1),onScan:A,title:"Scan Attendee QR Code",description:"Point your camera at the attendee's QR code"}),a.jsx(Rg,{isOpen:N,onClose:()=>{S(!1),k(null)},attendee:x,onAction:$,loading:_})]})},Gt=t=>({...t,current_status:t.current_status==="inside"?"inside":"outside"}),Cb=()=>{We();const[t,e]=v.useState("building"),[r,n]=v.useState(null),[s,i]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState([]),[d,m]=v.useState(!1),[f,y]=v.useState(null),[w,j]=v.useState([]),[b,p]=v.useState(null),[g,h]=v.useState(!0),[x,k]=v.useState(null),[N,S]=v.useState(null),[_,R]=v.useState(""),[C,U]=v.useState(!1),[X,I]=v.useState([]),[E,L]=v.useState(!1),[F,re]=v.useState(null),[A,$]=v.useState(null),[M,q]=v.useState(!1),[O,Q]=v.useState(!1),[Y,ee]=v.useState(null);v.useEffect(()=>{t==="session"&&Se()},[t]),v.useEffect(()=>{if(f&&clearTimeout(f),t==="building"&&s.trim().length>=2){const P=setTimeout(()=>{Wt(s.trim())},300);y(P)}else u([]),m(!1);return()=>{f&&clearTimeout(f)}},[s,t]),v.useEffect(()=>{if(F&&clearTimeout(F),t==="session"&&_.trim().length>=2){const P=setTimeout(()=>{qa(_.trim())},300);re(P)}else I([]),L(!1);return()=>{F&&clearTimeout(F)}},[_,t]);const Se=async()=>{try{h(!0);const{data:P,error:H}=await Zw();H?(console.error("Error fetching sessions:",H),le("error","Failed to load sessions")):j(P||[])}catch(P){console.error("Error fetching sessions:",P),le("error","An unexpected error occurred")}finally{h(!1)}},Wt=async P=>{try{l(!0);const{data:H,error:je}=await Hl(P);if(je)console.error("Building search error:",je),u([]);else{const ne=(H||[]).map(Vn=>Gt(Vn));u(ne),m(!0)}}catch(H){console.error("Building search exception:",H),u([])}finally{l(!1)}},qa=async P=>{try{U(!0);const{data:H,error:je}=await Hl(P);if(je)console.error("Session search error:",je),I([]);else{const ne=(H||[]).map(Vn=>Gt(Vn));I(ne),L(!0)}}catch(H){console.error("Session search exception:",H),I([])}finally{U(!1)}},le=(P,H)=>{ee({type:P,message:H}),setTimeout(()=>ee(null),5e3)},qt=P=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(P),Fn=async()=>{if(!s.trim()){le("error","Please enter a Personal ID");return}try{l(!0);const{data:P,error:H}=await dn(s.trim());H||!P?le("error","Personal ID not found"):P.role!=="attendee"?le("error","Only attendees can be processed through this system"):($(Gt(P)),q(!0),i(""),m(!1),n(null))}catch(P){console.error("Building search exception:",P),le("error","Search failed. Please try again.")}finally{l(!1)}},Bn=async()=>{if(!_.trim()){le("error","Please enter a Personal ID");return}try{U(!0);const{data:P,error:H}=await dn(_.trim());H||!P?le("error","Personal ID not found"):P.role!=="attendee"?le("error","Only attendees can be processed through this system"):($(Gt(P)),q(!0),R(""),L(!1),S(null))}catch(P){console.error("Session search exception:",P),le("error","Search failed. Please try again.")}finally{U(!1)}},Zs=P=>{$(P),q(!0),i(""),m(!1),u([]),n(null)},z=P=>{$(P),q(!0),R(""),L(!1),I([]),S(null)},ye=async P=>{try{console.log("Processing Building QR data:",P);let H=null,je;if(qt(P)){console.log("Detected UUID format, searching by UUID...");const ne=await Vl(P);H=ne.data?Gt(ne.data):null,je=ne.error}else{console.log("Detected Personal ID format, searching by Personal ID...");const ne=await dn(P);H=ne.data?Gt(ne.data):null,je=ne.error}if(je||!H){const ne=qt(P)?"Invalid QR code: UUID not found in system":"Invalid QR code: Personal ID not found";le("error",ne);return}if(H.role!=="attendee"){le("error","Only attendees can be processed through this system");return}$(H),q(!0),n(null)}catch(H){console.error("Building QR scan error:",H),le("error","Failed to process QR code")}},Qa=async P=>{try{console.log("Processing Session QR data:",P);let H=null,je;if(qt(P)){console.log("Detected UUID format, searching by UUID...");const ne=await Vl(P);H=ne.data?Gt(ne.data):null,je=ne.error}else{console.log("Detected Personal ID format, searching by Personal ID...");const ne=await dn(P);H=ne.data?Gt(ne.data):null,je=ne.error}if(je||!H){const ne=qt(P)?"Invalid QR code: UUID not found in system":"Invalid QR code: Personal ID not found";le("error",ne);return}if(H.role!=="attendee"){le("error","Only attendees can be processed through this system");return}$(H),q(!0),S(null)}catch(H){console.error("Session QR scan error:",H),le("error","Failed to process QR code")}},zn=async P=>{if(A)try{Q(!0);const H=P==="enter"?"building_entry":"building_exit",{data:je,error:ne}=await Yd(A.personal_id,H);if(ne){le("error",ne.message||`Failed to process ${P}`);return}le("success",je.message||`Building ${P.toUpperCase()} successful!`);const Vn=P==="enter"?"inside":"outside";$(xu=>xu?{...xu,current_status:Vn,last_scan:new Date().toISOString()}:null),setTimeout(()=>{q(!1),$(null)},2e3)}catch(H){console.error("Building attendance action error:",H),le("error",`Failed to process ${P}`)}finally{Q(!1)}},Tg=async P=>{if(!(!A||!b))try{Q(!0);const{data:H,error:je}=await Yd(A.personal_id,"session_entry",b.id);if(je){le("error",je.message||"Failed to add to session");return}le("success",H.message||"Successfully added to session!"),Se(),setTimeout(()=>{q(!1),$(null),k(null)},2e3)}catch(H){console.error("Session attendance action error:",H),le("error","Failed to add to session")}finally{Q(!1)}},pu=()=>{i(""),u([]),m(!1)},yu=()=>{R(""),I([]),L(!1)},Ag=()=>{n(null),$(null),q(!1),pu()},Ig=()=>{k(null),S(null),p(null),$(null),q(!1),yu()},ei=P=>{try{return new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return P}},Lg=P=>{try{return new Date(P).toLocaleDateString()}catch{return P}};return a.jsxs(vt,{title:"Build Team Dashboard",subtitle:"Manage building and session attendance",children:[Y&&a.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center space-x-2 px-4 py-3 rounded-lg shadow-lg ${Y.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[Y.type==="success"?a.jsx(Vt,{className:"h-5 w-5"}):a.jsx(br,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:Y.message}),a.jsx("button",{onClick:()=>ee(null),className:"ml-2 hover:bg-black hover:bg-opacity-20 rounded p-1",children:a.jsx(ht,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex space-x-6 mb-8 border-b border-gray-200",children:[a.jsx("button",{onClick:()=>{e("building"),Ig()},className:`pb-2 px-2 text-sm font-medium ${t==="building"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:"Building"}),a.jsx("button",{onClick:()=>{e("session"),Ag()},className:`pb-2 px-2 text-sm font-medium ${t==="session"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:"Sessions"})]}),a.jsxs("div",{className:"space-y-8",children:[t==="building"&&a.jsxs(a.Fragment,{children:[!r&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-8 space-y-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 text-center flex items-center justify-center gap-2",children:[a.jsx(i1,{className:"h-6 w-6 text-orange-500"}),"Building Attendance Management"]}),a.jsx("p",{className:"text-gray-600 text-center",children:"Manage entry and exit for attendees using QR code scanning or manual search"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[a.jsxs("button",{onClick:()=>n("qr"),className:"flex items-center justify-center p-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[a.jsx(Et,{className:"h-5 w-5 mr-2"}),"QR Code Scanner"]}),a.jsxs("button",{onClick:()=>n("manual"),className:"flex items-center justify-center p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[a.jsx(Ar,{className:"h-5 w-5 mr-2"}),"Search by Personal ID"]})]})]}),r==="manual"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Attendees by Personal ID"}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",placeholder:"Start typing Personal ID (e.g., 123456...)",value:s,onChange:P=>i(P.target.value),onKeyDown:P=>P.key==="Enter"&&Fn(),onBlur:()=>{setTimeout(()=>m(!1),200)},onFocus:()=>c.length>0&&m(!0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors"}),s&&a.jsx("button",{onClick:pu,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.jsx(ht,{className:"h-5 w-5"})}),d&&c.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:c.map(P=>a.jsx("button",{onClick:()=>Zs(P),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-orange-50 focus:outline-none",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[P.first_name," ",P.last_name]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",P.personal_id]}),P.university&&a.jsx("p",{className:"text-xs text-gray-500",children:P.university})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.current_status==="inside"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.current_status==="inside"?"Inside":"Outside"})})]})},P.id))}),d&&c.length===0&&s.trim().length>=2&&!o&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:a.jsxs("p",{className:"text-gray-600 text-sm",children:['No attendees found matching "',s,'"']})}),o&&s.trim().length>=2&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Searching attendees..."})]})})]}),a.jsx("button",{onClick:Fn,disabled:o||!s.trim(),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:o?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"h-5 w-5"}),a.jsx("span",{children:"Search"})]})})]})]}),a.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Search Tips:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[a.jsx("li",{children:"Start typing to see dynamic suggestions (minimum 2 characters)"}),a.jsx("li",{children:"Only attendees will appear in search results"}),a.jsx("li",{children:"Click on a suggestion to select that attendee"}),a.jsx("li",{children:"Use QR Scanner for faster lookup"})]})]}),a.jsx("button",{onClick:()=>n(null),className:"text-sm text-gray-500 underline",children:" Back to options"})]})})]}),t==="session"&&a.jsxs(a.Fragment,{children:[!b&&a.jsx(a.Fragment,{children:g?a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading sessions..."})]}):w.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[a.jsx(Us,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sessions Available"}),a.jsx("p",{className:"text-gray-600",children:"There are currently no sessions scheduled."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(P=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 cursor-pointer hover:shadow-md transition",onClick:()=>p(P),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:P.title}),a.jsx(Us,{className:"h-5 w-5 text-orange-500 flex-shrink-0"})]}),P.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:P.description}),a.jsxs("div",{className:"space-y-2",children:[P.start_time&&a.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(kn,{className:"inline-block h-4 w-4 mr-1"}),ei(P.start_time)," - ",ei(P.end_time)]}),P.speaker&&a.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(gt,{className:"inline-block h-4 w-4 mr-1"}),P.speaker]}),P.location&&a.jsxs("p",{className:"text-sm text-gray-500",children:[" ",P.location]}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:[a.jsx(xt,{className:"inline-block h-4 w-4 mr-1"}),P.current_attendees,P.capacity&&`/${P.capacity}`," attendees"]}),P.capacity&&P.current_attendees>=P.capacity&&a.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"Full"})]})]})]},P.id))})}),b&&!x&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:b.title}),a.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(ht,{className:"h-5 w-5"})})]}),b.description&&a.jsx("p",{className:"text-gray-600",children:b.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.start_time&&a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx(kn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{className:"text-sm",children:[Lg(b.start_time),"  ",ei(b.start_time)," - ",ei(b.end_time)]})]}),b.speaker&&a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx(gt,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{className:"text-sm",children:["Speaker: ",b.speaker]})]}),b.location&&a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{className:"text-sm",children:b.location})]}),a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx(xt,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{className:"text-sm",children:[b.current_attendees,b.capacity&&`/${b.capacity}`," attendees"]})]})]}),a.jsx("div",{className:"pt-4",children:a.jsxs("button",{onClick:()=>k("session_entry"),disabled:b.capacity&&b.current_attendees>=b.capacity,className:"w-full flex items-center justify-center p-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[a.jsx(cg,{className:"h-5 w-5 mr-2"}),"Add Attendee to Session",b.capacity&&b.current_attendees>=b.capacity&&a.jsx("span",{className:"ml-2 text-xs",children:"(Session Full)"})]})})]}),x==="session_entry"&&!N&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 space-y-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Add Attendee to: ",b==null?void 0:b.title]}),a.jsx("p",{className:"text-gray-600",children:"Choose how you want to identify the attendee"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>S("qr"),className:"flex items-center justify-center p-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[a.jsx(Et,{className:"h-5 w-5 mr-2"}),"QR Code Scanner"]}),a.jsxs("button",{onClick:()=>S("manual"),className:"flex items-center justify-center p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[a.jsx(Ar,{className:"h-5 w-5 mr-2"}),"Search by Personal ID"]})]}),a.jsx("button",{onClick:()=>k(null),className:"text-sm text-gray-500 underline",children:" Back to session details"})]}),N==="manual"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Attendees by Personal ID"}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",placeholder:"Start typing Personal ID (e.g., 123456...)",value:_,onChange:P=>R(P.target.value),onKeyDown:P=>P.key==="Enter"&&Bn(),onBlur:()=>{setTimeout(()=>L(!1),200)},onFocus:()=>X.length>0&&L(!0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors"}),_&&a.jsx("button",{onClick:yu,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.jsx(ht,{className:"h-5 w-5"})}),E&&X.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:X.map(P=>a.jsx("button",{onClick:()=>z(P),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-orange-50 focus:outline-none",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[P.first_name," ",P.last_name]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",P.personal_id]}),P.university&&a.jsx("p",{className:"text-xs text-gray-500",children:P.university})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.current_status==="inside"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.current_status==="inside"?"Inside":"Outside"})})]})},P.id))}),E&&X.length===0&&_.trim().length>=2&&!C&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:a.jsxs("p",{className:"text-gray-600 text-sm",children:['No attendees found matching "',_,'"']})}),C&&_.trim().length>=2&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Searching attendees..."})]})})]}),a.jsx("button",{onClick:Bn,disabled:C||!_.trim(),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:C?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"h-5 w-5"}),a.jsx("span",{children:"Search"})]})})]})]}),a.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Search Tips:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[a.jsx("li",{children:"Start typing to see dynamic suggestions (minimum 2 characters)"}),a.jsx("li",{children:"Only attendees will appear in search results"}),a.jsx("li",{children:"Click on a suggestion to select that attendee"}),a.jsx("li",{children:"Use QR Scanner for faster lookup"})]})]}),a.jsx("button",{onClick:()=>S(null),className:"text-sm text-gray-500 underline",children:" Back to options"})]})})]}),t==="building"&&r==="qr"&&a.jsx(Bs,{isOpen:!0,onClose:()=>n(null),onScan:ye,title:"Building Entry Scanner",description:"Point your camera at the attendee's QR code"}),t==="session"&&N==="qr"&&a.jsx(Bs,{isOpen:!0,onClose:()=>S(null),onScan:Qa,title:"Session Entry Scanner",description:"Point your camera at the attendee's QR code"}),a.jsx(Rg,{isOpen:M,onClose:()=>{q(!1),$(null)},attendee:A,onAction:t==="session"&&x==="session_entry"?Tg:zn,loading:O,mode:t==="session"&&x==="session_entry"?"session":"building",sessionTitle:t==="session"&&x==="session_entry"?b==null?void 0:b.title:void 0})]})]})},Pb=()=>{We();const[t,e]=v.useState([]),[r,n]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState("");v.useEffect(()=>{e([{id:"1",title:"AI & Machine Learning",description:"Exploring AI trends in 2025",start_time:"10:00",end_time:"11:30",current_attendees:30,max_attendees:60,instructor:"Dr. Sarah Johnson"},{id:"2",title:"Cybersecurity Workshop",description:"Hands-on with modern attacks",start_time:"12:00",end_time:"13:30",current_attendees:45,max_attendees:80,instructor:"Eng. Ahmed Hassan"},{id:"3",title:"Web Development in 2025",description:"Modern frameworks & tools",start_time:"14:00",end_time:"15:30",current_attendees:25,max_attendees:50,instructor:"Prof. Emily Davis"}])},[]);const d=async f=>{try{const{error:y}=await V.rpc("process_session_attendance",{session_id:r==null?void 0:r.id,user_id:f,action_type:s});alert(y?`Error: ${y.message}`:`${s==="add"?"Added":"Removed"} successfully!`)}catch{alert("Failed to process scan")}},m=async()=>{if(c)try{const{error:f}=await V.rpc("process_session_attendance",{session_id:r==null?void 0:r.id,user_id:c,action_type:s});alert(f?`Error: ${f.message}`:`${s==="add"?"Added":"Removed"} successfully!`)}catch{alert("Failed to process manual action")}};return a.jsx(vt,{title:"Info Desk Dashboard",subtitle:"Manage session attendance and check-ins",children:a.jsxs("div",{className:"space-y-8",children:[!r&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(f=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 cursor-pointer hover:shadow-md transition",onClick:()=>n(f),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.title}),a.jsx(Us,{className:"h-5 w-5 text-orange-500"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),a.jsxs("p",{className:"text-sm text-gray-500",children:[a.jsx(kn,{className:"inline-block h-4 w-4 mr-1"}),f.start_time," - ",f.end_time]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[a.jsx(gt,{className:"inline-block h-4 w-4 mr-1"}),"Instructor: ",f.instructor]}),a.jsxs("p",{className:"mt-2 text-sm font-medium text-gray-700",children:[a.jsx(xt,{className:"inline-block h-4 w-4 mr-1"}),f.current_attendees,"/",f.max_attendees," attendees"]})]},f.id))}),r&&!s&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 space-y-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.title}),a.jsx("p",{className:"text-gray-600",children:r.description}),a.jsxs("p",{className:"text-gray-700",children:[a.jsx(kn,{className:"inline-block h-4 w-4 mr-1"}),r.start_time," - ",r.end_time]}),a.jsxs("p",{className:"text-gray-700",children:[a.jsx(gt,{className:"inline-block h-4 w-4 mr-1"}),"Instructor: ",r.instructor]}),a.jsxs("p",{className:"text-gray-700",children:[a.jsx(xt,{className:"inline-block h-4 w-4 mr-1"}),r.current_attendees,"/",r.max_attendees," attendees"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("button",{onClick:()=>i("add"),className:"flex items-center justify-center p-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[a.jsx(cg,{className:"h-5 w-5 mr-2"}),"Add Attendee"]}),a.jsxs("button",{onClick:()=>i("remove"),className:"flex items-center justify-center p-4 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[a.jsx(p1,{className:"h-5 w-5 mr-2"}),"Remove Attendee"]})]}),a.jsx("button",{onClick:()=>n(null),className:"text-sm text-gray-500 underline",children:"Back to sessions"})]}),r&&s&&!o&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 space-y-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[s==="add"?"Add":"Remove"," Attendee"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>l("qr"),className:"flex items-center justify-center p-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[a.jsx(Et,{className:"h-5 w-5 mr-2"}),"QR Code"]}),a.jsxs("button",{onClick:()=>l("manual"),className:"flex items-center justify-center p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[a.jsx(Ar,{className:"h-5 w-5 mr-2"}),"Search by ID"]})]}),a.jsx("button",{onClick:()=>i(null),className:"text-sm text-gray-500 underline",children:"Back"})]}),r&&s&&o==="qr"&&a.jsx(Bs,{isOpen:!0,onClose:()=>l(null),onScan:d,title:`${s==="add"?"Add":"Remove"} Attendee`,description:`Scan attendee QR code to ${s} them from this session`}),r&&s&&o==="manual"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 space-y-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[s==="add"?"Add":"Remove"," Attendee (Manual)"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",placeholder:"Enter personal ID...",value:c,onChange:f=>u(f.target.value),className:"px-4 py-2 border rounded-lg flex-1"}),a.jsx("button",{onClick:m,className:"px-4 py-2 bg-orange-500 text-white rounded-lg",children:"Confirm"})]}),a.jsx("button",{onClick:()=>l(null),className:"text-sm text-gray-500 underline",children:"Back"})]})]})})},Rb=()=>{We(),v.useState(!1);const[t,e]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,m]=v.useState(""),[f,y]=v.useState(""),[w,j]=v.useState(!1),[b,p]=v.useState(0),g=h=>{i(h),r==="attendance"&&alert(` Attendance recorded for volunteer: ${h}`),r==="bonus"&&b>0&&alert(` Bonus of ${b} assigned to volunteer: ${h}`),e(!1),n(null)};return a.jsxs(vt,{title:"Team Leader Dashboard",subtitle:"Manage your team, assign tasks, and monitor performance",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-black p-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2 mb-8",children:[a.jsx(xt,{className:"h-8 w-8 text-orange-500"}),"Manage Your Team"]})}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[a.jsxs("button",{onClick:()=>{n("attendance"),e(!0)},className:"flex-1 flex flex-col items-center justify-center py-6 px-4 bg-blue-500 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[a.jsx(Et,{className:"h-8 w-8 mb-2"}),a.jsx("span",{className:"text-base font-medium",children:"Scan Attendance"})]}),a.jsxs("button",{onClick:()=>j(!0),className:"flex-1 flex flex-col items-center justify-center py-6 px-4 bg-green-500 text-white rounded-xl hover:bg-green-800 transition-colors",children:[a.jsx(d1,{className:"h-8 w-8 mb-2"}),a.jsx("span",{className:"text-base font-medium",children:"Assign Bonus"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"flex-1 flex flex-col items-center justify-center py-6 px-4 bg-purple-500 text-white rounded-xl hover:bg-purple-700 transition-colors",children:[a.jsx(lg,{className:"h-8 w-8 mb-2"}),a.jsx("span",{className:"text-base font-medium",children:"Send Announcement"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gray-50",children:a.jsxs("h2",{className:"text-3xl font-bold text-black-800 flex items-center gap-2 mx-auto",children:[a.jsx(Ms,{className:"h-7 w-7 text-orange-500"}),"Flow Dashboard"]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 px-6 py-6 text-center",children:[a.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-2xl font-bold text-green-900",children:"12"}),a.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Inside Building"})]}),a.jsxs("div",{className:"bg-teal-100 p-4 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-2xl font-bold text-teal-900",children:"5"}),a.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Inside Event"})]}),a.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"3"}),a.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Total Attendees Today"})]})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-lg font-bold text-left border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("thead",{className:"bg-gray-100 text-gray-800 text-xl font-extrabold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Site"}),a.jsx("th",{className:"px-4 py-3",children:"Maximum Capacity"}),a.jsx("th",{className:"px-4 py-3",children:"Current Capacity"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:"Building"}),a.jsx("td",{className:"px-4 py-3 text-red-600",children:"500"}),a.jsx("td",{className:"px-4 py-3",children:"80%"})]}),a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:"Event"}),a.jsx("td",{className:"px-4 py-3 text-red-600",children:"4000"}),a.jsx("td",{className:"px-4 py-3",children:"40%"})]}),a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:"Total"}),a.jsx("td",{className:"px-4 py-3 text-red-600",children:"4500"}),a.jsx("td",{className:"px-4 py-3",children:"15%"})]})]})]})})})]}),s&&a.jsxs("div",{className:"p-4 bg-gray-100 rounded-xl border border-gray-200",children:[a.jsxs("p",{className:"text-sm text-gray-800",children:[" Last scanned volunteer: ",a.jsx("b",{children:s})]}),b>0&&r==="bonus"&&a.jsxs("p",{className:"text-sm text-green-600",children:[" Bonus Assigned: ",a.jsx("b",{children:b})]})]})]}),w&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96 relative",children:[a.jsx("button",{onClick:()=>j(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:""}),a.jsx("h2",{className:"text-lg font-semibold text-black mb-4 text-center",children:"Assign Bonus"}),a.jsx("input",{type:"number",min:1,max:50,step:1,value:b===0?"":b,onChange:h=>p(Number(h.target.value)),placeholder:"Enter bonus amount (1 - 50)",className:`w-full border rounded-lg px-3 py-2 mb-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 
                ${b<1||b>50?"border-red-500":"border-gray-300"}
              `}),b<1&&b!==0&&a.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Bonus must be at least 1 point."}),b>50&&a.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Bonus cannot exceed 50 points."}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),a.jsx("button",{disabled:b<1||b>50,onClick:()=>{j(!1),n("bonus"),e(!0)},className:"px-4 py-2 rounded-lg bg-orange-500 text-white hover:bg-orange-600 disabled:opacity-50",children:"Continue to Scan"})]})]})}),o&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96 relative",children:[a.jsx("button",{onClick:()=>l(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:""}),a.jsx("h2",{className:"text-lg font-semibold text-black mb-4 text-center",children:"Send Announcement"}),a.jsx("input",{type:"text",value:c,onChange:h=>u(h.target.value),placeholder:"Message Title",className:"w-full border rounded-lg px-3 py-2 mb-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.jsx("textarea",{value:d,onChange:h=>m(h.target.value),placeholder:"Message Description",className:"w-full border rounded-lg px-3 py-2 mb-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3}),a.jsxs("select",{value:f,onChange:h=>y(h.target.value),className:"w-full border rounded-lg px-3 py-2 mb-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[a.jsx("option",{value:"volunteer",children:"Volunteer"}),a.jsx("option",{value:"team_leader",children:"Team Leader"}),a.jsx("option",{value:"admin",children:"Admin"})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),a.jsx("button",{onClick:()=>{alert(` Announcement Sent!

Title: ${c}
Description: ${d}
Role: ${f}`),l(!1)},className:"px-4 py-2 rounded-lg bg-purple-500 text-white hover:bg-purple-600",children:"Send"})]})]})}),a.jsx(Bs,{onScan:g,onClose:()=>e(!1),isOpen:t,title:r==="attendance"?"Scan Attendance":"Scan Bonus",description:r==="attendance"?"Scan the volunteer QR to mark attendance":`Scan the volunteer QR to assign bonus of ${b}`})]})},Tb={total_users:120,total_sessions:35};function Ab(){const[t]=v.useState(Tb),[e,r]=v.useState(!1),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState(""),[m,f]=v.useState(""),[y,w]=v.useState({message:"",type:null}),j=(N,S)=>{w({message:N,type:S}),setTimeout(()=>{w({message:"",type:null})},4e3)},[b,p]=v.useState({name:"",logo:null,description:"",website:"",boothNumber:""}),g=async()=>{if(!b.name||!b.website||!b.boothNumber){j(" Please fill all required fields!","error");return}try{r(!1),p({name:"",logo:null,description:"",website:"",boothNumber:""}),j(" Company added successfully!","success")}catch{j("Failed to add company","error")}},[h,x]=v.useState({title:"",date:"",speaker:"",capacity:"",type:"",hour:"",location:""}),k=async()=>{if(!h.title||!h.date||!h.speaker){j(" Please fill all required fields!","error");return}try{s(!1),x({title:"",date:"",speaker:"",capacity:"",type:"",hour:"",location:""}),j(" Session added successfully!","success")}catch{j(" Failed to add session","error")}};return a.jsxs(vt,{title:"Admin Panel",subtitle:"System administration, user management, and analytics",children:[a.jsxs("div",{className:"space-y-8",children:[y.type&&a.jsxs("div",{className:`fixed top-4 right-4 z-[9999] flex items-center gap-2 p-4 rounded-lg shadow-lg text-white ${y.type==="success"?"bg-green-600":"bg-red-600"}`,children:[y.type==="success"?a.jsx(o1,{className:"h-5 w-5"}):a.jsx(k1,{className:"h-5 w-5"}),a.jsx("span",{children:y.message})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(t==null?void 0:t.total_users)||0})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(xt,{className:"h-6 w-6 text-orange-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(t==null?void 0:t.total_sessions)||0})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(n1,{className:"h-6 w-6 text-blue-600"})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 text-center",children:[a.jsxs("h1",{className:"text-3xl font-bold text-black-800 flex items-center justify-center gap-2 mb-6",children:[a.jsx(j1,{className:"h-7 w-7 text-orange-500"}),"Quick Actions"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:()=>r(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors",children:[a.jsx(Ms,{className:"h-8 w-8 mb-2"}),a.jsx("span",{className:"text-base font-medium",children:"Add Company"})]}),a.jsxs("button",{onClick:()=>s(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:[a.jsx(Us,{className:"h-8 w-8 mb-2"}),a.jsx("span",{className:"text-base font-medium",children:"Add Session"})]}),a.jsxs("button",{onClick:()=>o(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-purple-500 text-white rounded-xl hover:bg-purple-700 transition-colors",children:[a.jsx(lg,{className:"h-8 w-8 mb-2"}),a.jsx("span",{className:"text-base font-medium",children:"Send Announcement"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gray-50",children:a.jsxs("h2",{className:"text-3xl font-bold text-black-800 flex items-center gap-2 mx-auto",children:[a.jsx(Ms,{className:"h-7 w-7 text-orange-500"}),"Flow Dashboard"]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 px-6 py-6 text-center",children:[a.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-2xl font-bold text-green-900",children:"12"}),a.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Inside Building"})]}),a.jsxs("div",{className:"bg-teal-100 p-4 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-2xl font-bold text-teal-900",children:"5"}),a.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Inside Event"})]}),a.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"3"}),a.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Total Attendees Today"})]})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-lg font-bold text-left border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("thead",{className:"bg-gray-100 text-gray-800 text-xl font-extrabold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Site"}),a.jsx("th",{className:"px-4 py-3",children:"Maximum Capacity"}),a.jsx("th",{className:"px-4 py-3",children:"Current Capacity"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:"Building"}),a.jsx("td",{className:"px-4 py-3 text-red-600",children:"500"}),a.jsx("td",{className:"px-4 py-3",children:"80%"})]}),a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:"Event"}),a.jsx("td",{className:"px-4 py-3 text-red-600",children:"4000"}),a.jsx("td",{className:"px-4 py-3",children:"40%"})]}),a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:"Total"}),a.jsx("td",{className:"px-4 py-3 text-red-600",children:"4500"}),a.jsx("td",{className:"px-4 py-3",children:"15%"})]})]})]})})})]})]}),e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add New Company"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",value:b.name,onChange:N=>p({...b,name:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Company Name *"}),a.jsx("input",{type:"file",accept:"image/*",onChange:N=>{var S;return p({...b,logo:((S=N.target.files)==null?void 0:S[0])||null})},className:"w-full border rounded-lg p-2"}),a.jsx("textarea",{value:b.description,onChange:N=>p({...b,description:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Description",rows:3}),a.jsx("input",{type:"url",value:b.website,onChange:N=>p({...b,website:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Website *"}),a.jsx("input",{type:"text",value:b.boothNumber,onChange:N=>p({...b,boothNumber:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Booth Number *"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),a.jsx("button",{onClick:g,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Save Company"})]})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add Session"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",value:h.title,onChange:N=>x({...h,title:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Title *"}),a.jsx("input",{type:"text",value:h.type||"",onChange:N=>x({...h,type:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Type *"}),a.jsx("input",{type:"time",value:h.hour||"",onChange:N=>x({...h,hour:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Hour *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:h.date,onChange:N=>x({...h,date:N.target.value}),className:"w-full border rounded-lg p-2 text-gray-900"}),!h.date&&a.jsx("span",{className:"absolute left-3 top-2 text-gray-400 pointer-events-none"})]}),a.jsx("input",{type:"text",value:h.speaker,onChange:N=>x({...h,speaker:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Speaker *"}),a.jsx("input",{type:"number",value:h.capacity||"",onChange:N=>x({...h,capacity:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Capacity *"}),a.jsx("input",{type:"text",value:h.location||"",onChange:N=>x({...h,location:N.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Location *"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),a.jsx("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Session"})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96 relative",children:[a.jsx("button",{onClick:()=>o(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:""}),a.jsx("h2",{className:"text-lg font-semibold text-black mb-4 text-center",children:"Send Announcement"}),a.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),placeholder:"Message Title",className:"w-full border rounded-lg px-3 py-2 mb-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.jsx("textarea",{value:u,onChange:N=>d(N.target.value),placeholder:"Message Description",className:"w-full border rounded-lg px-3 py-2 mb-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3}),a.jsxs("select",{value:m,onChange:N=>f(N.target.value),className:"w-full border rounded-lg px-3 py-2 mb-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[a.jsx("option",{value:"select_role",children:"Select Role"}),a.jsx("option",{value:"volunteer",children:"Volunteer"}),a.jsx("option",{value:"team_leader",children:"Team Leader"}),a.jsx("option",{value:"admin",children:"Admin"})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),a.jsx("button",{onClick:()=>{if(!l||!u||!m){j(" Please fill all required fields!","error");return}j(" Announcement sent successfully!","success"),c(""),d(""),f(""),o(!1)},className:"px-4 py-2 rounded-lg bg-purple-500 text-white hover:bg-purple-600",children:"Send"})]})]})})]})}const Ib=()=>{const{profile:t}=We(),[e,r]=v.useState(null),[n,s]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState("system");v.useEffect(()=>{m();const x=setInterval(f,3e4);return()=>clearInterval(x)},[]);const m=async()=>{try{await Promise.all([f(),y(),w()])}catch(x){console.error("Error fetching super admin data:",x)}finally{c(!1)}},f=async()=>{try{const{data:x}=await V.rpc("get_system_metrics");x&&r(x)}catch(x){console.error("Error fetching system metrics:",x)}},y=async()=>{try{const{data:x}=await V.from("users_profiles").select(`
          id,
          first_name,
          last_name,
          email,
          role,
          created_at,
          last_login,
          permissions
        `).in("role",["admin","team_leader"]).order("created_at",{ascending:!1});x&&s(x)}catch(x){console.error("Error fetching admin users:",x)}},w=async()=>{try{const{data:x}=await V.from("security_logs").select(`
          id,
          event_type,
          ip_address,
          timestamp,
          details,
          risk_level,
          users_profiles!security_logs_user_id_fkey (
            first_name,
            last_name
          )
        `).order("timestamp",{ascending:!1}).limit(50);if(x){const k=x.map(N=>{var S,_;return{...N,user_name:`${(S=N.users_profiles)==null?void 0:S.first_name} ${(_=N.users_profiles)==null?void 0:_.last_name}`}});o(k)}}catch(x){console.error("Error fetching security logs:",x)}},j=async()=>{const x=prompt("Enter admin email:"),k=prompt("Enter role (admin/team_leader):");if(x&&k&&["admin","team_leader"].includes(k))try{const{error:N}=await V.rpc("create_admin_user",{admin_email:x,admin_role:k,created_by:t==null?void 0:t.id});N?alert(`Error creating admin: ${N.message}`):(alert("Admin user created successfully!"),y())}catch{alert("Failed to create admin user")}},b=async x=>{if(confirm("Are you sure you want to revoke admin access? This action cannot be undone."))try{const{error:k}=await V.from("users_profiles").update({role:"attendee"}).eq("id",x);k?alert(`Error revoking access: ${k.message}`):(alert("Admin access revoked successfully!"),y())}catch{alert("Failed to revoke admin access")}},p=async()=>{if(confirm("This will perform database maintenance operations. Continue?"))try{const{error:x}=await V.rpc("perform_database_maintenance");alert(x?`Maintenance error: ${x.message}`:"Database maintenance completed successfully!")}catch{alert("Failed to perform database maintenance")}},g=x=>{switch(x){case"critical":return"bg-red-100 text-red-800 animate-pulse";case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=(x,k)=>x>=k.critical?"text-red-600":x>=k.warning?"text-yellow-600":"text-green-600";return l?a.jsx(vt,{title:"Super Admin Panel",subtitle:"Advanced system administration",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})}):a.jsx(vt,{title:"Super Admin Panel",subtitle:"Advanced system administration and security management",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CPU Usage"}),a.jsxs("p",{className:`text-3xl font-bold ${h((e==null?void 0:e.cpu_usage)||0,{warning:70,critical:90})}`,children:[(e==null?void 0:e.cpu_usage)||0,"%"]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(c1,{className:"h-6 w-6 text-orange-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Memory Usage"}),a.jsxs("p",{className:`text-3xl font-bold ${h((e==null?void 0:e.memory_usage)||0,{warning:80,critical:95})}`,children:[(e==null?void 0:e.memory_usage)||0,"%"]})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Ao,{className:"h-6 w-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disk Usage"}),a.jsxs("p",{className:`text-3xl font-bold ${h((e==null?void 0:e.disk_usage)||0,{warning:85,critical:95})}`,children:[(e==null?void 0:e.disk_usage)||0,"%"]})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(eh,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Connections"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(e==null?void 0:e.active_connections)||0})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(y1,{className:"h-6 w-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Xd,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("h2",{className:"text-xl font-bold text-red-900",children:"Critical System Actions"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("button",{onClick:p,className:"flex items-center justify-center p-4 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[a.jsx(To,{className:"h-5 w-5 mr-2"}),"DB Maintenance"]}),a.jsxs("button",{className:"flex items-center justify-center p-4 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[a.jsx(b1,{className:"h-5 w-5 mr-2"}),"Restart Services"]}),a.jsxs("button",{className:"flex items-center justify-center p-4 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:[a.jsx(au,{className:"h-5 w-5 mr-2"}),"Emergency Lock"]}),a.jsxs("button",{className:"flex items-center justify-center p-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[a.jsx(th,{className:"h-5 w-5 mr-2"}),"System Config"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"system",label:"System Monitor",icon:Ao},{id:"admins",label:"Admin Management",icon:xt},{id:"security",label:"Security Logs",icon:ou},{id:"database",label:"Database",icon:To},{id:"config",label:"Configuration",icon:th}].map(x=>a.jsxs("button",{onClick:()=>d(x.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${u===x.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(x.icon,{className:"h-4 w-4 mr-2"}),x.label]},x.id))})}),a.jsxs("div",{className:"p-6",children:[u==="system"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Real-time System Monitoring"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Resource Usage"}),a.jsx("div",{className:"space-y-3",children:[{label:"CPU Usage",value:(e==null?void 0:e.cpu_usage)||0,max:100,color:"orange"},{label:"Memory Usage",value:(e==null?void 0:e.memory_usage)||0,max:100,color:"blue"},{label:"Disk Usage",value:(e==null?void 0:e.disk_usage)||0,max:100,color:"green"},{label:"Network I/O",value:(e==null?void 0:e.network_io)||0,max:1e3,color:"purple"}].map(x=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:x.label}),a.jsxs("span",{className:"text-sm text-gray-600",children:[x.value,x.max===100?"%":" MB/s"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full bg-${x.color}-500`,style:{width:`${x.value/x.max*100}%`}})})]},x.label))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"System Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Database Size"}),a.jsxs("span",{className:"font-medium",children:[(e==null?void 0:e.database_size)||0," MB"]})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Active Sessions"}),a.jsx("span",{className:"font-medium",children:(e==null?void 0:e.active_connections)||0})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Uptime"}),a.jsx("span",{className:"font-medium",children:"7d 14h 32m"})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Last Backup"}),a.jsx("span",{className:"font-medium",children:"2 hours ago"})]})]})]})]})]}),u==="admins"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Administrator Management"}),a.jsx("button",{onClick:j,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Create Admin"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Administrator"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Role"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Last Login"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(x=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[x.first_name," ",x.last_name]}),a.jsx("p",{className:"text-sm text-gray-600",children:x.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.role==="admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:x.role})}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(x.created_at).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:x.last_login?new Date(x.last_login).toLocaleDateString():"Never"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Edit"}),a.jsx("button",{onClick:()=>b(x.id),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Revoke"})]})})]},x.id))})]})})]}),u==="security"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security Event Logs"}),a.jsx("div",{className:"space-y-3",children:i.map(x=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:x.event_type}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.details}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{children:["User: ",x.user_name]}),a.jsxs("span",{children:["IP: ",x.ip_address]}),a.jsx("span",{children:new Date(x.timestamp).toLocaleString()})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(x.risk_level)}`,children:x.risk_level})]})},x.id))})]}),u==="database"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Database Administration"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Database Status"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Connection Status"}),a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Connected"})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Database Size"}),a.jsxs("span",{className:"font-medium",children:[(e==null?void 0:e.database_size)||0," MB"]})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Active Queries"}),a.jsx("span",{className:"font-medium",children:"12"})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Last Backup"}),a.jsx("span",{className:"font-medium",children:"2 hours ago"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Database Operations"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center p-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[a.jsx(To,{className:"h-4 w-4 mr-2"}),"Run Maintenance"]}),a.jsxs("button",{className:"w-full flex items-center justify-center p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[a.jsx(eh,{className:"h-4 w-4 mr-2"}),"Create Backup"]}),a.jsxs("button",{className:"w-full flex items-center justify-center p-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[a.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Query Monitor"]}),a.jsxs("button",{className:"w-full flex items-center justify-center p-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[a.jsx(Xd,{className:"h-4 w-4 mr-2"}),"Emergency Reset"]})]})]})]})]}),u==="config"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Security Configuration"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),a.jsx("input",{type:"number",defaultValue:"30",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Login Attempts"}),a.jsx("input",{type:"number",defaultValue:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Policy"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[a.jsx("option",{value:"standard",children:"Standard"}),a.jsx("option",{value:"strict",children:"Strict"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"System Limits"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Concurrent Users"}),a.jsx("input",{type:"number",defaultValue:"10000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Rate Limit (req/min)"}),a.jsx("input",{type:"number",defaultValue:"1000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File Upload Limit (MB)"}),a.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Save Configuration"}),a.jsx("button",{className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Reset to Defaults"}),a.jsx("button",{className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Emergency Shutdown"})]})})]})]})]})]})})},Yl=({message:t="Loading..."})=>a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:t})]})}),Jt=({children:t,requiredRole:e})=>{const{isAuthenticated:r,profile:n,loading:s,sessionLoaded:i,hasRole:o}=We();return!i||s?a.jsx(Yl,{message:"Checking authentication..."}):r?r&&!n?a.jsx(Yl,{message:"Loading your profile..."}):e&&n&&!(Array.isArray(e),o(e))?(console.log(" Access denied for role:",n.role,"Required:",e),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[a.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),a.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Your role: ",a.jsx("span",{className:"font-medium",children:n.role})]}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Go Back"})]})})):(console.log(" Access granted for role:",n==null?void 0:n.role),a.jsx(a.Fragment,{children:t})):(console.log(" Not authenticated, redirecting to login"),a.jsx(ha,{to:"/login",replace:!0}))},ki=({children:t})=>{const{isAuthenticated:e,profile:r,loading:n,sessionLoaded:s,getRoleBasedRedirect:i}=We();if(!s||n)return a.jsx(Yl,{message:"Loading..."});if(e&&r){const o=i();return console.log(" Already authenticated, redirecting to:",o),a.jsx(ha,{to:o,replace:!0})}return a.jsx(a.Fragment,{children:t})},Lb=()=>a.jsxs(Yy,{children:[a.jsx(Le,{path:"/login",element:a.jsx(ki,{children:a.jsx(C1,{})})}),a.jsx(Le,{path:"/register",element:a.jsx(ki,{children:a.jsx(A1,{})})}),a.jsx(Le,{path:"/forgot-password",element:a.jsx(ki,{children:a.jsx(I1,{})})}),a.jsx(Le,{path:"/V0lunt33ringR3g",element:a.jsx(ki,{children:a.jsx(L1,{})})}),a.jsx(Le,{path:"/attendee",element:a.jsx(Jt,{requiredRole:"attendee",children:a.jsx(jb,{})})}),a.jsx(Le,{path:"/volunteer",element:a.jsx(Jt,{requiredRole:"volunteer",children:a.jsx(_b,{})})}),a.jsx(Le,{path:"/regteam",element:a.jsx(Jt,{requiredRole:"registration",children:a.jsx(Eb,{})})}),a.jsx(Le,{path:"/buildteam",element:a.jsx(Jt,{requiredRole:"building",children:a.jsx(Cb,{})})}),a.jsx(Le,{path:"/infodesk",element:a.jsx(Jt,{requiredRole:"info_desk",children:a.jsx(Pb,{})})}),a.jsx(Le,{path:"/teamleader",element:a.jsx(Jt,{requiredRole:"team_leader",children:a.jsx(Rb,{})})}),a.jsx(Le,{path:"/secure-9821panel",element:a.jsx(Jt,{requiredRole:"admin",children:a.jsx(Ab,{})})}),a.jsx(Le,{path:"/super-ctrl-92k1x",element:a.jsx(Jt,{requiredRole:"sadmin",children:a.jsx(Ib,{})})}),a.jsx(Le,{path:"/",element:a.jsx(ha,{to:"/login",replace:!0})}),a.jsx(Le,{path:"*",element:a.jsx(ha,{to:"/login",replace:!0})})]});function $b(){return a.jsx(wx,{children:a.jsx(e1,{children:a.jsx(Lb,{})})})}vm(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx($b,{})}));
