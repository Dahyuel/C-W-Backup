const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AttendeeDashboard-DEX_sovn.js","assets/DashboardLayout-ChN58qoY.js","assets/heart-CbsRToVe.js","assets/activity-VgJ5GWXv.js","assets/calendar-CLr0XUdv.js","assets/clock-DmGtBZEs.js","assets/map-pin-VuyWNYdp.js","assets/x-circle-BEsrRhs5.js","assets/VolunteerRegistration-DorroQVV.js","assets/VolunteerDashboard-BS4iS9j7.js","assets/RegTeamDashboard-D-Dg_IkU.js","assets/QRScanner-B8cxYmV7.js","assets/user-x-DlRg0Hb0.js","assets/BuildTeamDashboard-BfxFAjdx.js","assets/InfoDeskDashboard-Ci9YRQjM.js","assets/TeamLeaderDashboard-aSVjFMf7.js","assets/plus-BiD-W4Rw.js","assets/AdminPanel-DyYeXb5_.js","assets/SuperAdminPanel-Pr__7E0e.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ah(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ih(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Tc={exports:{}},Ei={},Rc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),Uh=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),Fh=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Mh=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Hh=Symbol.for("react.memo"),qh=Symbol.for("react.lazy"),Ql=Symbol.iterator;function Kh(e){return e===null||typeof e!="object"?null:(e=Ql&&e[Ql]||e["@@iterator"],typeof e=="function"?e:null)}var Lc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oc=Object.assign,$c={};function tn(e,t,r){this.props=e,this.context=t,this.refs=$c,this.updater=r||Lc}tn.prototype.isReactComponent={};tn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ac(){}Ac.prototype=tn.prototype;function Wa(e,t,r){this.props=e,this.context=t,this.refs=$c,this.updater=r||Lc}var Ha=Wa.prototype=new Ac;Ha.constructor=Wa;Oc(Ha,tn.prototype);Ha.isPureReactComponent=!0;var Yl=Array.isArray,Ic=Object.prototype.hasOwnProperty,qa={current:null},Uc={key:!0,ref:!0,__self:!0,__source:!0};function Dc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ic.call(t,n)&&!Uc.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:is,type:e,key:i,ref:o,props:s,_owner:qa.current}}function Gh(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ka(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function Jh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xl=/\/+/g;function Xi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jh(""+e.key):t.toString(36)}function Us(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case is:case Uh:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Xi(o,0):n,Yl(s)?(r="",e!=null&&(r=e.replace(Xl,"$&/")+"/"),Us(s,t,r,"",function(u){return u})):s!=null&&(Ka(s)&&(s=Gh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Yl(e))for(var l=0;l<e.length;l++){i=e[l];var a=n+Xi(i,l);o+=Us(i,t,r,a,s)}else if(a=Kh(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=n+Xi(i,l++),o+=Us(i,t,r,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ms(e,t,r){if(e==null)return e;var n=[],s=0;return Us(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Qh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},Ds={transition:null},Yh={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:qa};function Fc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:ms,forEach:function(e,t,r){ms(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!Ka(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=tn;M.Fragment=Dh;M.Profiler=zh;M.PureComponent=Wa;M.StrictMode=Fh;M.Suspense=Wh;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yh;M.act=Fc;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Oc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Ic.call(t,a)&&!Uc.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:is,type:e.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(e){return e={$$typeof:Bh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mh,_context:e},e.Consumer=e};M.createElement=Dc;M.createFactory=function(e){var t=Dc.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:Vh,render:e}};M.isValidElement=Ka;M.lazy=function(e){return{$$typeof:qh,_payload:{_status:-1,_result:e},_init:Qh}};M.memo=function(e,t){return{$$typeof:Hh,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};M.unstable_act=Fc;M.useCallback=function(e,t){return Se.current.useCallback(e,t)};M.useContext=function(e){return Se.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};M.useEffect=function(e,t){return Se.current.useEffect(e,t)};M.useId=function(){return Se.current.useId()};M.useImperativeHandle=function(e,t,r){return Se.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Se.current.useMemo(e,t)};M.useReducer=function(e,t,r){return Se.current.useReducer(e,t,r)};M.useRef=function(e){return Se.current.useRef(e)};M.useState=function(e){return Se.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return Se.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return Se.current.useTransition()};M.version="18.3.1";Rc.exports=M;var x=Rc.exports;const st=Ah(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=x,Zh=Symbol.for("react.element"),ep=Symbol.for("react.fragment"),tp=Object.prototype.hasOwnProperty,rp=Xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,np={key:!0,ref:!0,__self:!0,__source:!0};function zc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)tp.call(t,n)&&!np.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Zh,type:e,key:i,ref:o,props:s,_owner:rp.current}}Ei.Fragment=ep;Ei.jsx=zc;Ei.jsxs=zc;Tc.exports=Ei;var d=Tc.exports,Mc={exports:{}},Fe={},Bc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,O){var $=T.length;T.push(O);e:for(;0<$;){var V=$-1>>>1,G=T[V];if(0<s(G,O))T[V]=O,T[$]=G,$=V;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var O=T[0],$=T.pop();if($!==O){T[0]=$;e:for(var V=0,G=T.length,we=G>>>1;V<we;){var $e=2*(V+1)-1,Yi=T[$e],er=$e+1,ps=T[er];if(0>s(Yi,$))er<G&&0>s(ps,Yi)?(T[V]=ps,T[er]=$,V=er):(T[V]=Yi,T[$e]=$,V=$e);else if(er<G&&0>s(ps,$))T[V]=ps,T[er]=$,V=er;else break e}}return O}function s(T,O){var $=T.sortIndex-O.sortIndex;return $!==0?$:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,p=3,v=!1,y=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(T){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=T)n(u),O.sortIndex=O.expirationTime,t(a,O);else break;O=r(u)}}function w(T){if(_=!1,h(T),!y)if(r(a)!==null)y=!0,K(E);else{var O=r(u);O!==null&&je(w,O.startTime-T)}}function E(T,O){y=!1,_&&(_=!1,g(k),k=-1),v=!0;var $=p;try{for(h(O),f=r(a);f!==null&&(!(f.expirationTime>O)||T&&!A());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var G=V(f.expirationTime<=O);O=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(a)&&n(a),h(O)}else n(a);f=r(a)}if(f!==null)var we=!0;else{var $e=r(u);$e!==null&&je(w,$e.startTime-O),we=!1}return we}finally{f=null,p=$,v=!1}}var j=!1,b=null,k=-1,N=5,R=-1;function A(){return!(e.unstable_now()-R<N)}function D(){if(b!==null){var T=e.unstable_now();R=T;var O=!0;try{O=b(!0,T)}finally{O?Ee():(j=!1,b=null)}}else j=!1}var Ee;if(typeof m=="function")Ee=function(){m(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,U=P.port2;P.port1.onmessage=D,Ee=function(){U.postMessage(null)}}else Ee=function(){S(D,0)};function K(T){b=T,j||(j=!0,Ee())}function je(T,O){k=S(function(){T(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,K(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var $=p;p=O;try{return T()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return O()}finally{p=$}},e.unstable_scheduleCallback=function(T,O,$){var V=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,T={id:c++,callback:O,priorityLevel:T,startTime:$,expirationTime:G,sortIndex:-1},$>V?(T.sortIndex=$,t(u,T),r(a)===null&&T===r(u)&&(_?(g(k),k=-1):_=!0,je(w,$-V))):(T.sortIndex=G,t(a,T),y||v||(y=!0,K(E))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var O=p;return function(){var $=p;p=O;try{return T.apply(this,arguments)}finally{p=$}}}})(Vc);Bc.exports=Vc;var sp=Bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=x,De=sp;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wc=new Set,Dn={};function vr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Dn[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ao=Object.prototype.hasOwnProperty,op=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zl={},eu={};function ap(e){return Ao.call(eu,e)?!0:Ao.call(Zl,e)?!1:op.test(e)?eu[e]=!0:(Zl[e]=!0,!1)}function lp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function up(e,t,r,n){if(t===null||typeof t>"u"||lp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ga=/[\-:]([a-z])/g;function Ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ga,Ja);he[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ga,Ja);he[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ga,Ja);he[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qa(e,t,r,n){var s=he.hasOwnProperty(t)?he[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(up(t,r,s,n)&&(r=null),n||s===null?ap(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ct=ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Ya=Symbol.for("react.strict_mode"),Io=Symbol.for("react.profiler"),Hc=Symbol.for("react.provider"),qc=Symbol.for("react.context"),Xa=Symbol.for("react.forward_ref"),Uo=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Za=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Kc=Symbol.for("react.offscreen"),tu=Symbol.iterator;function cn(e){return e===null||typeof e!="object"?null:(e=tu&&e[tu]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Zi;function xn(e){if(Zi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zi=t&&t[1]||""}return`
`+Zi+e}var eo=!1;function to(e,t){if(!e||eo)return"";eo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{eo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xn(e):""}function cp(e){switch(e.tag){case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return xn("Suspense");case 19:return xn("SuspenseList");case 0:case 2:case 15:return e=to(e.type,!1),e;case 11:return e=to(e.type.render,!1),e;case 1:return e=to(e.type,!0),e;default:return""}}function Fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Nr:return"Portal";case Io:return"Profiler";case Ya:return"StrictMode";case Uo:return"Suspense";case Do:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qc:return(e.displayName||"Context")+".Consumer";case Hc:return(e._context.displayName||"Context")+".Provider";case Xa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Za:return t=e.displayName||null,t!==null?t:Fo(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return Fo(e(t))}catch{}}return null}function dp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fo(t);case 8:return t===Ya?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fp(e){var t=Gc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=fp(e))}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Gc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zo(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ru(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qc(e,t){t=t.checked,t!=null&&Qa(e,"checked",t,!1)}function Mo(e,t){Qc(e,t);var r=Gt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bo(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bo(e,t,r){(t!=="number"||Ys(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kn=Array.isArray;function Mr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function su(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(kn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gt(r)}}function Yc(e,t){var r=Gt(t.value),n=Gt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function iu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ys,Zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hp=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(e){hp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jn[t]=jn[e]})});function ed(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jn.hasOwnProperty(e)&&jn[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ed(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var pp=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ho(e,t){if(t){if(pp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function qo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function el(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Go=null,Br=null,Vr=null;function ou(e){if(e=ls(e)){if(typeof Go!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Ti(t),Go(e.stateNode,e.type,t))}}function rd(e){Br?Vr?Vr.push(e):Vr=[e]:Br=e}function nd(){if(Br){var e=Br,t=Vr;if(Vr=Br=null,ou(e),t)for(e=0;e<t.length;e++)ou(t[e])}}function sd(e,t){return e(t)}function id(){}var ro=!1;function od(e,t,r){if(ro)return e(t,r);ro=!0;try{return sd(e,t,r)}finally{ro=!1,(Br!==null||Vr!==null)&&(id(),nd())}}function zn(e,t){var r=e.stateNode;if(r===null)return null;var n=Ti(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Jo=!1;if(kt)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Jo=!1}function mp(e,t,r,n,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Cn=!1,Xs=null,Zs=!1,Qo=null,gp={onError:function(e){Cn=!0,Xs=e}};function vp(e,t,r,n,s,i,o,l,a){Cn=!1,Xs=null,mp.apply(gp,arguments)}function yp(e,t,r,n,s,i,o,l,a){if(vp.apply(this,arguments),Cn){if(Cn){var u=Xs;Cn=!1,Xs=null}else throw Error(C(198));Zs||(Zs=!0,Qo=u)}}function yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ad(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function au(e){if(yr(e)!==e)throw Error(C(188))}function wp(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return au(s),e;if(i===n)return au(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function ld(e){return e=wp(e),e!==null?ud(e):null}function ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ud(e);if(t!==null)return t;e=e.sibling}return null}var cd=De.unstable_scheduleCallback,lu=De.unstable_cancelCallback,_p=De.unstable_shouldYield,xp=De.unstable_requestPaint,ne=De.unstable_now,kp=De.unstable_getCurrentPriorityLevel,tl=De.unstable_ImmediatePriority,dd=De.unstable_UserBlockingPriority,ei=De.unstable_NormalPriority,Sp=De.unstable_LowPriority,fd=De.unstable_IdlePriority,ji=null,dt=null;function bp(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ji,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Cp,Ep=Math.log,jp=Math.LN2;function Cp(e){return e>>>=0,e===0?32:31-(Ep(e)/jp|0)|0}var ws=64,_s=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ti(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Sn(l):(i&=o,i!==0&&(n=Sn(i)))}else o=r&~s,o!==0?n=Sn(o):i!==0&&(n=Sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tt(t),s=1<<r,n|=e[r],t&=~s;return n}function Pp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-tt(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=Pp(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hd(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function no(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function os(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=r}function Tp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function rl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,nl,gd,vd,yd,Xo=!1,xs=[],zt=null,Mt=null,Bt=null,Mn=new Map,Bn=new Map,At=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function fn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ls(t),t!==null&&nl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lp(e,t,r,n,s){switch(t){case"focusin":return zt=fn(zt,e,t,r,n,s),!0;case"dragenter":return Mt=fn(Mt,e,t,r,n,s),!0;case"mouseover":return Bt=fn(Bt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Mn.set(i,fn(Mn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Bn.set(i,fn(Bn.get(i)||null,e,t,r,n,s)),!0}return!1}function wd(e){var t=ar(e.target);if(t!==null){var r=yr(t);if(r!==null){if(t=r.tag,t===13){if(t=ad(r),t!==null){e.blockedOn=t,yd(e.priority,function(){gd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ko=n,r.target.dispatchEvent(n),Ko=null}else return t=ls(r),t!==null&&nl(t),e.blockedOn=r,!1;t.shift()}return!0}function cu(e,t,r){Fs(e)&&r.delete(t)}function Op(){Xo=!1,zt!==null&&Fs(zt)&&(zt=null),Mt!==null&&Fs(Mt)&&(Mt=null),Bt!==null&&Fs(Bt)&&(Bt=null),Mn.forEach(cu),Bn.forEach(cu)}function hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Xo||(Xo=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Op)))}function Vn(e){function t(s){return hn(s,e)}if(0<xs.length){hn(xs[0],e);for(var r=1;r<xs.length;r++){var n=xs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zt!==null&&hn(zt,e),Mt!==null&&hn(Mt,e),Bt!==null&&hn(Bt,e),Mn.forEach(t),Bn.forEach(t),r=0;r<At.length;r++)n=At[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<At.length&&(r=At[0],r.blockedOn===null);)wd(r),r.blockedOn===null&&At.shift()}var Wr=Ct.ReactCurrentBatchConfig,ri=!0;function $p(e,t,r,n){var s=W,i=Wr.transition;Wr.transition=null;try{W=1,sl(e,t,r,n)}finally{W=s,Wr.transition=i}}function Ap(e,t,r,n){var s=W,i=Wr.transition;Wr.transition=null;try{W=4,sl(e,t,r,n)}finally{W=s,Wr.transition=i}}function sl(e,t,r,n){if(ri){var s=Zo(e,t,r,n);if(s===null)po(e,t,n,ni,r),uu(e,n);else if(Lp(s,e,t,r,n))n.stopPropagation();else if(uu(e,n),t&4&&-1<Rp.indexOf(e)){for(;s!==null;){var i=ls(s);if(i!==null&&md(i),i=Zo(e,t,r,n),i===null&&po(e,t,n,ni,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else po(e,t,n,null,r)}}var ni=null;function Zo(e,t,r,n){if(ni=null,e=el(n),e=ar(e),e!==null)if(t=yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ad(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ni=e,null}function _d(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kp()){case tl:return 1;case dd:return 4;case ei:case Sp:return 16;case fd:return 536870912;default:return 16}default:return 16}}var Dt=null,il=null,zs=null;function xd(){if(zs)return zs;var e,t=il,r=t.length,n,s="value"in Dt?Dt.value:Dt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return zs=s.slice(e,1<n?1-n:void 0)}function Ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ks(){return!0}function du(){return!1}function ze(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ks:du,this.isPropagationStopped=du,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=ze(rn),as=te({},rn,{view:0,detail:0}),Ip=ze(as),so,io,pn,Ci=te({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&e.type==="mousemove"?(so=e.screenX-pn.screenX,io=e.screenY-pn.screenY):io=so=0,pn=e),so)},movementY:function(e){return"movementY"in e?e.movementY:io}}),fu=ze(Ci),Up=te({},Ci,{dataTransfer:0}),Dp=ze(Up),Fp=te({},as,{relatedTarget:0}),oo=ze(Fp),zp=te({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=ze(zp),Bp=te({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vp=ze(Bp),Wp=te({},rn,{data:0}),hu=ze(Wp),Hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kp[e])?!!t[e]:!1}function al(){return Gp}var Jp=te({},as,{key:function(e){if(e.key){var t=Hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qp=ze(Jp),Yp=te({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=ze(Yp),Xp=te({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),Zp=ze(Xp),em=te({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tm=ze(em),rm=te({},Ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nm=ze(rm),sm=[9,13,27,32],ll=kt&&"CompositionEvent"in window,Pn=null;kt&&"documentMode"in document&&(Pn=document.documentMode);var im=kt&&"TextEvent"in window&&!Pn,kd=kt&&(!ll||Pn&&8<Pn&&11>=Pn),mu=" ",gu=!1;function Sd(e,t){switch(e){case"keyup":return sm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function om(e,t){switch(e){case"compositionend":return bd(t);case"keypress":return t.which!==32?null:(gu=!0,mu);case"textInput":return e=t.data,e===mu&&gu?null:e;default:return null}}function am(e,t){if(Rr)return e==="compositionend"||!ll&&Sd(e,t)?(e=xd(),zs=il=Dt=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var lm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lm[e.type]:t==="textarea"}function Ed(e,t,r,n){rd(n),t=si(t,"onChange"),0<t.length&&(r=new ol("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nn=null,Wn=null;function um(e){Id(e,0)}function Pi(e){var t=$r(e);if(Jc(t))return e}function cm(e,t){if(e==="change")return t}var jd=!1;if(kt){var ao;if(kt){var lo="oninput"in document;if(!lo){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),lo=typeof yu.oninput=="function"}ao=lo}else ao=!1;jd=ao&&(!document.documentMode||9<document.documentMode)}function wu(){Nn&&(Nn.detachEvent("onpropertychange",Cd),Wn=Nn=null)}function Cd(e){if(e.propertyName==="value"&&Pi(Wn)){var t=[];Ed(t,Wn,e,el(e)),od(um,t)}}function dm(e,t,r){e==="focusin"?(wu(),Nn=t,Wn=r,Nn.attachEvent("onpropertychange",Cd)):e==="focusout"&&wu()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(Wn)}function hm(e,t){if(e==="click")return Pi(t)}function pm(e,t){if(e==="input"||e==="change")return Pi(t)}function mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:mm;function Hn(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ao.call(t,s)||!nt(e[s],t[s]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xu(e,t){var r=_u(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_u(r)}}function Pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nd(){for(var e=window,t=Ys();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ys(e.document)}return t}function ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gm(e){var t=Nd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pd(r.ownerDocument.documentElement,r)){if(n!==null&&ul(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=xu(r,i);var o=xu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vm=kt&&"documentMode"in document&&11>=document.documentMode,Lr=null,ea=null,Tn=null,ta=!1;function ku(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ta||Lr==null||Lr!==Ys(n)||(n=Lr,"selectionStart"in n&&ul(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tn&&Hn(Tn,n)||(Tn=n,n=si(ea,"onSelect"),0<n.length&&(t=new ol("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Lr)))}function Ss(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Or={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},uo={},Td={};kt&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Ni(e){if(uo[e])return uo[e];if(!Or[e])return e;var t=Or[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Td)return uo[e]=t[r];return e}var Rd=Ni("animationend"),Ld=Ni("animationiteration"),Od=Ni("animationstart"),$d=Ni("transitionend"),Ad=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Ad.set(e,t),vr(t,[e])}for(var co=0;co<Su.length;co++){var fo=Su[co],ym=fo.toLowerCase(),wm=fo[0].toUpperCase()+fo.slice(1);Qt(ym,"on"+wm)}Qt(Rd,"onAnimationEnd");Qt(Ld,"onAnimationIteration");Qt(Od,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt($d,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_m=new Set("cancel close invalid load scroll toggle".split(" ").concat(bn));function bu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yp(n,t,void 0,e),e.currentTarget=null}function Id(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;bu(s,l,u),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;bu(s,l,u),i=a}}}if(Zs)throw e=Qo,Zs=!1,Qo=null,e}function J(e,t){var r=t[oa];r===void 0&&(r=t[oa]=new Set);var n=e+"__bubble";r.has(n)||(Ud(t,e,2,!1),r.add(n))}function ho(e,t,r){var n=0;t&&(n|=4),Ud(r,e,n,t)}var bs="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[bs]){e[bs]=!0,Wc.forEach(function(r){r!=="selectionchange"&&(_m.has(r)||ho(r,!1,e),ho(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bs]||(t[bs]=!0,ho("selectionchange",!1,t))}}function Ud(e,t,r,n){switch(_d(t)){case 1:var s=$p;break;case 4:s=Ap;break;default:s=sl}r=s.bind(null,t,r,e),s=void 0,!Jo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function po(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ar(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}od(function(){var u=i,c=el(r),f=[];e:{var p=Ad.get(e);if(p!==void 0){var v=ol,y=e;switch(e){case"keypress":if(Ms(r)===0)break e;case"keydown":case"keyup":v=Qp;break;case"focusin":y="focus",v=oo;break;case"focusout":y="blur",v=oo;break;case"beforeblur":case"afterblur":v=oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Zp;break;case Rd:case Ld:case Od:v=Mp;break;case $d:v=tm;break;case"scroll":v=Ip;break;case"wheel":v=nm;break;case"copy":case"cut":case"paste":v=Vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=pu}var _=(t&4)!==0,S=!_&&e==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var m=u,h;m!==null;){h=m;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,g!==null&&(w=zn(m,g),w!=null&&_.push(Kn(m,w,h)))),S)break;m=m.return}0<_.length&&(p=new v(p,y,null,r,c),f.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==Ko&&(y=r.relatedTarget||r.fromElement)&&(ar(y)||y[St]))break e;if((v||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?ar(y):null,y!==null&&(S=yr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(_=fu,w="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=pu,w="onPointerLeave",g="onPointerEnter",m="pointer"),S=v==null?p:$r(v),h=y==null?p:$r(y),p=new _(w,m+"leave",v,r,c),p.target=S,p.relatedTarget=h,w=null,ar(c)===u&&(_=new _(g,m+"enter",y,r,c),_.target=h,_.relatedTarget=S,w=_),S=w,v&&y)t:{for(_=v,g=y,m=0,h=_;h;h=xr(h))m++;for(h=0,w=g;w;w=xr(w))h++;for(;0<m-h;)_=xr(_),m--;for(;0<h-m;)g=xr(g),h--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=xr(_),g=xr(g)}_=null}else _=null;v!==null&&Eu(f,p,v,_,!1),y!==null&&S!==null&&Eu(f,S,y,_,!0)}}e:{if(p=u?$r(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var E=cm;else if(vu(p))if(jd)E=pm;else{E=fm;var j=dm}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=hm);if(E&&(E=E(e,u))){Ed(f,E,r,c);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Bo(p,"number",p.value)}switch(j=u?$r(u):window,e){case"focusin":(vu(j)||j.contentEditable==="true")&&(Lr=j,ea=u,Tn=null);break;case"focusout":Tn=ea=Lr=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,ku(f,r,c);break;case"selectionchange":if(vm)break;case"keydown":case"keyup":ku(f,r,c)}var b;if(ll)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Rr?Sd(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(kd&&r.locale!=="ko"&&(Rr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Rr&&(b=xd()):(Dt=c,il="value"in Dt?Dt.value:Dt.textContent,Rr=!0)),j=si(u,k),0<j.length&&(k=new hu(k,e,null,r,c),f.push({event:k,listeners:j}),b?k.data=b:(b=bd(r),b!==null&&(k.data=b)))),(b=im?om(e,r):am(e,r))&&(u=si(u,"onBeforeInput"),0<u.length&&(c=new hu("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=b))}Id(f,t)})}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function si(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zn(e,r),i!=null&&n.unshift(Kn(e,i,s)),i=zn(e,t),i!=null&&n.push(Kn(e,i,s))),e=e.return}return n}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=zn(r,i),a!=null&&o.unshift(Kn(r,a,l))):s||(a=zn(r,i),a!=null&&o.push(Kn(r,a,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var xm=/\r\n?/g,km=/\u0000|\uFFFD/g;function ju(e){return(typeof e=="string"?e:""+e).replace(xm,`
`).replace(km,"")}function Es(e,t,r){if(t=ju(t),ju(e)!==t&&r)throw Error(C(425))}function ii(){}var ra=null,na=null;function sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,Cu=typeof Promise=="function"?Promise:void 0,bm=typeof queueMicrotask=="function"?queueMicrotask:typeof Cu<"u"?function(e){return Cu.resolve(null).then(e).catch(Em)}:ia;function Em(e){setTimeout(function(){throw e})}function mo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vn(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),ct="__reactFiber$"+nn,Gn="__reactProps$"+nn,St="__reactContainer$"+nn,oa="__reactEvents$"+nn,jm="__reactListeners$"+nn,Cm="__reactHandles$"+nn;function ar(e){var t=e[ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[St]||r[ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pu(e);e!==null;){if(r=e[ct])return r;e=Pu(e)}return t}e=r,r=e.parentNode}return null}function ls(e){return e=e[ct]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Ti(e){return e[Gn]||null}var aa=[],Ar=-1;function Yt(e){return{current:e}}function Q(e){0>Ar||(e.current=aa[Ar],aa[Ar]=null,Ar--)}function q(e,t){Ar++,aa[Ar]=e.current,e.current=t}var Jt={},ye=Yt(Jt),Te=Yt(!1),fr=Jt;function Gr(e,t){var r=e.type.contextTypes;if(!r)return Jt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Re(e){return e=e.childContextTypes,e!=null}function oi(){Q(Te),Q(ye)}function Nu(e,t,r){if(ye.current!==Jt)throw Error(C(168));q(ye,t),q(Te,r)}function Dd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,dp(e)||"Unknown",s));return te({},r,n)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,fr=ye.current,q(ye,e),q(Te,Te.current),!0}function Tu(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=Dd(e,t,fr),n.__reactInternalMemoizedMergedChildContext=e,Q(Te),Q(ye),q(ye,e)):Q(Te),q(Te,r)}var vt=null,Ri=!1,go=!1;function Fd(e){vt===null?vt=[e]:vt.push(e)}function Pm(e){Ri=!0,Fd(e)}function Xt(){if(!go&&vt!==null){go=!0;var e=0,t=W;try{var r=vt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vt=null,Ri=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),cd(tl,Xt),s}finally{W=t,go=!1}}return null}var Ir=[],Ur=0,li=null,ui=0,Me=[],Be=0,hr=null,yt=1,wt="";function nr(e,t){Ir[Ur++]=ui,Ir[Ur++]=li,li=e,ui=t}function zd(e,t,r){Me[Be++]=yt,Me[Be++]=wt,Me[Be++]=hr,hr=e;var n=yt;e=wt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yt=1<<32-tt(t)+s|r<<s|n,wt=i+e}else yt=1<<i|r<<s|n,wt=e}function cl(e){e.return!==null&&(nr(e,1),zd(e,1,0))}function dl(e){for(;e===li;)li=Ir[--Ur],Ir[Ur]=null,ui=Ir[--Ur],Ir[Ur]=null;for(;e===hr;)hr=Me[--Be],Me[Be]=null,wt=Me[--Be],Me[Be]=null,yt=Me[--Be],Me[Be]=null}var Ue=null,Ie=null,Y=!1,et=null;function Md(e,t){var r=Ve(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ru(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,Ie=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hr!==null?{id:yt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ve(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ue=e,Ie=null,!0):!1;default:return!1}}function la(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ua(e){if(Y){var t=Ie;if(t){var r=t;if(!Ru(e,t)){if(la(e))throw Error(C(418));t=Vt(r.nextSibling);var n=Ue;t&&Ru(e,t)?Md(n,r):(e.flags=e.flags&-4097|2,Y=!1,Ue=e)}}else{if(la(e))throw Error(C(418));e.flags=e.flags&-4097|2,Y=!1,Ue=e}}}function Lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function js(e){if(e!==Ue)return!1;if(!Y)return Lu(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sa(e.type,e.memoizedProps)),t&&(t=Ie)){if(la(e))throw Bd(),Error(C(418));for(;t;)Md(e,t),t=Vt(t.nextSibling)}if(Lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ie=Vt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Ue?Vt(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=Ie;e;)e=Vt(e.nextSibling)}function Jr(){Ie=Ue=null,Y=!1}function fl(e){et===null?et=[e]:et.push(e)}var Nm=Ct.ReactCurrentBatchConfig;function mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ou(e){var t=e._init;return t(e._payload)}function Vd(e){function t(g,m){if(e){var h=g.deletions;h===null?(g.deletions=[m],g.flags|=16):h.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Kt(g,m),g.index=0,g.sibling=null,g}function i(g,m,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<m?(g.flags|=2,m):h):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,h,w){return m===null||m.tag!==6?(m=So(h,g.mode,w),m.return=g,m):(m=s(m,h),m.return=g,m)}function a(g,m,h,w){var E=h.type;return E===Tr?c(g,m,h.props.children,w,h.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&Ou(E)===m.type)?(w=s(m,h.props),w.ref=mn(g,m,h),w.return=g,w):(w=Gs(h.type,h.key,h.props,null,g.mode,w),w.ref=mn(g,m,h),w.return=g,w)}function u(g,m,h,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=bo(h,g.mode,w),m.return=g,m):(m=s(m,h.children||[]),m.return=g,m)}function c(g,m,h,w,E){return m===null||m.tag!==7?(m=dr(h,g.mode,w,E),m.return=g,m):(m=s(m,h),m.return=g,m)}function f(g,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=So(""+m,g.mode,h),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case gs:return h=Gs(m.type,m.key,m.props,null,g.mode,h),h.ref=mn(g,null,m),h.return=g,h;case Nr:return m=bo(m,g.mode,h),m.return=g,m;case Ot:var w=m._init;return f(g,w(m._payload),h)}if(kn(m)||cn(m))return m=dr(m,g.mode,h,null),m.return=g,m;Cs(g,m)}return null}function p(g,m,h,w){var E=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:l(g,m,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case gs:return h.key===E?a(g,m,h,w):null;case Nr:return h.key===E?u(g,m,h,w):null;case Ot:return E=h._init,p(g,m,E(h._payload),w)}if(kn(h)||cn(h))return E!==null?null:c(g,m,h,w,null);Cs(g,h)}return null}function v(g,m,h,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(h)||null,l(m,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gs:return g=g.get(w.key===null?h:w.key)||null,a(m,g,w,E);case Nr:return g=g.get(w.key===null?h:w.key)||null,u(m,g,w,E);case Ot:var j=w._init;return v(g,m,h,j(w._payload),E)}if(kn(w)||cn(w))return g=g.get(h)||null,c(m,g,w,E,null);Cs(m,w)}return null}function y(g,m,h,w){for(var E=null,j=null,b=m,k=m=0,N=null;b!==null&&k<h.length;k++){b.index>k?(N=b,b=null):N=b.sibling;var R=p(g,b,h[k],w);if(R===null){b===null&&(b=N);break}e&&b&&R.alternate===null&&t(g,b),m=i(R,m,k),j===null?E=R:j.sibling=R,j=R,b=N}if(k===h.length)return r(g,b),Y&&nr(g,k),E;if(b===null){for(;k<h.length;k++)b=f(g,h[k],w),b!==null&&(m=i(b,m,k),j===null?E=b:j.sibling=b,j=b);return Y&&nr(g,k),E}for(b=n(g,b);k<h.length;k++)N=v(b,g,k,h[k],w),N!==null&&(e&&N.alternate!==null&&b.delete(N.key===null?k:N.key),m=i(N,m,k),j===null?E=N:j.sibling=N,j=N);return e&&b.forEach(function(A){return t(g,A)}),Y&&nr(g,k),E}function _(g,m,h,w){var E=cn(h);if(typeof E!="function")throw Error(C(150));if(h=E.call(h),h==null)throw Error(C(151));for(var j=E=null,b=m,k=m=0,N=null,R=h.next();b!==null&&!R.done;k++,R=h.next()){b.index>k?(N=b,b=null):N=b.sibling;var A=p(g,b,R.value,w);if(A===null){b===null&&(b=N);break}e&&b&&A.alternate===null&&t(g,b),m=i(A,m,k),j===null?E=A:j.sibling=A,j=A,b=N}if(R.done)return r(g,b),Y&&nr(g,k),E;if(b===null){for(;!R.done;k++,R=h.next())R=f(g,R.value,w),R!==null&&(m=i(R,m,k),j===null?E=R:j.sibling=R,j=R);return Y&&nr(g,k),E}for(b=n(g,b);!R.done;k++,R=h.next())R=v(b,g,k,R.value,w),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?k:R.key),m=i(R,m,k),j===null?E=R:j.sibling=R,j=R);return e&&b.forEach(function(D){return t(g,D)}),Y&&nr(g,k),E}function S(g,m,h,w){if(typeof h=="object"&&h!==null&&h.type===Tr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case gs:e:{for(var E=h.key,j=m;j!==null;){if(j.key===E){if(E=h.type,E===Tr){if(j.tag===7){r(g,j.sibling),m=s(j,h.props.children),m.return=g,g=m;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&Ou(E)===j.type){r(g,j.sibling),m=s(j,h.props),m.ref=mn(g,j,h),m.return=g,g=m;break e}r(g,j);break}else t(g,j);j=j.sibling}h.type===Tr?(m=dr(h.props.children,g.mode,w,h.key),m.return=g,g=m):(w=Gs(h.type,h.key,h.props,null,g.mode,w),w.ref=mn(g,m,h),w.return=g,g=w)}return o(g);case Nr:e:{for(j=h.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){r(g,m.sibling),m=s(m,h.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=bo(h,g.mode,w),m.return=g,g=m}return o(g);case Ot:return j=h._init,S(g,m,j(h._payload),w)}if(kn(h))return y(g,m,h,w);if(cn(h))return _(g,m,h,w);Cs(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,h),m.return=g,g=m):(r(g,m),m=So(h,g.mode,w),m.return=g,g=m),o(g)):r(g,m)}return S}var Qr=Vd(!0),Wd=Vd(!1),ci=Yt(null),di=null,Dr=null,hl=null;function pl(){hl=Dr=di=null}function ml(e){var t=ci.current;Q(ci),e._currentValue=t}function ca(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hr(e,t){di=e,hl=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(hl!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(di===null)throw Error(C(308));Dr=e,di.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var lr=null;function gl(e){lr===null?lr=[e]:lr.push(e)}function Hd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,gl(t)):(r.next=s.next,s.next=r),t.interleaved=r,bt(e,n)}function bt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $t=!1;function vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,bt(e,r)}return s=n.interleaved,s===null?(t.next=t,gl(n)):(t.next=s.next,s.next=t),n.interleaved=t,bt(e,r)}function Bs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rl(e,r)}}function $u(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fi(e,t,r,n){var s=e.updateQueue;$t=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,c=u=a=null,l=i;do{var p=l.lane,v=l.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,_=l;switch(p=t,v=r,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(v,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,p=typeof y=="function"?y.call(v,f,p):y,p==null)break e;f=te({},f,p);break e;case 2:$t=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=v,a=f):c=c.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mr|=o,e.lanes=o,e.memoizedState=f}}function Au(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var us={},ft=Yt(us),Jn=Yt(us),Qn=Yt(us);function ur(e){if(e===us)throw Error(C(174));return e}function yl(e,t){switch(q(Qn,t),q(Jn,e),q(ft,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wo(t,e)}Q(ft),q(ft,t)}function Yr(){Q(ft),Q(Jn),Q(Qn)}function Kd(e){ur(Qn.current);var t=ur(ft.current),r=Wo(t,e.type);t!==r&&(q(Jn,e),q(ft,r))}function wl(e){Jn.current===e&&(Q(ft),Q(Jn))}var Z=Yt(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vo=[];function _l(){for(var e=0;e<vo.length;e++)vo[e]._workInProgressVersionPrimary=null;vo.length=0}var Vs=Ct.ReactCurrentDispatcher,yo=Ct.ReactCurrentBatchConfig,pr=0,ee=null,ae=null,ue=null,pi=!1,Rn=!1,Yn=0,Tm=0;function pe(){throw Error(C(321))}function xl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nt(e[r],t[r]))return!1;return!0}function kl(e,t,r,n,s,i){if(pr=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?$m:Am,e=r(n,s),Rn){i=0;do{if(Rn=!1,Yn=0,25<=i)throw Error(C(301));i+=1,ue=ae=null,t.updateQueue=null,Vs.current=Im,e=r(n,s)}while(Rn)}if(Vs.current=mi,t=ae!==null&&ae.next!==null,pr=0,ue=ae=ee=null,pi=!1,t)throw Error(C(300));return e}function Sl(){var e=Yn!==0;return Yn=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=e:ue=ue.next=e,ue}function Ke(){if(ae===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=ue===null?ee.memoizedState:ue.next;if(t!==null)ue=t,ae=e;else{if(e===null)throw Error(C(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ue===null?ee.memoizedState=ue=e:ue=ue.next=e}return ue}function Xn(e,t){return typeof t=="function"?t(e):t}function wo(e){var t=Ke(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((pr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=n):a=a.next=f,ee.lanes|=c,mr|=c}u=u.next}while(u!==null&&u!==i);a===null?o=n:a.next=l,nt(n,t.memoizedState)||(Ne=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ee.lanes|=i,mr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _o(e){var t=Ke(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);nt(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Gd(){}function Jd(e,t){var r=ee,n=Ke(),s=t(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ne=!0),n=n.queue,bl(Xd.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Zn(9,Yd.bind(null,r,n,s,t),void 0,null),ce===null)throw Error(C(349));pr&30||Qd(r,t,s)}return s}function Qd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yd(e,t,r,n){t.value=r,t.getSnapshot=n,Zd(t)&&ef(e)}function Xd(e,t,r){return r(function(){Zd(t)&&ef(e)})}function Zd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nt(e,r)}catch{return!0}}function ef(e){var t=bt(e,1);t!==null&&rt(t,e,1,-1)}function Iu(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},t.queue=e,e=e.dispatch=Om.bind(null,ee,e),[t.memoizedState,e]}function Zn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tf(){return Ke().memoizedState}function Ws(e,t,r,n){var s=lt();ee.flags|=e,s.memoizedState=Zn(1|t,r,void 0,n===void 0?null:n)}function Li(e,t,r,n){var s=Ke();n=n===void 0?null:n;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,n!==null&&xl(n,o.deps)){s.memoizedState=Zn(t,r,i,n);return}}ee.flags|=e,s.memoizedState=Zn(1|t,r,i,n)}function Uu(e,t){return Ws(8390656,8,e,t)}function bl(e,t){return Li(2048,8,e,t)}function rf(e,t){return Li(4,2,e,t)}function nf(e,t){return Li(4,4,e,t)}function sf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function of(e,t,r){return r=r!=null?r.concat([e]):null,Li(4,4,sf.bind(null,t,e),r)}function El(){}function af(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lf(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function uf(e,t,r){return pr&21?(nt(r,t)||(r=hd(),ee.lanes|=r,mr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=r)}function Rm(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=yo.transition;yo.transition={};try{e(!1),t()}finally{W=r,yo.transition=n}}function cf(){return Ke().memoizedState}function Lm(e,t,r){var n=qt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},df(e))ff(t,r);else if(r=Hd(e,t,r,n),r!==null){var s=ke();rt(r,e,n,s),hf(r,t,n)}}function Om(e,t,r){var n=qt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(df(e))ff(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,nt(l,o)){var a=t.interleaved;a===null?(s.next=s,gl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}r=Hd(e,t,s,n),r!==null&&(s=ke(),rt(r,e,n,s),hf(r,t,n))}}function df(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function ff(e,t){Rn=pi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rl(e,r)}}var mi={readContext:qe,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},$m={readContext:qe,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Uu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ws(4194308,4,sf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Lm.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Iu,useDebugValue:El,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Iu(!1),t=e[0];return e=Rm.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ee,s=lt();if(Y){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),ce===null)throw Error(C(349));pr&30||Qd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Uu(Xd.bind(null,n,i,e),[e]),n.flags|=2048,Zn(9,Yd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=lt(),t=ce.identifierPrefix;if(Y){var r=wt,n=yt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Tm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Am={readContext:qe,useCallback:af,useContext:qe,useEffect:bl,useImperativeHandle:of,useInsertionEffect:rf,useLayoutEffect:nf,useMemo:lf,useReducer:wo,useRef:tf,useState:function(){return wo(Xn)},useDebugValue:El,useDeferredValue:function(e){var t=Ke();return uf(t,ae.memoizedState,e)},useTransition:function(){var e=wo(Xn)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Jd,useId:cf,unstable_isNewReconciler:!1},Im={readContext:qe,useCallback:af,useContext:qe,useEffect:bl,useImperativeHandle:of,useInsertionEffect:rf,useLayoutEffect:nf,useMemo:lf,useReducer:_o,useRef:tf,useState:function(){return _o(Xn)},useDebugValue:El,useDeferredValue:function(e){var t=Ke();return ae===null?t.memoizedState=e:uf(t,ae.memoizedState,e)},useTransition:function(){var e=_o(Xn)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Jd,useId:cf,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function da(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oi={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ke(),s=qt(e),i=_t(n,s);i.payload=t,r!=null&&(i.callback=r),t=Wt(e,i,s),t!==null&&(rt(t,e,s,n),Bs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ke(),s=qt(e),i=_t(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wt(e,i,s),t!==null&&(rt(t,e,s,n),Bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ke(),n=qt(e),s=_t(r,n);s.tag=2,t!=null&&(s.callback=t),t=Wt(e,s,n),t!==null&&(rt(t,e,n,r),Bs(t,e,n))}};function Du(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hn(r,n)||!Hn(s,i):!0}function pf(e,t,r){var n=!1,s=Jt,i=t.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Re(t)?fr:ye.current,n=t.contextTypes,i=(n=n!=null)?Gr(e,s):Jt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function fa(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},vl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Re(t)?fr:ye.current,s.context=Gr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(da(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oi.enqueueReplaceState(s,s.state,null),fi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",n=t;do r+=cp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function xo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ha(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Um=typeof WeakMap=="function"?WeakMap:Map;function mf(e,t,r){r=_t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vi||(vi=!0,Sa=n),ha(e,t)},r}function gf(e,t,r){r=_t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ha(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ha(e,t),typeof n!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function zu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Um;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ym.bind(null,e,t,r),t.then(e,e))}function Mu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_t(-1,1),t.tag=2,Wt(r,t,1))),r.lanes|=1),e)}var Dm=Ct.ReactCurrentOwner,Ne=!1;function xe(e,t,r,n){t.child=e===null?Wd(t,null,r,n):Qr(t,e.child,r,n)}function Vu(e,t,r,n,s){r=r.render;var i=t.ref;return Hr(t,s),n=kl(e,t,r,n,i,s),r=Sl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(Y&&r&&cl(t),t.flags|=1,xe(e,t,n,s),t.child)}function Wu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ol(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,vf(e,t,i,n,s)):(e=Gs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hn,r(o,n)&&e.ref===t.ref)return Et(e,t,s)}return t.flags|=1,e=Kt(i,n),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Hn(i,n)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,Et(e,t,s)}return pa(e,t,r,n,s)}function yf(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(zr,Ae),Ae|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(zr,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(zr,Ae),Ae|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,q(zr,Ae),Ae|=n;return xe(e,t,s,r),t.child}function wf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pa(e,t,r,n,s){var i=Re(r)?fr:ye.current;return i=Gr(t,i),Hr(t,s),r=kl(e,t,r,n,i,s),n=Sl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(Y&&n&&cl(t),t.flags|=1,xe(e,t,r,s),t.child)}function Hu(e,t,r,n,s){if(Re(r)){var i=!0;ai(t)}else i=!1;if(Hr(t,s),t.stateNode===null)Hs(e,t),pf(t,r,n),fa(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Re(r)?fr:ye.current,u=Gr(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&Fu(t,o,n,u),$t=!1;var p=t.memoizedState;o.state=p,fi(t,n,o,s),a=t.memoizedState,l!==n||p!==a||Te.current||$t?(typeof c=="function"&&(da(t,r,c,n),a=t.memoizedState),(l=$t||Du(t,r,l,n,p,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,qd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ye(t.type,l),o.props=u,f=t.pendingProps,p=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=qe(a):(a=Re(r)?fr:ye.current,a=Gr(t,a));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==a)&&Fu(t,o,n,a),$t=!1,p=t.memoizedState,o.state=p,fi(t,n,o,s);var y=t.memoizedState;l!==f||p!==y||Te.current||$t?(typeof v=="function"&&(da(t,r,v,n),y=t.memoizedState),(u=$t||Du(t,r,u,n,p,y,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ma(e,t,r,n,i,s)}function ma(e,t,r,n,s,i){wf(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Tu(t,r,!1),Et(e,t,i);n=t.stateNode,Dm.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qr(t,e.child,null,i),t.child=Qr(t,null,l,i)):xe(e,t,l,i),t.memoizedState=n.state,s&&Tu(t,r,!0),t.child}function _f(e){var t=e.stateNode;t.pendingContext?Nu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nu(e,t.context,!1),yl(e,t.containerInfo)}function qu(e,t,r,n,s){return Jr(),fl(s),t.flags|=256,xe(e,t,r,n),t.child}var ga={dehydrated:null,treeContext:null,retryLane:0};function va(e){return{baseLanes:e,cachePool:null,transitions:null}}function xf(e,t,r){var n=t.pendingProps,s=Z.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(Z,s&1),e===null)return ua(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ii(o,n,0,null),e=dr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=va(r),t.memoizedState=ga,e):jl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Fm(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Kt(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kt(l,i):(i=dr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?va(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ga,n}return i=e.child,e=i.sibling,n=Kt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jl(e,t){return t=Ii({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,r,n){return n!==null&&fl(n),Qr(t,e.child,null,r),e=jl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fm(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=xo(Error(C(422))),Ps(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ii({mode:"visible",children:n.children},s,0,null),i=dr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qr(t,e.child,null,o),t.child.memoizedState=va(o),t.memoizedState=ga,i);if(!(t.mode&1))return Ps(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(C(419)),n=xo(i,n,void 0),Ps(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ne||l){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(e,s),rt(n,e,s,-1))}return Ll(),n=xo(Error(C(421))),Ps(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Xm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=Vt(s.nextSibling),Ue=t,Y=!0,et=null,e!==null&&(Me[Be++]=yt,Me[Be++]=wt,Me[Be++]=hr,yt=e.id,wt=e.overflow,hr=t),t=jl(t,n.children),t.flags|=4096,t)}function Ku(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ca(e.return,t,r)}function ko(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function kf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(xe(e,t,n.children,r),n=Z.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ku(e,r,t);else if(e.tag===19)Ku(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(q(Z,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&hi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ko(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ko(t,!0,r,null,i);break;case"together":ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Kt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zm(e,t,r){switch(t.tag){case 3:_f(t),Jr();break;case 5:Kd(t);break;case 1:Re(t.type)&&ai(t);break;case 4:yl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;q(ci,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(q(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?xf(e,t,r):(q(Z,Z.current&1),e=Et(e,t,r),e!==null?e.sibling:null);q(Z,Z.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Z,Z.current),n)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,r)}return Et(e,t,r)}var Sf,ya,bf,Ef;Sf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ya=function(){};bf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ur(ft.current);var i=null;switch(r){case"input":s=zo(e,s),n=zo(e,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=Vo(e,s),n=Vo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ii)}Ho(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dn.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&J("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ef=function(e,t,r,n){r!==n&&(t.flags|=4)};function gn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Mm(e,t,r){var n=t.pendingProps;switch(dl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return Re(t.type)&&oi(),me(t),null;case 3:return n=t.stateNode,Yr(),Q(Te),Q(ye),_l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(ja(et),et=null))),ya(e,t),me(t),null;case 5:wl(t);var s=ur(Qn.current);if(r=t.type,e!==null&&t.stateNode!=null)bf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return me(t),null}if(e=ur(ft.current),js(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ct]=t,n[Gn]=i,e=(t.mode&1)!==0,r){case"dialog":J("cancel",n),J("close",n);break;case"iframe":case"object":case"embed":J("load",n);break;case"video":case"audio":for(s=0;s<bn.length;s++)J(bn[s],n);break;case"source":J("error",n);break;case"img":case"image":case"link":J("error",n),J("load",n);break;case"details":J("toggle",n);break;case"input":ru(n,i),J("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},J("invalid",n);break;case"textarea":su(n,i),J("invalid",n)}Ho(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,l,e),s=["children",""+l]):Dn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&J("scroll",n)}switch(r){case"input":vs(n),nu(n,i,!0);break;case"textarea":vs(n),iu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ii)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ct]=t,e[Gn]=n,Sf(e,t,!1,!1),t.stateNode=e;e:{switch(o=qo(r,n),r){case"dialog":J("cancel",e),J("close",e),s=n;break;case"iframe":case"object":case"embed":J("load",e),s=n;break;case"video":case"audio":for(s=0;s<bn.length;s++)J(bn[s],e);s=n;break;case"source":J("error",e),s=n;break;case"img":case"image":case"link":J("error",e),J("load",e),s=n;break;case"details":J("toggle",e),s=n;break;case"input":ru(e,n),s=zo(e,n),J("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),J("invalid",e);break;case"textarea":su(e,n),s=Vo(e,n),J("invalid",e);break;default:s=n}Ho(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?td(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Zc(e,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Fn(e,a):typeof a=="number"&&Fn(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dn.hasOwnProperty(i)?a!=null&&i==="onScroll"&&J("scroll",e):a!=null&&Qa(e,i,a,o))}switch(r){case"input":vs(e),nu(e,n,!1);break;case"textarea":vs(e),iu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Mr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Mr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ii)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)Ef(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=ur(Qn.current),ur(ft.current),js(t)){if(n=t.stateNode,r=t.memoizedProps,n[ct]=t,(i=n.nodeValue!==r)&&(e=Ue,e!==null))switch(e.tag){case 3:Es(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ct]=t,t.stateNode=n}return me(t),null;case 13:if(Q(Z),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ie!==null&&t.mode&1&&!(t.flags&128))Bd(),Jr(),t.flags|=98560,i=!1;else if(i=js(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ct]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),i=!1}else et!==null&&(ja(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?le===0&&(le=3):Ll())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return Yr(),ya(e,t),e===null&&qn(t.stateNode.containerInfo),me(t),null;case 10:return ml(t.type._context),me(t),null;case 17:return Re(t.type)&&oi(),me(t),null;case 19:if(Q(Z),i=t.memoizedState,i===null)return me(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)gn(i,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hi(e),o!==null){for(t.flags|=128,gn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return q(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>Zr&&(t.flags|=128,n=!0,gn(i,!1),t.lanes=4194304)}else{if(!n)if(e=hi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return me(t),null}else 2*ne()-i.renderingStartTime>Zr&&r!==1073741824&&(t.flags|=128,n=!0,gn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,r=Z.current,q(Z,n?r&1|2:r&1),t):(me(t),null);case 22:case 23:return Rl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ae&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Bm(e,t){switch(dl(t),t.tag){case 1:return Re(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yr(),Q(Te),Q(ye),_l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wl(t),null;case 13:if(Q(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Z),null;case 4:return Yr(),null;case 10:return ml(t.type._context),null;case 22:case 23:return Rl(),null;case 24:return null;default:return null}}var Ns=!1,ve=!1,Vm=typeof WeakSet=="function"?WeakSet:Set,L=null;function Fr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function wa(e,t,r){try{r()}catch(n){re(e,t,n)}}var Gu=!1;function Wm(e,t){if(ra=ri,e=Nd(),ul(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(a=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===e)break t;if(p===r&&++u===s&&(l=o),p===i&&++c===n&&(a=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(na={focusedElem:e,selectionRange:r},ri=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,S=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:Ye(t.type,_),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){re(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return y=Gu,Gu=!1,y}function Ln(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&wa(t,r,i)}s=s.next}while(s!==n)}}function $i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _a(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jf(e){var t=e.alternate;t!==null&&(e.alternate=null,jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[Gn],delete t[oa],delete t[jm],delete t[Cm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cf(e){return e.tag===5||e.tag===3||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ii));else if(n!==4&&(e=e.child,e!==null))for(xa(e,t,r),e=e.sibling;e!==null;)xa(e,t,r),e=e.sibling}function ka(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ka(e,t,r),e=e.sibling;e!==null;)ka(e,t,r),e=e.sibling}var de=null,Xe=!1;function Nt(e,t,r){for(r=r.child;r!==null;)Pf(e,t,r),r=r.sibling}function Pf(e,t,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ji,r)}catch{}switch(r.tag){case 5:ve||Fr(r,t);case 6:var n=de,s=Xe;de=null,Nt(e,t,r),de=n,Xe=s,de!==null&&(Xe?(e=de,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Xe?(e=de,r=r.stateNode,e.nodeType===8?mo(e.parentNode,r):e.nodeType===1&&mo(e,r),Vn(e)):mo(de,r.stateNode));break;case 4:n=de,s=Xe,de=r.stateNode.containerInfo,Xe=!0,Nt(e,t,r),de=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wa(r,t,o),s=s.next}while(s!==n)}Nt(e,t,r);break;case 1:if(!ve&&(Fr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){re(r,t,l)}Nt(e,t,r);break;case 21:Nt(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,Nt(e,t,r),ve=n):Nt(e,t,r);break;default:Nt(e,t,r)}}function Qu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vm),t.forEach(function(n){var s=Zm.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Je(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,Xe=!1;break e;case 3:de=l.stateNode.containerInfo,Xe=!0;break e;case 4:de=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(de===null)throw Error(C(160));Pf(i,o,s),de=null,Xe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nf(t,e),t=t.sibling}function Nf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),at(e),n&4){try{Ln(3,e,e.return),$i(3,e)}catch(_){re(e,e.return,_)}try{Ln(5,e,e.return)}catch(_){re(e,e.return,_)}}break;case 1:Je(t,e),at(e),n&512&&r!==null&&Fr(r,r.return);break;case 5:if(Je(t,e),at(e),n&512&&r!==null&&Fr(r,r.return),e.flags&32){var s=e.stateNode;try{Fn(s,"")}catch(_){re(e,e.return,_)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Qc(s,i),qo(l,o);var u=qo(l,i);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?td(s,f):c==="dangerouslySetInnerHTML"?Zc(s,f):c==="children"?Fn(s,f):Qa(s,c,f,u)}switch(l){case"input":Mo(s,i);break;case"textarea":Yc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Mr(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Mr(s,!!i.multiple,i.defaultValue,!0):Mr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gn]=i}catch(_){re(e,e.return,_)}}break;case 6:if(Je(t,e),at(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){re(e,e.return,_)}}break;case 3:if(Je(t,e),at(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vn(t.containerInfo)}catch(_){re(e,e.return,_)}break;case 4:Je(t,e),at(e);break;case 13:Je(t,e),at(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Nl=ne())),n&4&&Qu(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(u=ve)||c,Je(t,e),ve=u):Je(t,e),at(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(f=L=c;L!==null;){switch(p=L,v=p.child,p.tag){case 0:case 11:case 14:case 15:Ln(4,p,p.return);break;case 1:Fr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){re(n,r,_)}}break;case 5:Fr(p,p.return);break;case 22:if(p.memoizedState!==null){Xu(f);continue}}v!==null?(v.return=p,L=v):Xu(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ed("display",o))}catch(_){re(e,e.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){re(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Je(t,e),at(e),n&4&&Qu(e);break;case 21:break;default:Je(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Cf(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Fn(s,""),n.flags&=-33);var i=Ju(e);ka(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ju(e);xa(e,l,o);break;default:throw Error(C(161))}}catch(a){re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hm(e,t,r){L=e,Tf(e)}function Tf(e,t,r){for(var n=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ns;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ve;l=Ns;var u=ve;if(Ns=o,(ve=a)&&!u)for(L=s;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?Zu(s):a!==null?(a.return=o,L=a):Zu(s);for(;i!==null;)L=i,Tf(i),i=i.sibling;L=s,Ns=l,ve=u}Yu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):Yu(e)}}function Yu(e){for(;L!==null;){var t=L;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||$i(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ye(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Au(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Au(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ve||t.flags&512&&_a(t)}catch(p){re(t,t.return,p)}}if(t===e){L=null;break}if(r=t.sibling,r!==null){r.return=t.return,L=r;break}L=t.return}}function Xu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var r=t.sibling;if(r!==null){r.return=t.return,L=r;break}L=t.return}}function Zu(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$i(4,t)}catch(a){re(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(a){re(t,s,a)}}var i=t.return;try{_a(t)}catch(a){re(t,i,a)}break;case 5:var o=t.return;try{_a(t)}catch(a){re(t,o,a)}}}catch(a){re(t,t.return,a)}if(t===e){L=null;break}var l=t.sibling;if(l!==null){l.return=t.return,L=l;break}L=t.return}}var qm=Math.ceil,gi=Ct.ReactCurrentDispatcher,Cl=Ct.ReactCurrentOwner,We=Ct.ReactCurrentBatchConfig,B=0,ce=null,se=null,fe=0,Ae=0,zr=Yt(0),le=0,es=null,mr=0,Ai=0,Pl=0,On=null,Ce=null,Nl=0,Zr=1/0,mt=null,vi=!1,Sa=null,Ht=null,Ts=!1,Ft=null,yi=0,$n=0,ba=null,qs=-1,Ks=0;function ke(){return B&6?ne():qs!==-1?qs:qs=ne()}function qt(e){return e.mode&1?B&2&&fe!==0?fe&-fe:Nm.transition!==null?(Ks===0&&(Ks=hd()),Ks):(e=W,e!==0||(e=window.event,e=e===void 0?16:_d(e.type)),e):1}function rt(e,t,r,n){if(50<$n)throw $n=0,ba=null,Error(C(185));os(e,r,n),(!(B&2)||e!==ce)&&(e===ce&&(!(B&2)&&(Ai|=r),le===4&&It(e,fe)),Le(e,n),r===1&&B===0&&!(t.mode&1)&&(Zr=ne()+500,Ri&&Xt()))}function Le(e,t){var r=e.callbackNode;Np(e,t);var n=ti(e,e===ce?fe:0);if(n===0)r!==null&&lu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lu(r),t===1)e.tag===0?Pm(ec.bind(null,e)):Fd(ec.bind(null,e)),bm(function(){!(B&6)&&Xt()}),r=null;else{switch(pd(n)){case 1:r=tl;break;case 4:r=dd;break;case 16:r=ei;break;case 536870912:r=fd;break;default:r=ei}r=Df(r,Rf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rf(e,t){if(qs=-1,Ks=0,B&6)throw Error(C(327));var r=e.callbackNode;if(qr()&&e.callbackNode!==r)return null;var n=ti(e,e===ce?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wi(e,n);else{t=n;var s=B;B|=2;var i=Of();(ce!==e||fe!==t)&&(mt=null,Zr=ne()+500,cr(e,t));do try{Jm();break}catch(l){Lf(e,l)}while(!0);pl(),gi.current=i,B=s,se!==null?t=0:(ce=null,fe=0,t=le)}if(t!==0){if(t===2&&(s=Yo(e),s!==0&&(n=s,t=Ea(e,s))),t===1)throw r=es,cr(e,0),It(e,n),Le(e,ne()),r;if(t===6)It(e,n);else{if(s=e.current.alternate,!(n&30)&&!Km(s)&&(t=wi(e,n),t===2&&(i=Yo(e),i!==0&&(n=i,t=Ea(e,i))),t===1))throw r=es,cr(e,0),It(e,n),Le(e,ne()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:sr(e,Ce,mt);break;case 3:if(It(e,n),(n&130023424)===n&&(t=Nl+500-ne(),10<t)){if(ti(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ia(sr.bind(null,e,Ce,mt),t);break}sr(e,Ce,mt);break;case 4:if(It(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qm(n/1960))-n,10<n){e.timeoutHandle=ia(sr.bind(null,e,Ce,mt),n);break}sr(e,Ce,mt);break;case 5:sr(e,Ce,mt);break;default:throw Error(C(329))}}}return Le(e,ne()),e.callbackNode===r?Rf.bind(null,e):null}function Ea(e,t){var r=On;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=wi(e,t),e!==2&&(t=Ce,Ce=r,t!==null&&ja(t)),e}function ja(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function Km(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Pl,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tt(t),n=1<<r;e[r]=-1,t&=~n}}function ec(e){if(B&6)throw Error(C(327));qr();var t=ti(e,0);if(!(t&1))return Le(e,ne()),null;var r=wi(e,t);if(e.tag!==0&&r===2){var n=Yo(e);n!==0&&(t=n,r=Ea(e,n))}if(r===1)throw r=es,cr(e,0),It(e,t),Le(e,ne()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sr(e,Ce,mt),Le(e,ne()),null}function Tl(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(Zr=ne()+500,Ri&&Xt())}}function gr(e){Ft!==null&&Ft.tag===0&&!(B&6)&&qr();var t=B;B|=1;var r=We.transition,n=W;try{if(We.transition=null,W=1,e)return e()}finally{W=n,We.transition=r,B=t,!(B&6)&&Xt()}}function Rl(){Ae=zr.current,Q(zr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Sm(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(dl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oi();break;case 3:Yr(),Q(Te),Q(ye),_l();break;case 5:wl(n);break;case 4:Yr();break;case 13:Q(Z);break;case 19:Q(Z);break;case 10:ml(n.type._context);break;case 22:case 23:Rl()}r=r.return}if(ce=e,se=e=Kt(e.current,null),fe=Ae=t,le=0,es=null,Pl=Ai=mr=0,Ce=On=null,lr!==null){for(t=0;t<lr.length;t++)if(r=lr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}lr=null}return e}function Lf(e,t){do{var r=se;try{if(pl(),Vs.current=mi,pi){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pi=!1}if(pr=0,ue=ae=ee=null,Rn=!1,Yn=0,Cl.current=null,r===null||r.return===null){le=1,es=t,se=null;break}e:{var i=e,o=r.return,l=r,a=t;if(t=fe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Mu(o);if(v!==null){v.flags&=-257,Bu(v,o,l,i,t),v.mode&1&&zu(i,u,t),t=v,a=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(a),t.updateQueue=_}else y.add(a);break e}else{if(!(t&1)){zu(i,u,t),Ll();break e}a=Error(C(426))}}else if(Y&&l.mode&1){var S=Mu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Bu(S,o,l,i,t),fl(Xr(a,l));break e}}i=a=Xr(a,l),le!==4&&(le=2),On===null?On=[i]:On.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=mf(i,a,t);$u(i,g);break e;case 1:l=a;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ht===null||!Ht.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=gf(i,l,t);$u(i,w);break e}}i=i.return}while(i!==null)}Af(r)}catch(E){t=E,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function Of(){var e=gi.current;return gi.current=mi,e===null?mi:e}function Ll(){(le===0||le===3||le===2)&&(le=4),ce===null||!(mr&268435455)&&!(Ai&268435455)||It(ce,fe)}function wi(e,t){var r=B;B|=2;var n=Of();(ce!==e||fe!==t)&&(mt=null,cr(e,t));do try{Gm();break}catch(s){Lf(e,s)}while(!0);if(pl(),B=r,gi.current=n,se!==null)throw Error(C(261));return ce=null,fe=0,le}function Gm(){for(;se!==null;)$f(se)}function Jm(){for(;se!==null&&!_p();)$f(se)}function $f(e){var t=Uf(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?Af(e):se=t,Cl.current=null}function Af(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Bm(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,se=null;return}}else if(r=Mm(r,t,Ae),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);le===0&&(le=5)}function sr(e,t,r){var n=W,s=We.transition;try{We.transition=null,W=1,Qm(e,t,r,n)}finally{We.transition=s,W=n}return null}function Qm(e,t,r,n){do qr();while(Ft!==null);if(B&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Tp(e,i),e===ce&&(se=ce=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ts||(Ts=!0,Df(ei,function(){return qr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=W;W=1;var l=B;B|=4,Cl.current=null,Wm(e,r),Nf(r,e),gm(na),ri=!!ra,na=ra=null,e.current=r,Hm(r),xp(),B=l,W=o,We.transition=i}else e.current=r;if(Ts&&(Ts=!1,Ft=e,yi=s),i=e.pendingLanes,i===0&&(Ht=null),bp(r.stateNode),Le(e,ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(vi)throw vi=!1,e=Sa,Sa=null,e;return yi&1&&e.tag!==0&&qr(),i=e.pendingLanes,i&1?e===ba?$n++:($n=0,ba=e):$n=0,Xt(),null}function qr(){if(Ft!==null){var e=pd(yi),t=We.transition,r=W;try{if(We.transition=null,W=16>e?16:e,Ft===null)var n=!1;else{if(e=Ft,Ft=null,yi=0,B&6)throw Error(C(331));var s=B;for(B|=4,L=e.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:Ln(8,c,i)}var f=c.child;if(f!==null)f.return=c,L=f;else for(;L!==null;){c=L;var p=c.sibling,v=c.return;if(jf(c),c===u){L=null;break}if(p!==null){p.return=v,L=p;break}L=v}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ln(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,L=g;break e}L=i.return}}var m=e.current;for(L=m;L!==null;){o=L;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,L=h;else e:for(o=m;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$i(9,l)}}catch(E){re(l,l.return,E)}if(l===o){L=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,L=w;break e}L=l.return}}if(B=s,Xt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ji,e)}catch{}n=!0}return n}finally{W=r,We.transition=t}}return!1}function tc(e,t,r){t=Xr(r,t),t=mf(e,t,1),e=Wt(e,t,1),t=ke(),e!==null&&(os(e,1,t),Le(e,t))}function re(e,t,r){if(e.tag===3)tc(e,e,r);else for(;t!==null;){if(t.tag===3){tc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ht===null||!Ht.has(n))){e=Xr(r,e),e=gf(t,e,1),t=Wt(t,e,1),e=ke(),t!==null&&(os(t,1,e),Le(t,e));break}}t=t.return}}function Ym(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&r,ce===e&&(fe&r)===r&&(le===4||le===3&&(fe&130023424)===fe&&500>ne()-Nl?cr(e,0):Pl|=r),Le(e,t)}function If(e,t){t===0&&(e.mode&1?(t=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):t=1);var r=ke();e=bt(e,t),e!==null&&(os(e,t,r),Le(e,r))}function Xm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),If(e,r)}function Zm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),If(e,r)}var Uf;Uf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ne=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ne=!1,zm(e,t,r);Ne=!!(e.flags&131072)}else Ne=!1,Y&&t.flags&1048576&&zd(t,ui,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hs(e,t),e=t.pendingProps;var s=Gr(t,ye.current);Hr(t,r),s=kl(null,t,n,e,s,r);var i=Sl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(n)?(i=!0,ai(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vl(t),s.updater=Oi,t.stateNode=s,s._reactInternals=t,fa(t,n,e,r),t=ma(null,t,n,!0,i,r)):(t.tag=0,Y&&i&&cl(t),xe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=tg(n),e=Ye(n,e),s){case 0:t=pa(null,t,n,e,r);break e;case 1:t=Hu(null,t,n,e,r);break e;case 11:t=Vu(null,t,n,e,r);break e;case 14:t=Wu(null,t,n,Ye(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),pa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Hu(e,t,n,s,r);case 3:e:{if(_f(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,qd(e,t),fi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xr(Error(C(423)),t),t=qu(e,t,n,r,s);break e}else if(n!==s){s=Xr(Error(C(424)),t),t=qu(e,t,n,r,s);break e}else for(Ie=Vt(t.stateNode.containerInfo.firstChild),Ue=t,Y=!0,et=null,r=Wd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),n===s){t=Et(e,t,r);break e}xe(e,t,n,r)}t=t.child}return t;case 5:return Kd(t),e===null&&ua(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,sa(n,s)?o=null:i!==null&&sa(n,i)&&(t.flags|=32),wf(e,t),xe(e,t,o,r),t.child;case 6:return e===null&&ua(t),null;case 13:return xf(e,t,r);case 4:return yl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qr(t,null,n,r):xe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Vu(e,t,n,s,r);case 7:return xe(e,t,t.pendingProps,r),t.child;case 8:return xe(e,t,t.pendingProps.children,r),t.child;case 12:return xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,q(ci,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Te.current){t=Et(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=_t(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),ca(i.return,r,t),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ca(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Hr(t,r),s=qe(s),n=n(s),t.flags|=1,xe(e,t,n,r),t.child;case 14:return n=t.type,s=Ye(n,t.pendingProps),s=Ye(n.type,s),Wu(e,t,n,s,r);case 15:return vf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Hs(e,t),t.tag=1,Re(n)?(e=!0,ai(t)):e=!1,Hr(t,r),pf(t,n,s),fa(t,n,s,r),ma(null,t,n,!0,e,r);case 19:return kf(e,t,r);case 22:return yf(e,t,r)}throw Error(C(156,t.tag))};function Df(e,t){return cd(e,t)}function eg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,r,n){return new eg(e,t,r,n)}function Ol(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tg(e){if(typeof e=="function")return Ol(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xa)return 11;if(e===Za)return 14}return 2}function Kt(e,t){var r=e.alternate;return r===null?(r=Ve(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gs(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ol(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Tr:return dr(r.children,s,i,t);case Ya:o=8,s|=8;break;case Io:return e=Ve(12,r,t,s|2),e.elementType=Io,e.lanes=i,e;case Uo:return e=Ve(13,r,t,s),e.elementType=Uo,e.lanes=i,e;case Do:return e=Ve(19,r,t,s),e.elementType=Do,e.lanes=i,e;case Kc:return Ii(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hc:o=10;break e;case qc:o=9;break e;case Xa:o=11;break e;case Za:o=14;break e;case Ot:o=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ve(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function dr(e,t,r,n){return e=Ve(7,e,n,t),e.lanes=r,e}function Ii(e,t,r,n){return e=Ve(22,e,n,t),e.elementType=Kc,e.lanes=r,e.stateNode={isHidden:!1},e}function So(e,t,r){return e=Ve(6,e,null,t),e.lanes=r,e}function bo(e,t,r){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $l(e,t,r,n,s,i,o,l,a){return e=new rg(e,t,r,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vl(i),e}function ng(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ff(e){if(!e)return Jt;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Re(r))return Dd(e,r,t)}return t}function zf(e,t,r,n,s,i,o,l,a){return e=$l(r,n,!0,e,s,i,o,l,a),e.context=Ff(null),r=e.current,n=ke(),s=qt(r),i=_t(n,s),i.callback=t??null,Wt(r,i,s),e.current.lanes=s,os(e,s,n),Le(e,n),e}function Ui(e,t,r,n){var s=t.current,i=ke(),o=qt(s);return r=Ff(r),t.context===null?t.context=r:t.pendingContext=r,t=_t(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wt(s,t,o),e!==null&&(rt(e,s,o,i),Bs(e,s,o)),o}function _i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Al(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function sg(){return null}var Mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Il(e){this._internalRoot=e}Di.prototype.render=Il.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Ui(e,t,null,null)};Di.prototype.unmount=Il.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gr(function(){Ui(null,e,null,null)}),t[St]=null}};function Di(e){this._internalRoot=e}Di.prototype.unstable_scheduleHydration=function(e){if(e){var t=vd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<At.length&&t!==0&&t<At[r].priority;r++);At.splice(r,0,e),r===0&&wd(e)}};function Ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function ig(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=_i(o);i.call(u)}}var o=zf(t,n,e,0,null,!1,!1,"",nc);return e._reactRootContainer=o,e[St]=o.current,qn(e.nodeType===8?e.parentNode:e),gr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=_i(a);l.call(u)}}var a=$l(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=a,e[St]=a.current,qn(e.nodeType===8?e.parentNode:e),gr(function(){Ui(t,a,r,n)}),a}function zi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=_i(o);l.call(a)}}Ui(t,o,e,s)}else o=ig(r,t,e,s,n);return _i(o)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(rl(t,r|1),Le(t,ne()),!(B&6)&&(Zr=ne()+500,Xt()))}break;case 13:gr(function(){var n=bt(e,1);if(n!==null){var s=ke();rt(n,e,1,s)}}),Al(e,1)}};nl=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var r=ke();rt(t,e,134217728,r)}Al(e,134217728)}};gd=function(e){if(e.tag===13){var t=qt(e),r=bt(e,t);if(r!==null){var n=ke();rt(r,e,t,n)}Al(e,t)}};vd=function(){return W};yd=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};Go=function(e,t,r){switch(t){case"input":if(Mo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ti(n);if(!s)throw Error(C(90));Jc(n),Mo(n,s)}}}break;case"textarea":Yc(e,r);break;case"select":t=r.value,t!=null&&Mr(e,!!r.multiple,t,!1)}};sd=Tl;id=gr;var og={usingClientEntryPoint:!1,Events:[ls,$r,Ti,rd,nd,Tl]},vn={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ag={bundleType:vn.bundleType,version:vn.version,rendererPackageName:vn.rendererPackageName,rendererConfig:vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:vn.findFiberByHostInstance||sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{ji=Rs.inject(ag),dt=Rs}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;Fe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ul(t))throw Error(C(200));return ng(e,t,null,r)};Fe.createRoot=function(e,t){if(!Ul(e))throw Error(C(299));var r=!1,n="",s=Mf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$l(e,1,!1,null,null,r,!1,n,s),e[St]=t.current,qn(e.nodeType===8?e.parentNode:e),new Il(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return gr(e)};Fe.hydrate=function(e,t,r){if(!Fi(t))throw Error(C(200));return zi(null,e,t,!0,r)};Fe.hydrateRoot=function(e,t,r){if(!Ul(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Mf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zf(t,null,e,1,r??null,s,!1,i,o),e[St]=t.current,qn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Di(t)};Fe.render=function(e,t,r){if(!Fi(t))throw Error(C(200));return zi(null,e,t,!1,r)};Fe.unmountComponentAtNode=function(e){if(!Fi(e))throw Error(C(40));return e._reactRootContainer?(gr(function(){zi(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};Fe.unstable_batchedUpdates=Tl;Fe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fi(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return zi(e,t,r,!1,n)};Fe.version="18.3.1-next-f1338f8080-20240426";function Bf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bf)}catch(e){console.error(e)}}Bf(),Mc.exports=Fe;var lg=Mc.exports,Vf,sc=lg;Vf=sc.createRoot,sc.hydrateRoot;const ug="modulepreload",cg=function(e){return"/"+e},ic={},Oe=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(a=>{if(a=cg(a),a in ic)return;ic[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ug,u||(f.as="script"),f.crossOrigin="",f.href=a,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oc="popstate";function dg(e={}){function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Ca("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ts(s)}return hg(t,r,null,e)}function X(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ge(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fg(){return Math.random().toString(36).substring(2,10)}function ac(e,t){return{usr:e.state,key:e.key,idx:t}}function Ca(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sn(t):t,state:r,key:t&&t.key||n||fg()}}function ts({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function hg(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",a=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function f(){l="POP";let S=c(),g=S==null?null:S-u;u=S,a&&a({action:l,location:_.location,delta:g})}function p(S,g){l="PUSH";let m=Ca(_.location,S,g);u=c()+1;let h=ac(m,u),w=_.createHref(m);try{o.pushState(h,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(w)}i&&a&&a({action:l,location:_.location,delta:1})}function v(S,g){l="REPLACE";let m=Ca(_.location,S,g);u=c();let h=ac(m,u),w=_.createHref(m);o.replaceState(h,"",w),i&&a&&a({action:l,location:_.location,delta:0})}function y(S){return pg(S)}let _={get action(){return l},get location(){return e(s,o)},listen(S){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(oc,f),a=S,()=>{s.removeEventListener(oc,f),a=null}},createHref(S){return t(s,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:v,go(S){return o.go(S)}};return _}function pg(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),X(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ts(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Wf(e,t,r="/"){return mg(e,t,r,!1)}function mg(e,t,r,n){let s=typeof t=="string"?sn(t):t,i=jt(s.pathname||"/",r);if(i==null)return null;let o=Hf(e);gg(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=Cg(i);l=Eg(o[a],u,n)}return l}function Hf(e,t=[],r=[],n="",s=!1){let i=(o,l,a=s,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&a)return;X(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let f=xt([n,c.relativePath]),p=r.concat(c);o.children&&o.children.length>0&&(X(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Hf(o.children,t,p,f,a)),!(o.path==null&&!o.index)&&t.push({path:f,score:Sg(f,o.index),routesMeta:p})};return e.forEach((o,l)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,l);else for(let u of qf(o.path))i(o,l,!0,u)}),t}function qf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=qf(n.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function gg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var vg=/^:[\w-]+$/,yg=3,wg=2,_g=1,xg=10,kg=-2,lc=e=>e==="*";function Sg(e,t){let r=e.split("/"),n=r.length;return r.some(lc)&&(n+=kg),t&&(n+=wg),r.filter(s=>!lc(s)).reduce((s,i)=>s+(vg.test(i)?yg:i===""?_g:xg),n)}function bg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Eg(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let a=n[l],u=l===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=xi({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),p=a.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=xi({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:xt([i,f.pathname]),pathnameBase:Rg(xt([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=xt([i,f.pathnameBase]))}return o}function xi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:f},p)=>{if(c==="*"){let y=l[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[p];return f&&!v?u[c]=void 0:u[c]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function jg(e,t=!1,r=!0){Ge(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(n.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Cg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ge(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Pg(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?sn(e):e;return{pathname:r?r.startsWith("/")?r:Ng(r,t):t,search:Lg(n),hash:Og(s)}}function Ng(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Eo(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dl(e){let t=Tg(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Fl(e,t,r,n=!1){let s;typeof e=="string"?s=sn(e):(s={...e},X(!s.pathname||!s.pathname.includes("?"),Eo("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),Eo("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),Eo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let a=Pg(s,l),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}var xt=e=>e.join("/").replace(/\/\/+/g,"/"),Rg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Og=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $g(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Kf=["POST","PUT","PATCH","DELETE"];new Set(Kf);var Ag=["GET",...Kf];new Set(Ag);var on=x.createContext(null);on.displayName="DataRouter";var Mi=x.createContext(null);Mi.displayName="DataRouterState";x.createContext(!1);var Gf=x.createContext({isTransitioning:!1});Gf.displayName="ViewTransition";var Ig=x.createContext(new Map);Ig.displayName="Fetchers";var Ug=x.createContext(null);Ug.displayName="Await";var it=x.createContext(null);it.displayName="Navigation";var cs=x.createContext(null);cs.displayName="Location";var ht=x.createContext({outlet:null,matches:[],isDataRoute:!1});ht.displayName="Route";var zl=x.createContext(null);zl.displayName="RouteError";function Dg(e,{relative:t}={}){X(an(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(it),{hash:s,pathname:i,search:o}=ds(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:xt([r,i])),n.createHref({pathname:l,search:o,hash:s})}function an(){return x.useContext(cs)!=null}function Pt(){return X(an(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(cs).location}var Jf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qf(e){x.useContext(it).static||x.useLayoutEffect(e)}function wr(){let{isDataRoute:e}=x.useContext(ht);return e?Yg():Fg()}function Fg(){X(an(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(on),{basename:t,navigator:r}=x.useContext(it),{matches:n}=x.useContext(ht),{pathname:s}=Pt(),i=JSON.stringify(Dl(n)),o=x.useRef(!1);return Qf(()=>{o.current=!0}),x.useCallback((a,u={})=>{if(Ge(o.current,Jf),!o.current)return;if(typeof a=="number"){r.go(a);return}let c=Fl(a,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:xt([t,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[t,r,i,s,e])}x.createContext(null);function ds(e,{relative:t}={}){let{matches:r}=x.useContext(ht),{pathname:n}=Pt(),s=JSON.stringify(Dl(r));return x.useMemo(()=>Fl(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function zg(e,t){return Yf(e,t)}function Yf(e,t,r,n,s){var m;X(an(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(it),{matches:o}=x.useContext(ht),l=o[o.length-1],a=l?l.params:{},u=l?l.pathname:"/",c=l?l.pathnameBase:"/",f=l&&l.route;{let h=f&&f.path||"";Xf(u,!f||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let p=Pt(),v;if(t){let h=typeof t=="string"?sn(t):t;X(c==="/"||((m=h.pathname)==null?void 0:m.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${h.pathname}" was given in the \`location\` prop.`),v=h}else v=p;let y=v.pathname||"/",_=y;if(c!=="/"){let h=c.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(h.length).join("/")}let S=Wf(e,{pathname:_});Ge(f||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ge(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Hg(S&&S.map(h=>Object.assign({},h,{params:Object.assign({},a,h.params),pathname:xt([c,i.encodeLocation?i.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:xt([c,i.encodeLocation?i.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),o,r,n,s);return t&&g?x.createElement(cs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},g):g}function Mg(){let e=Qg(),t=$g(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,o)}var Bg=x.createElement(Mg,null),Vg=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(ht.Provider,{value:this.props.routeContext},x.createElement(zl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wg({routeContext:e,match:t,children:r}){let n=x.useContext(on);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ht.Provider,{value:e},r)}function Hg(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);X(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,a=-1;if(r)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:f,errors:p}=r,v=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||v){l=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,f)=>{let p,v=!1,y=null,_=null;r&&(p=o&&c.route.id?o[c.route.id]:void 0,y=c.route.errorElement||Bg,l&&(a<0&&f===0?(Xf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):a===f&&(v=!0,_=c.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,f+1)),g=()=>{let m;return p?m=y:v?m=_:c.route.Component?m=x.createElement(c.route.Component,null):c.route.element?m=c.route.element:m=u,x.createElement(Wg,{match:c,routeContext:{outlet:u,matches:S,isDataRoute:r!=null},children:m})};return r&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?x.createElement(Vg,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):g()},null)}function Ml(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qg(e){let t=x.useContext(on);return X(t,Ml(e)),t}function Kg(e){let t=x.useContext(Mi);return X(t,Ml(e)),t}function Gg(e){let t=x.useContext(ht);return X(t,Ml(e)),t}function Bl(e){let t=Gg(e),r=t.matches[t.matches.length-1];return X(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Jg(){return Bl("useRouteId")}function Qg(){var n;let e=x.useContext(zl),t=Kg("useRouteError"),r=Bl("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Yg(){let{router:e}=qg("useNavigate"),t=Bl("useNavigate"),r=x.useRef(!1);return Qf(()=>{r.current=!0}),x.useCallback(async(s,i={})=>{Ge(r.current,Jf),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var uc={};function Xf(e,t,r){!t&&!uc[e]&&(uc[e]=!0,Ge(!1,r))}x.memo(Xg);function Xg({routes:e,future:t,state:r,unstable_onError:n}){return Yf(e,void 0,r,n,t)}function rs({to:e,replace:t,state:r,relative:n}){X(an(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(it);Ge(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(ht),{pathname:o}=Pt(),l=wr(),a=Fl(e,Dl(i),o,n==="path"),u=JSON.stringify(a);return x.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function ge(e){X(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zg({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){X(!an(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=sn(r));let{pathname:a="/",search:u="",hash:c="",state:f=null,key:p="default"}=r,v=x.useMemo(()=>{let y=jt(a,o);return y==null?null:{location:{pathname:y,search:u,hash:c,state:f,key:p},navigationType:n}},[o,a,u,c,f,p,n]);return Ge(v!=null,`<Router basename="${o}"> is not able to match the URL "${a}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(it.Provider,{value:l},x.createElement(cs.Provider,{children:t,value:v}))}function ev({children:e,location:t}){return zg(Pa(e),t)}function Pa(e,t=[]){let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Pa(n.props.children,i));return}X(n.type===ge,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),X(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Pa(n.props.children,i)),r.push(o)}),r}var Js="get",Qs="application/x-www-form-urlencoded";function Bi(e){return e!=null&&typeof e.tagName=="string"}function tv(e){return Bi(e)&&e.tagName.toLowerCase()==="button"}function rv(e){return Bi(e)&&e.tagName.toLowerCase()==="form"}function nv(e){return Bi(e)&&e.tagName.toLowerCase()==="input"}function sv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iv(e,t){return e.button===0&&(!t||t==="_self")&&!sv(e)}function Na(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function ov(e,t){let r=Na(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Ls=null;function av(){if(Ls===null)try{new FormData(document.createElement("form"),0),Ls=!1}catch{Ls=!0}return Ls}var lv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jo(e){return e!=null&&!lv.has(e)?(Ge(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qs}"`),null):e}function uv(e,t){let r,n,s,i,o;if(rv(e)){let l=e.getAttribute("action");n=l?jt(l,t):null,r=e.getAttribute("method")||Js,s=jo(e.getAttribute("enctype"))||Qs,i=new FormData(e)}else if(tv(e)||nv(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(n=a?jt(a,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Js,s=jo(e.getAttribute("formenctype"))||jo(l.getAttribute("enctype"))||Qs,i=new FormData(l,e),!av()){let{name:u,type:c,value:f}=e;if(c==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(Bi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Js,n=null,s=Qs,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vl(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cv(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&jt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function dv(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hv(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await dv(i,r);return o.links?o.links():[]}return[]}));return vv(n.flat(1).filter(fv).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function cc(e,t,r,n,s,i){let o=(a,u)=>r[u]?a.route.id!==r[u].route.id:!0,l=(a,u)=>{var c;return r[u].pathname!==a.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==a.params["*"]};return i==="assets"?t.filter((a,u)=>o(a,u)||l(a,u)):i==="data"?t.filter((a,u)=>{var f;let c=n.routes[a.route.id];if(!c||!c.hasLoader)return!1;if(o(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let p=a.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function pv(e,t,{includeHydrateFallback:r}={}){return mv(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function mv(e){return[...new Set(e)]}function gv(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function vv(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(gv(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Zf(){let e=x.useContext(on);return Vl(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yv(){let e=x.useContext(Mi);return Vl(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wl=x.createContext(void 0);Wl.displayName="FrameworkContext";function eh(){let e=x.useContext(Wl);return Vl(e,"You must render this element inside a <HydratedRouter> element"),e}function wv(e,t){let r=x.useContext(Wl),[n,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=g=>{g.forEach(m=>{o(m.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(n){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[n]);let v=()=>{s(!0)},y=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:yn(l,v),onBlur:yn(a,y),onMouseEnter:yn(u,v),onMouseLeave:yn(c,y),onTouchStart:yn(f,v)}]:[!1,p,{}]}function yn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function _v({page:e,...t}){let{router:r}=Zf(),n=x.useMemo(()=>Wf(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(kv,{page:e,matches:n,...t}):null}function xv(e){let{manifest:t,routeModules:r}=eh(),[n,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return hv(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function kv({page:e,matches:t,...r}){let n=Pt(),{manifest:s,routeModules:i}=eh(),{basename:o}=Zf(),{loaderData:l,matches:a}=yv(),u=x.useMemo(()=>cc(e,t,a,s,n,"data"),[e,t,a,s,n]),c=x.useMemo(()=>cc(e,t,a,s,n,"assets"),[e,t,a,s,n]),f=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,_=!1;if(t.forEach(g=>{var h;let m=s.routes[g.route.id];!m||!m.hasLoader||(!u.some(w=>w.route.id===g.route.id)&&g.route.id in l&&((h=i[g.route.id])!=null&&h.shouldRevalidate)||m.hasClientLoader?_=!0:y.add(g.route.id))}),y.size===0)return[];let S=cv(e,o,"data");return _&&y.size>0&&S.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[S.pathname+S.search]},[o,l,n,s,u,t,e,i]),p=x.useMemo(()=>pv(c,s),[c,s]),v=xv(c);return x.createElement(x.Fragment,null,f.map(y=>x.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>x.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:_})=>x.createElement("link",{key:y,nonce:r.nonce,..._})))}function Sv(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var th=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{th&&(window.__reactRouterVersion="7.9.2")}catch{}function bv({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=dg({window:r,v5Compat:!0}));let s=n.current,[i,o]=x.useState({action:s.action,location:s.location}),l=x.useCallback(a=>{x.startTransition(()=>o(a))},[o]);return x.useLayoutEffect(()=>s.listen(l),[s,l]),x.createElement(Zg,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var rh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nh=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:a,to:u,preventScrollReset:c,viewTransition:f,...p},v){let{basename:y}=x.useContext(it),_=typeof u=="string"&&rh.test(u),S,g=!1;if(typeof u=="string"&&_&&(S=u,th))try{let N=new URL(window.location.href),R=u.startsWith("//")?new URL(N.protocol+u):new URL(u),A=jt(R.pathname,y);R.origin===N.origin&&A!=null?u=A+R.search+R.hash:g=!0}catch{Ge(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=Dg(u,{relative:s}),[h,w,E]=wv(n,p),j=Pv(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:s,viewTransition:f});function b(N){t&&t(N),N.defaultPrevented||j(N)}let k=x.createElement("a",{...p,...E,href:S||m,onClick:g||i?t:b,ref:Sv(v,w),target:a,"data-discover":!_&&r==="render"?"true":void 0});return h&&!_?x.createElement(x.Fragment,null,k,x.createElement(_v,{page:m})):k});nh.displayName="Link";var Ev=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:a,...u},c){let f=ds(o,{relative:u.relative}),p=Pt(),v=x.useContext(Mi),{navigator:y,basename:_}=x.useContext(it),S=v!=null&&$v(f)&&l===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,m=p.pathname,h=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(m=m.toLowerCase(),h=h?h.toLowerCase():null,g=g.toLowerCase()),h&&_&&(h=jt(h,_)||h);const w=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=m===g||!s&&m.startsWith(g)&&m.charAt(w)==="/",j=h!=null&&(h===g||!s&&h.startsWith(g)&&h.charAt(g.length)==="/"),b={isActive:E,isPending:j,isTransitioning:S},k=E?t:void 0,N;typeof n=="function"?N=n(b):N=[n,E?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(b):i;return x.createElement(nh,{...u,"aria-current":k,className:N,ref:c,style:R,to:o,viewTransition:l},typeof a=="function"?a(b):a)});Ev.displayName="NavLink";var jv=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Js,action:l,onSubmit:a,relative:u,preventScrollReset:c,viewTransition:f,...p},v)=>{let y=Lv(),_=Ov(l,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&rh.test(l),m=h=>{if(a&&a(h),h.defaultPrevented)return;h.preventDefault();let w=h.nativeEvent.submitter,E=(w==null?void 0:w.getAttribute("formmethod"))||o;y(w||h.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:f})};return x.createElement("form",{ref:v,method:S,action:_,onSubmit:n?a:m,...p,"data-discover":!g&&e==="render"?"true":void 0})});jv.displayName="Form";function Cv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sh(e){let t=x.useContext(on);return X(t,Cv(e)),t}function Pv(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=wr(),a=Pt(),u=ds(e,{relative:i});return x.useCallback(c=>{if(iv(c,t)){c.preventDefault();let f=r!==void 0?r:ts(a)===ts(u);l(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[a,l,u,r,n,t,e,s,i,o])}function Nv(e){Ge(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Na(e)),r=x.useRef(!1),n=Pt(),s=x.useMemo(()=>ov(n.search,r.current?null:t.current),[n.search]),i=wr(),o=x.useCallback((l,a)=>{const u=Na(typeof l=="function"?l(new URLSearchParams(s)):l);r.current=!0,i("?"+u,a)},[i,s]);return[s,o]}var Tv=0,Rv=()=>`__${String(++Tv)}__`;function Lv(){let{router:e}=sh("useSubmit"),{basename:t}=x.useContext(it),r=Jg();return x.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:a,body:u}=uv(n,t);if(s.navigate===!1){let c=s.fetcherKey||Rv();await e.fetch(c,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:a,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:a,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function Ov(e,{relative:t}={}){let{basename:r}=x.useContext(it),n=x.useContext(ht);X(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ds(e||".",{relative:t})},o=Pt();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),a=l.getAll("index");if(a.some(c=>c==="")){l.delete("index"),a.filter(f=>f).forEach(f=>l.append("index",f));let c=l.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:xt([r,i.pathname])),ts(i)}function $v(e,{relative:t}={}){let r=x.useContext(Gf);X(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sh("useViewTransitionState"),s=ds(e,{relative:t});if(!r.isTransitioning)return!1;let i=jt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=jt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return xi(s.pathname,o)!=null||xi(s.pathname,i)!=null}const Av=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oe(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Hl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Iv extends Hl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dc extends Hl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fc extends Hl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ta;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ta||(Ta={}));var Uv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class Dv{constructor(t,{headers:r={},customFetch:n,region:s=Ta.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Av(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Uv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region);const u=new URL(`${this.url}/${t}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(_=>{throw new Iv(_)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new dc(f);if(!f.ok)throw new fc(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield f.json():v==="application/octet-stream"?y=yield f.blob():v==="text/event-stream"?y=f:v==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof fc||s instanceof dc?s.context:void 0}}})}}var Pe={},ql={},Vi={},fs={},Wi={},Hi={},Fv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},en=Fv();const zv=en.fetch,ih=en.fetch.bind(en),oh=en.Headers,Mv=en.Request,Bv=en.Response,ln=Object.freeze(Object.defineProperty({__proto__:null,Headers:oh,Request:Mv,Response:Bv,default:ih,fetch:zv},Symbol.toStringTag,{value:"Module"})),Vv=Ih(ln);var qi={};Object.defineProperty(qi,"__esModule",{value:!0});let Wv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};qi.default=Wv;var ah=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const Hv=ah(Vv),qv=ah(qi);let Kv=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Hv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let c=null,f=null,p=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=m:f=JSON.parse(m))}const S=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,v=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const S=await i.text();try{c=JSON.parse(S),Array.isArray(c)&&i.status===404&&(f=[],c=null,v=200,y="OK")}catch{i.status===404&&S===""?(v=204,y="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,v=200,y="OK"),c&&this.shouldThrowOnError)throw new qv.default(c)}return{error:c,data:f,count:p,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Hi.default=Kv;var Gv=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wi,"__esModule",{value:!0});const Jv=Gv(Hi);let Qv=class extends Jv.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Wi.default=Qv;var Yv=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fs,"__esModule",{value:!0});const Xv=Yv(Wi);let Zv=class extends Xv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};fs.default=Zv;var e0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});const wn=e0(fs);let t0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new wn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new wn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new wn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new wn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new wn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Vi.default=t0;var lh=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ql,"__esModule",{value:!0});const r0=lh(Vi),n0=lh(fs);let s0=class uh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new r0.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new uh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{a.searchParams.append(f,p)})):(l="POST",u=r);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new n0.default({method:l,url:a,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ql.default=s0;var un=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const ch=un(ql);Pe.PostgrestClient=ch.default;const dh=un(Vi);Pe.PostgrestQueryBuilder=dh.default;const fh=un(fs);Pe.PostgrestFilterBuilder=fh.default;const hh=un(Wi);Pe.PostgrestTransformBuilder=hh.default;const ph=un(Hi);Pe.PostgrestBuilder=ph.default;const mh=un(qi);Pe.PostgrestError=mh.default;var i0=Pe.default={PostgrestClient:ch.default,PostgrestQueryBuilder:dh.default,PostgrestFilterBuilder:fh.default,PostgrestTransformBuilder:hh.default,PostgrestBuilder:ph.default,PostgrestError:mh.default};const{PostgrestClient:o0,PostgrestQueryBuilder:Ww,PostgrestFilterBuilder:Hw,PostgrestTransformBuilder:qw,PostgrestBuilder:Kw,PostgrestError:Gw}=i0;class a0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const l0="2.15.5",u0=`realtime-js/${l0}`,c0="1.0.0",Ra=1e4,d0=1e3,f0=100;var An;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(An||(An={}));var ie;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ie||(ie={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var La;(function(e){e.websocket="websocket"})(La||(La={}));var or;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(or||(or={}));class h0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const a=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class gh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const hc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=p0(o,e,t,s),i),{})},p0=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?vh(i,o):Oa(o)},vh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return y0(t,r)}switch(e){case H.bool:return m0(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return g0(t);case H.json:case H.jsonb:return v0(t);case H.timestamp:return w0(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Oa(t);default:return Oa(t)}},Oa=e=>e,m0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},g0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},v0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},y0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>vh(t,l))}return e},w0=e=>typeof e=="string"?e.replace(" ","T"):e,yh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Co{constructor(t,r,n={},s=Ra){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pc||(pc={}));class In{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=In.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=In.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const p=c.map(S=>S.presence_ref),v=f.map(S=>S.presence_ref),y=c.filter(S=>v.indexOf(S.presence_ref)<0),_=f.filter(S=>p.indexOf(S.presence_ref)<0);y.length>0&&(l[u]=y),_.length>0&&(a[u]=_)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),c.length>0){const f=t[l].map(v=>v.presence_ref),p=c.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...p)}n(l,c,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const c=a.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,a),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mc||(mc={}));var Un;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Un||(Un={}));var gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class Kl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new gh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new In(this),this.broadcastEndpointURL=yh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Un.PRESENCE]&&this.bindings[Un.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(gt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){t==null||t(gt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<S;m++){const h=_[m],{filter:{event:w,schema:E,table:j,filter:b}}=h,k=v&&v[m];if(k&&k.event===w&&k.schema===E&&k.table===j&&k.filter===b)g.push(Object.assign(Object.assign({},h),{id:k.id}));else{this.unsubscribe(),this.state=ie.errored,t==null||t(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(gt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ie.errored,t==null||t(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ie.joined&&t===Un.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ie.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Co(this,Ze.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Co(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>f0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=Ze;if(n&&[l,a,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,_,S;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(_=v.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,_,S,g,m,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,E=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((_=r.ids)===null||_===void 0?void 0:_.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((h=r==null?void 0:r.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:_,table:S,commit_timestamp:g,type:m,errors:h}=y;p=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:g,eventType:m,new:{},old:{},errors:h}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Kl.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hc(t.columns,t.old_record)),r}}const Po=()=>{},Os={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_0=[1e3,2e3,5e3,1e4],x0=1e4,k0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S0{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ra,this.transport=null,this.heartbeatIntervalMs=Os.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Po,this.ref=0,this.reconnectTimer=null,this.logger=Po,this.conn=null,this.sendBuffer=[],this.serializer=new h0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Oe(async()=>{const{default:l}=await Promise.resolve().then(()=>ln);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${La.websocket}`,this.httpEndpoint=yh(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=a0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:c0}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return or.Connecting;case An.open:return or.Open;case An.closing:return or.Closing;default:return or.Closed}}isConnected(){return this.connectionState()===or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Kl(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(d0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Os.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([k0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:u0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Os.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,a,u,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ra,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Os.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Po,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:f=>_0[f-1]||x0,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,p)=>p(JSON.stringify(f)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Gl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class b0 extends Gl{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $a extends Gl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var E0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const wh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oe(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},j0=()=>E0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oe(()=>Promise.resolve().then(()=>ln),void 0)).Response:Response}),Aa=e=>{if(Array.isArray(e))return e.map(r=>Aa(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Aa(n)}),t},C0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var _r=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const No=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P0=(e,t,r)=>_r(void 0,void 0,void 0,function*(){const n=yield j0();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new b0(No(s),i,o))}).catch(s=>{t(new $a(No(s),s))}):t(new $a(No(e),e))}),N0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(C0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function hs(e,t,r,n,s,i){return _r(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,N0(t,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>P0(a,l,n))})})}function ki(e,t,r,n){return _r(this,void 0,void 0,function*(){return hs(e,"GET",t,r,n)})}function ut(e,t,r,n,s){return _r(this,void 0,void 0,function*(){return hs(e,"POST",t,n,s,r)})}function Ia(e,t,r,n,s){return _r(this,void 0,void 0,function*(){return hs(e,"PUT",t,n,s,r)})}function T0(e,t,r,n){return _r(this,void 0,void 0,function*(){return hs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _h(e,t,r,n,s){return _r(this,void 0,void 0,function*(){return hs(e,"DELETE",t,n,s,r)})}var _e=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const R0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class L0{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=wh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return _e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),f=yield(t=="PUT"?Ia:ut)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const u=Object.assign({upsert:gc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl)):(a=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Ia(this.fetch,l.toString(),a,{headers:c});return{data:{path:i,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Gl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}update(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return _e(this,void 0,void 0,function*(){try{const s=yield ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}download(t,r){return _e(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ki(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(oe(l))return{data:null,error:l};throw l}})}info(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ki(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Aa(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}exists(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield T0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n)&&n instanceof $a){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}list(t,r,n){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},R0),r),{prefix:t||""});return{data:yield ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}listV2(t,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const O0="2.12.1",$0={"X-Client-Info":`storage-js/${O0}`};var kr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class A0{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},$0),r),this.fetch=wh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return kr(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(oe(t))return{data:null,error:t};throw t}})}getBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return kr(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return kr(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}}class I0 extends A0{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new L0(this.url,this.headers,t,this.fetch)}}const U0="2.57.4";let En="";typeof Deno<"u"?En="deno":typeof document<"u"?En="web":typeof navigator<"u"&&navigator.product==="ReactNative"?En="react-native":En="node";const D0={"X-Client-Info":`supabase-js-${En}/${U0}`},F0={headers:D0},z0={schema:"public"},M0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},B0={};var V0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const W0=e=>{let t;return e?t=e:typeof fetch>"u"?t=ih:t=fetch,(...r)=>t(...r)},H0=()=>typeof Headers>"u"?oh:Headers,q0=(e,t,r)=>{const n=W0(r),s=H0();return(i,o)=>V0(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var K0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};function G0(e){return e.endsWith("/")?e:e+"/"}function J0(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:a,auth:u,realtime:c,global:f}=t,p={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>K0(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Q0(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(G0(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xh="2.71.1",Cr=30*1e3,Ua=3,To=Ua*Cr,Y0="http://localhost:9999",X0="supabase.auth.token",Z0={"X-Client-Info":`gotrue-js/${xh}`},Da="X-Supabase-Api-Version",kh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ey=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ty=10*60*1e3;class Jl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ry extends Jl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ny(e){return I(e)&&e.name==="AuthApiError"}class Sh extends Jl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zt extends Jl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Lt extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sy(e){return I(e)&&e.name==="AuthSessionMissingError"}class $s extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Zt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Is extends Zt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iy(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class vc extends Zt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fa extends Zt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ro(e){return I(e)&&e.name==="AuthRetryableFetchError"}class yc extends Zt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class za extends Zt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wc=` 	
\r=`.split(""),oy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wc.length;t+=1)e[wc[t].charCodeAt(0)]=-2;for(let t=0;t<Si.length;t+=1)e[Si[t].charCodeAt(0)]=t;return e})();function _c(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Si[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Si[n]),t.queuedBits-=6}}function bh(e,t,r){const n=oy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{uy(o,n,r)};for(let o=0;o<e.length;o+=1)bh(e.charCodeAt(o),s,i);return t.join("")}function ay(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ly(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ay(n,t)}}function uy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function cy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)bh(e.charCodeAt(s),r,n);return new Uint8Array(t)}function dy(e){const t=[];return ly(e,r=>t.push(r)),new Uint8Array(t)}function fy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>_c(s,r,n)),_c(null,r,n),t.join("")}function hy(e){return Math.round(Date.now()/1e3)+e}function py(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},Eh=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function my(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const jh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oe(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tt=async(e,t)=>{await e.removeItem(t)};class Ki{constructor(){this.promise=new Ki.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ki.promiseConstructor=Promise;function Lo(e){const t=e.split(".");if(t.length!==3)throw new za("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ey.test(t[n]))throw new za("JWT not in base64url format");return{header:JSON.parse(xc(t[0])),payload:JSON.parse(xc(t[1])),signature:cy(t[2]),raw:{header:t[0],payload:t[1]}}}async function vy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function wy(e){return("0"+e.toString(16)).substr(-2)}function _y(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,wy).join("")}async function xy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ky(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(e,t,r=!1){const n=_y();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Pr(e,`${t}-code-verifier`,s);const i=await ky(n);return[i,n===i?"plain":"s256"]}const Sy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function by(e){const t=e.headers.get(Da);if(!t||!t.match(Sy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ey(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(e){if(!Cy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Oo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kc(e){return JSON.parse(JSON.stringify(e))}var Py=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ir=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ny=[502,503,504];async function Sc(e){var t;if(!gy(e))throw new Fa(ir(e),0);if(Ny.includes(e.status))throw new Fa(ir(e),e.status);let r;try{r=await e.json()}catch(i){throw new Sh(ir(i),i)}let n;const s=by(e);if(s&&s.getTime()>=kh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yc(ir(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Lt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yc(ir(r),e.status,r.weak_password.reasons);throw new ry(ir(r),e.status||500,n)}const Ty=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Da]||(i[Da]=kh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Ry(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function Ry(e,t,r,n,s,i){const o=Ty(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(a){throw console.error(a),new Fa(ir(a),0)}if(l.ok||await Sc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await Sc(a)}}function pt(e){var t;let r=null;Ay(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function bc(e){const t=pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ut(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ly(e){return{data:e,error:null}}function Oy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Py(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function $y(e){return e}function Ay(e){return e.access_token&&e.refresh_token&&e.expires_in}const $o=["global","local","others"];var Iy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Uy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=jh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=$o[0]){if($o.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$o.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ut})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Iy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Oy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ut})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$y});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){br(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ut})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){br(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ut})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){br(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ut})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){br(t.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){br(t.userId),br(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Ec(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Dy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Er={debug:!!(globalThis&&Eh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ch extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Fy extends Ch{}async function zy(e,t,r){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Fy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Dy();const My={url:Y0,storageKey:X0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jc(e,t,r){return await r()}const jr={};class ns{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},My),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Uy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=jh(s.fetch),this.lock=s.lock||jc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zy:this.lock=jc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Eh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ec(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ec(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=jr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=my(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iy(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new Sh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:f,options:p}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Sr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:pt})}else if("phone"in t){const{phone:c,password:f,options:p}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:pt})}else throw new As("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bc})}else throw new As("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $s}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,a,u,c,f,p,v;let y,_;if("message"in t)y=t.message,_=t.signature;else{const{chain:S,wallet:g,statement:m,options:h}=t;let w;if(Qe())if(typeof g=="object")w=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const E=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),m?{statement:m}:null));let b;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")b=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)b=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),_=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=h==null?void 0:h.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((u=h==null?void 0:h.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((f=(c=h==null?void 0:h.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...h.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:S,error:g}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:fy(_)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pt});if(g)throw g;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new $s}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:g})}catch(S){if(I(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const r=await rr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:pt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new $s}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new $s}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Sr(this.storage,this.storageKey));const{error:f}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new As("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Sr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ly})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Lt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new As("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<To:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await rr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Oo()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ut}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(r){if(I(r))return sy(r)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Lt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await Sr(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ut});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Lo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Lt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qe())throw new Is("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Is(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vc("No code detected.");const{data:m,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!i||!l||!o||!u)throw new Is("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(l);let p=c+f;a&&(p=parseInt(a));const v=p-c;v*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=p-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:_,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ny(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=py(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Sr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:f,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yy(async s=>(s>0&&await vy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ro(i)&&Date.now()+o-n<Cr})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await rr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Pr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Oo()}else if(s&&!s.user&&!s.user){const o=await rr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tt(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,s)):s.user=Oo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<To;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${To}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ro(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ki;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Lt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return Ro(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=kc(s);await Pr(this.storage,this.storageKey,i)}else{const s=kc(r);await Pr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cr}ms, refresh threshold is ${Ua} ticks`),s<=Ua&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ch)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Lo(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+ty>s)return n;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=Lo(n);r!=null&&r.allowExpired||Ey(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=jy(s.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,dy(`${l}.${a}`)))throw new za("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}ns.nextInstanceID=0;const By=ns;class Vy extends By{constructor(t){super(t)}}var Wy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class Hy{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=Q0(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:z0,realtime:B0,auth:Object.assign(Object.assign({},M0),{storageKey:a}),global:F0},c=J0(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=q0(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new o0(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new I0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Dv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Wy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vy({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new S0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qy=(e,t,r)=>new Hy(e,t,r);function Ky(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ky()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gi="https://ypiwfedtvgmazqcwolac.supabase.co",Ph="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwaXdmZWR0dmdtYXpxY3dvbGFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NDYxMDIsImV4cCI6MjA3NDIyMjEwMn0.QnHPyeMBpezC-Q72fVDuRPdM5dkSYqoHC3uY_Dgsuxs",F=qy(Gi,Ph),Gy=async(e,t)=>{try{const{data:r,error:n}=await F.from("users_profiles").select("personal_id, email").or(`personal_id.eq.${e.trim()},email.eq.${t.trim().toLowerCase()}`).limit(1);if(n)return console.error("Error checking user existence:",n),{exists:!1,byPersonalId:!1,byEmail:!1};if(r&&r.length>0){const s=r[0];return{exists:!0,byPersonalId:s.personal_id===e.trim(),byEmail:s.email===t.trim().toLowerCase()}}return{exists:!1,byPersonalId:!1,byEmail:!1}}catch(r){return console.error("User existence check error:",r),{exists:!1,byPersonalId:!1,byEmail:!1}}},Jy=async e=>{if(!e||!e.trim())return{isValid:!0,error:null};try{const{data:t,error:r}=await F.rpc("validate_volunteer_id",{p_volunteer_id:e.trim()});return r?(console.error("Volunteer ID check error:",r),{isValid:!1,error:"Failed to validate Volunteer ID"}):{isValid:t.is_valid,error:t.error}}catch(t){return console.error("Volunteer ID check exception:",t),{isValid:!1,error:"Failed to validate Volunteer ID"}}},Qy=async(e,t,r,n)=>{const s=[];(!e||!e.includes("@"))&&s.push("Valid email is required"),(!t||!/^\d{14}$/.test(t.trim()))&&s.push("Personal ID must be exactly 14 digits");const i=await Gy(t,e);i.exists&&(i.byPersonalId&&s.push("Personal ID already registered"),i.byEmail&&s.push("Email already registered"));let o=null;if(r&&r.trim()){const l=await Jy(r);if(!l.isValid&&l.error)s.push(l.error);else if(l.isValid){const{data:a}=await Yy(r);o=a}}return{isValid:s.length===0,errors:s,volunteerInfo:o}},Yy=async e=>{try{const{data:t,error:r}=await F.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        role,
        volunteer_id
      `).eq("volunteer_id",e.trim()).neq("role","attendee").single();return r?(console.error("Get volunteer error:",r),{data:null,error:r}):{data:t,error:null}}catch(t){return console.error("Get volunteer exception:",t),{data:null,error:{message:t.message}}}},Nh=async(e,t,r,n,s,i,o="attendee",l,a,u)=>{try{const{data:{session:c}}=await F.auth.getSession(),f=await fetch(`${Gi}/functions/v1/validate-registration`,{method:"POST",headers:{Authorization:`Bearer ${(c==null?void 0:c.access_token)||Ph}`,"Content-Type":"application/json"},body:JSON.stringify({email:t==null?void 0:t.trim().toLowerCase(),personalId:e==null?void 0:e.trim(),firstName:r==null?void 0:r.trim(),lastName:n==null?void 0:n.trim(),volunteerId:(s==null?void 0:s.trim())||null,phone:(i==null?void 0:i.trim())||null,userType:o,role:l||null,gender:a||null,tl_team:u||null})});if(!f.ok){const v=await f.text();throw console.error("Edge function validation error:",f.status,v),new Error(`Validation service error: ${f.status}`)}return await f.json()}catch(c){return console.error("Edge function validation error:",c),{isValid:!1,errors:["Validation failed. Please try again."],warnings:[]}}},Th=async(e,t,r)=>{var n,s,i,o,l,a,u,c,f,p,v,y,_,S,g,m;try{console.log("Starting attendee registration with edge function validation...");const h=await Nh(r.personal_id,e,r.first_name,r.last_name,r.volunteer_id,r.phone,"attendee");if(!h.isValid)return{data:null,error:{message:h.errors.join(". "),validationErrors:h.errors}};console.log("Edge function validation passed, creating auth user...");const{data:w,error:E}=await F.auth.signUp({email:e.trim().toLowerCase(),password:t});if(E)return{data:null,error:E};if(!w.user)return{data:null,error:{message:"Failed to create attendee account"}};console.log("Auth user created successfully:",w.user.id);try{await new Promise(N=>setTimeout(N,500));const j={id:w.user.id,email:e.trim().toLowerCase(),first_name:((n=r.first_name)==null?void 0:n.trim())||"",last_name:((s=r.last_name)==null?void 0:s.trim())||"",personal_id:(i=r.personal_id)==null?void 0:i.trim(),university:((o=r.university)==null?void 0:o.trim())||"",faculty:((l=r.faculty)==null?void 0:l.trim())||"",program:((a=r.program)==null?void 0:a.trim())||"",nationality:((u=r.nationality)==null?void 0:u.trim())||"",phone:((c=r.phone)==null?void 0:c.trim())||null,reg_id:h.volunteerUuid||null,volunteer_id:null,role:"attendee",gender:((f=r.gender)==null?void 0:f.toLowerCase())==="male"?"male":((p=r.gender)==null?void 0:p.toLowerCase())==="female"?"female":null,degree_level:((v=r.degree_level)==null?void 0:v.toLowerCase())==="student"?"student":((y=r.degree_level)==null?void 0:y.toLowerCase())==="graduate"?"graduate":null,class:["1","2","3","4","5"].includes((_=r.class)==null?void 0:_.toString())?(S=r.class)==null?void 0:S.toString():null,how_did_hear_about_event:["linkedin","facebook","instagram","friends","banners_in_street","information_session_at_faculty","campus_marketing","other"].includes((g=r.how_did_hear_about_event)==null?void 0:g.toLowerCase())?(m=r.how_did_hear_about_event)==null?void 0:m.toLowerCase():null,university_id_path:r.university_id_path||null,cv_path:r.cv_path||null,score:0,building_entry:!1,event_entry:!1},{data:b,error:k}=await F.from("users_profiles").insert([j]).select().single();return k?(console.error("Profile creation failed despite validation:",k),console.error(`ORPHANED AUTH USER: ${w.user.id} (${e})`),{data:null,error:{message:"Profile creation failed unexpectedly. Please contact support."}}):(console.log("Attendee profile created successfully:",b.id),{data:{...w,profile:b,referredBy:h.volunteerInfo},error:null})}catch(j){return console.error("Profile creation exception:",j),console.error(`ORPHANED AUTH USER: ${w.user.id} (${e})`),{data:null,error:{message:"Registration failed during profile creation"}}}}catch(h){return console.error("Registration error:",h),{data:null,error:{message:h.message||"Registration failed"}}}},Xy=async(e,t,r)=>{var n,s,i,o,l,a,u;try{console.log("Starting volunteer registration with edge function validation...");const c=await Nh(r.personal_id,e,r.first_name,r.last_name,null,r.phone,"volunteer",r.role,r.gender,r.tl_team);if(!c.isValid)return{data:null,error:{message:c.errors.join(". "),validationErrors:c.errors}};console.log("Edge function validation passed, creating volunteer auth user...");const{data:f,error:p}=await F.auth.signUp({email:e.trim().toLowerCase(),password:t});if(p)return{data:null,error:p};if(!f.user)return{data:null,error:{message:"Failed to create volunteer account"}};console.log("Volunteer auth user created successfully:",f.user.id);try{const v=await nw(r.role||"volunteer");await new Promise(g=>setTimeout(g,500));const y={id:f.user.id,email:e.trim().toLowerCase(),volunteer_id:v,first_name:((n=r.first_name)==null?void 0:n.trim())||"",last_name:((s=r.last_name)==null?void 0:s.trim())||"",personal_id:(i=r.personal_id)==null?void 0:i.trim(),faculty:((o=r.faculty)==null?void 0:o.trim())||"",phone:((l=r.phone)==null?void 0:l.trim())||null,university:"Ain Shams University",role:r.role||"volunteer",gender:((a=r.gender)==null?void 0:a.toLowerCase())==="male"?"male":((u=r.gender)==null?void 0:u.toLowerCase())==="female"?"female":null,tl_team:r.tl_team||null,score:0,building_entry:!1,event_entry:!1},{data:_,error:S}=await F.from("users_profiles").insert([y]).select().single();return S?(console.error("Volunteer profile creation failed despite validation:",S),console.error(`ORPHANED AUTH USER: ${f.user.id} (${e})`),{data:null,error:{message:"Profile creation failed unexpectedly. Please contact support."}}):(console.log("Volunteer registration completed successfully with ID:",v),console.log("Team leader team assignment:",r.tl_team),{data:{...f,volunteerId:v,profile:_},error:null})}catch(v){return console.error("Volunteer profile creation exception:",v),console.error(`ORPHANED AUTH USER: ${f.user.id} (${e})`),{data:null,error:{message:"Volunteer registration failed during profile creation"}}}}catch(c){return console.error("Volunteer registration error:",c),{data:null,error:{message:c.message||"Volunteer registration failed"}}}},Zy=async(e,t)=>{const{data:r,error:n}=await F.auth.signInWithPassword({email:e.trim().toLowerCase(),password:t});return{data:r,error:n}},ew=async e=>{const{data:t,error:r}=await F.auth.resetPasswordForEmail(e.trim().toLowerCase(),{redirectTo:`${window.location.origin}/reset-password`});return{data:t,error:r}},tw=async(e,t)=>{try{const{data:r,error:n}=await F.from("users_profiles").select("id").eq("personal_id",e.trim()).limit(1);if(n||!r||r.length===0)return{data:null,error:{message:"Personal ID not found"}};const{data:s,error:i}=await ew(t);return{data:s,error:i}}catch(r){return{data:null,error:{message:r.message||"Password reset failed"}}}},Cc=async(e,t,r)=>{var n,s;try{if(!r)return{data:null,error:{message:"No file provided"}};if(!e||!t)return{data:null,error:{message:"Missing bucket or userId parameter"}};const i=10*1024*1024;if(r.size>i)return{data:null,error:{message:"File size exceeds 10MB limit"}};const l={Assets:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],cvs:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],"university-ids":["image/jpeg","image/jpg","image/png","application/pdf"]}[e]||["image/jpeg","image/jpg","image/png","application/pdf"];if(!l.includes(r.type))return{data:null,error:{message:`File type ${r.type} not allowed for ${e} bucket. Allowed types: ${l.join(", ")}`}};const a=(n=r.name.split(".").pop())==null?void 0:n.toLowerCase();if(!a)return{data:null,error:{message:"File must have a valid extension"}};const u=Date.now(),c=Math.random().toString(36).substring(2,15),f=`${u}-${c}.${a}`,p=`${t}/${f}`;console.log(`Uploading ${r.name} (${(r.size/1024).toFixed(2)}KB) to ${e}/${p}`);let v=0;const y=3;for(;v<y;)try{const{data:_,error:S}=await F.storage.from(e).upload(p,r,{cacheControl:"3600",upsert:!1});if(S){if(console.error(`Upload attempt ${v+1} failed:`,S),(s=S.message)!=null&&s.includes("already exists")||S.statusCode==="409"){const m=`${u}-${Math.random().toString(36).substring(2,15)}.${a}`,h=`${t}/${m}`,{data:w,error:E}=await F.storage.from(e).upload(h,r,{cacheControl:"3600",upsert:!1});if(E)throw E;const{data:j}=F.storage.from(e).getPublicUrl(h);return{data:{path:h,url:j.publicUrl,fileName:m},error:null}}throw S}const{data:g}=F.storage.from(e).getPublicUrl(p);return console.log("File uploaded successfully:",g.publicUrl),{data:{path:p,url:g.publicUrl,fileName:f},error:null}}catch(_){if(v++,console.error(`Upload attempt ${v} failed:`,_),v>=y)return{data:null,error:{message:`Upload failed after ${y} attempts: ${_.message}`,originalError:_}};await new Promise(S=>setTimeout(S,1e3*v))}}catch(i){return console.error("Upload function error:",i),{data:null,error:{message:`Upload failed: ${i.message}`,originalError:i}}}},rw=async(e,t)=>{try{console.log("Updating user files:",t);const{data:r,error:n}=await F.from("users_profiles").update(t).eq("id",e).select();return n?console.error("Profile update error:",n):console.log("Profile updated successfully"),{data:r,error:n}}catch(r){return console.error("Update error:",r),{data:null,error:{message:r.message}}}},Jw=async(e,t)=>{try{const{data:{session:r}}=await F.auth.getSession();if(!(r!=null&&r.access_token))throw new Error("No authentication token found");const n=await fetch(`${Gi}/functions/v1/process-attendance`,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({personal_id:e,action:t})}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to process attendance");return{data:s,error:null}}catch(r){return console.error("Process attendance error:",r),{data:null,error:{message:r.message}}}},Qw=async e=>{try{const{data:t,error:r}=await F.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        building_entry,
        event_entry,
        created_at
      `).eq("personal_id",e.trim()).eq("role","attendee").single();return r?(console.error("Get attendee by Personal ID error:",r),{data:null,error:r}):{data:{...t,current_status:t.event_entry?"inside_event":"outside_event",building_status:t.building_entry?"inside_building":"outside_building"},error:null}}catch(t){return console.error("Get attendee by Personal ID exception:",t),{data:null,error:{message:t.message}}}},Yw=async e=>{try{const{data:t,error:r}=await F.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        building_entry,
        event_entry,
        created_at
      `).eq("id",e.trim()).eq("role","attendee").single();return r?(console.error("Get attendee by UUID error:",r),{data:null,error:r}):{data:{...t,current_status:t.event_entry?"inside_event":"outside_event",building_status:t.building_entry?"inside_building":"outside_building"},error:null}}catch(t){return console.error("Get attendee by UUID exception:",t),{data:null,error:{message:t.message}}}},Xw=async e=>{try{if(!e||e.trim().length<2)return{data:[],error:null};const{data:t,error:r}=await F.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        building_entry,
        event_entry,
        created_at
      `).eq("role","attendee").ilike("personal_id",`%${e.trim()}%`).order("personal_id").limit(10);return r?(console.error("Search attendees error:",r),{data:[],error:r}):{data:(t||[]).map(s=>({...s,current_status:s.event_entry?"inside_event":"outside_event",building_status:s.building_entry?"inside_building":"outside_building"})),error:null}}catch(t){return console.error("Search attendees exception:",t),{data:[],error:{message:t.message}}}},Zw=async(e,t,r)=>{try{const{data:{session:n}}=await F.auth.getSession();if(!(n!=null&&n.access_token))throw new Error("No authentication token found");const s={personal_id:e,action:t};t==="session_entry"&&r&&(s.session_id=r);const i=await fetch(`${Gi}/functions/v1/process-building-attendance`,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await i.json();if(!i.ok)throw new Error(o.error||"Failed to process attendance");return{data:o,error:null}}catch(n){return console.error("Process building attendance error:",n),{data:null,error:{message:n.message}}}},e_=async()=>{try{const{data:e,error:t}=await F.from("sessions").select(`
        id,
        title,
        description,
        speaker,
        start_time,
        end_time,
        location,
        capacity,
        current_attendees,
        max_attendees,
        current_bookings,
        session_type,
        created_at
      `).order("start_time",{ascending:!0});return t?(console.error("Get sessions error:",t),{data:[],error:t}):{data:e||[],error:null}}catch(e){return console.error("Get sessions exception:",e),{data:[],error:{message:e.message}}}},nw=async e=>{try{const r={registration:"REG",building:"BLD",info_desk:"INFDSK",volunteer:"VOL",team_leader:"TLDR",ushers:"USHR",marketing:"MKTG",media:"MEDIA",ER:"ER","BD team":"BD",catering:"CAT",feedback:"FDBK",stage:"STAGE"}[e]||"VOL",{data:n,error:s}=await F.from("users_profiles").select("volunteer_id").eq("role",e).not("volunteer_id","is",null).order("volunteer_id",{ascending:!1});if(s)return console.error("Error fetching volunteers:",s),`${r}${Date.now().toString().slice(-6)}`;let i=1;if(n&&n.length>0){const l=n.map(a=>{if(a.volunteer_id&&a.volunteer_id.startsWith(r)){const u=a.volunteer_id.replace(r,""),c=parseInt(u);return isNaN(c)?0:c}return 0}).filter(a=>a>0);l.length>0&&(i=Math.max(...l)+1)}const o=i.toString().padStart(2,"0");return`${r}${o}`}catch(t){return console.error("Error generating volunteer ID:",t),`${{registration:"REG",building:"BLD",info_desk:"INFDSK",volunteer:"VOL",team_leader:"TLDR",ushers:"USHR",marketing:"MKTG",media:"MEDIA",ER:"ER","BD team":"BD",catering:"CAT",feedback:"FDBK",stage:"STAGE"}[e]||"VOL"}${Date.now().toString().slice(-6)}`}};async function t_(){try{const{count:e}=await F.from("users_profiles").select("*",{count:"exact",head:!0}).eq("role","attendee"),{count:t}=await F.from("users_profiles").select("*",{count:"exact",head:!0}).eq("building_entry",!0).eq("role","attendee"),{count:r}=await F.from("users_profiles").select("*",{count:"exact",head:!0}).eq("event_entry",!0).eq("role","attendee");return{data:{inside_building:t||0,inside_event:r||0,total_attendees:e||0},error:null}}catch(e){return console.error("Error in getDynamicBuildingStats:",e),{data:null,error:e}}}const r_=async e=>{try{const{data:t,error:r}=await F.from("companies").select("logo_url").eq("id",e).single();if(r)return console.error("Error fetching company for deletion:",r),{data:null,error:r};const{data:n,error:s}=await F.from("companies").delete().eq("id",e).select();return s?(console.error("Error deleting company:",s),{data:null,error:s}):(t!=null&&t.logo_url&&await sw(t.logo_url),{data:n,error:null})}catch(t){return console.error("Delete company exception:",t),{data:null,error:{message:t.message}}}},sw=async e=>{try{if(!e.includes("supabase.co/storage/v1/object/public/Assets/")){console.log("Logo is external URL, skipping file deletion");return}let t=null;if(e.includes("/Assets/")){const r=e.split("/Assets/");t=r[r.length-1]}else if(e.includes("company-logos/")){const r=e.split("/"),n=r.findIndex(s=>s==="Assets");n!==-1&&(t=r.slice(n+1).join("/"))}if(t){console.log("Attempting to delete logo file:",t);const{error:r}=await F.storage.from("Assets").remove([t]);r?console.warn("Failed to delete logo file:",r):console.log("Logo file deleted successfully")}else console.warn("Could not extract file path from logo URL:",e)}catch(t){console.warn("Error deleting logo file:",t)}},n_=async e=>{try{const{data:t,error:r}=await F.from("users_profiles").select("score, role").eq("id",e).single();if(r)return console.error("Error fetching user profile:",r),{data:null,error:r};let n=F.from("users_profiles").select("id, score").order("score",{ascending:!1});t.role==="attendee"?n=n.eq("role","attendee"):t.role!=="admin"&&(n=n.not("role","in",'("attendee","admin")'));const{data:s,error:i}=await n;if(i)return console.error("Error fetching ranking:",i),{data:null,error:i};const o=(s==null?void 0:s.findIndex(a=>a.id===e))+1||0,l=(s==null?void 0:s.length)||0;return{data:{score:t.score||0,rank:o,total_users:l},error:null}}catch(t){return console.error("Get user ranking exception:",t),{data:null,error:{message:t.message}}}},s_=async(e,t=5)=>{try{const{data:r,error:n}=await F.from("user_scores").select(`
        id,
        points,
        activity_type,
        activity_description,
        awarded_at
      `).eq("user_id",e).order("awarded_at",{ascending:!1}).limit(t);return n?(console.error("Error fetching recent activities:",n),{data:[],error:n}):{data:r||[],error:null}}catch(r){return console.error("Get recent activities exception:",r),{data:[],error:{message:r.message}}}},Rh=x.createContext(void 0),iw=({children:e})=>{const[t,r]=x.useState(null),[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,a]=x.useState(!1),u=x.useCallback(b=>{try{typeof Storage<"u"&&sessionStorage.setItem("user_profile",JSON.stringify(b))}catch(k){console.warn("Could not save profile to session storage:",k)}},[]),c=x.useCallback(()=>{try{if(typeof Storage<"u"){const b=sessionStorage.getItem("user_profile");return b?JSON.parse(b):null}}catch(b){console.warn("Could not read profile from session storage:",b)}return null},[]),f=x.useCallback(()=>{try{typeof Storage<"u"&&sessionStorage.removeItem("user_profile")}catch(b){console.warn("Could not clear profile from session storage:",b)}},[]),p=x.useCallback(async(b,k=3)=>{const N=c();if(N&&N.id===b)return console.log("Using cached profile:",N.role),s(N),!0;for(let R=1;R<=k;R++)try{console.log(`Fetching profile (attempt ${R}/${k}) for user:`,b);const{data:A,error:D}=await F.from("users_profiles").select("*").eq("id",b).single();if(D){if(console.error(`Profile fetch error (attempt ${R}):`,D),R===k||D.code==="PGRST116")return console.error("Profile not found or fetch failed permanently"),N&&N.id===b?(console.log("Using cached profile as fallback"),s(N),!0):(s(null),f(),!1);await new Promise(Ee=>setTimeout(Ee,500*Math.pow(2,R-1)));continue}return A?(console.log("Profile fetched successfully:",A.role),s(A),u(A),!0):(console.warn("No profile data returned"),N&&N.id===b?(console.log("Using cached profile as fallback"),s(N),!0):(s(null),f(),!1))}catch(A){if(console.error(`Profile fetch exception (attempt ${R}):`,A),R===k)return N&&N.id===b?(console.log("Using cached profile as final fallback"),s(N),!0):(s(null),f(),!1);await new Promise(D=>setTimeout(D,500*Math.pow(2,R-1)))}return!1},[c,u,f]),v=x.useCallback(async(b,k)=>{console.log("Auth state change:",b,k?"Session exists":"No session");try{k!=null&&k.user?(console.log("Setting user from session:",k.user.id),r(k.user),a(!0),b==="SIGNED_IN"||b==="TOKEN_REFRESHED"?(await p(k.user.id)||console.warn("Could not fetch profile, but session is valid"),o(!1)):p(k.user.id).then(N=>{N||console.warn("Could not fetch profile, but session is valid"),o(!1)}).catch(N=>{console.error("Profile fetch failed:",N),o(!1)})):(console.log("Clearing user and profile"),r(null),s(null),f(),a(!0),o(!1))}catch(N){console.error("Error handling auth state change:",N),r(null),s(null),f(),a(!0),o(!1)}},[p,f]);x.useEffect(()=>{let b=!0,k=null;(async()=>{try{console.log("Initializing authentication...");const{data:{session:A},error:D}=await F.auth.getSession();if(D){console.error("Error getting session:",D),b&&(r(null),s(null),f(),a(!0),o(!1));return}if(A!=null&&A.user&&b){console.log("Found existing session for user:",A.user.id),r(A.user),a(!0);const Ee=await p(A.user.id);b&&(Ee||console.warn("Profile not found for authenticated user"),o(!1))}else console.log("No existing session found"),b&&(r(null),s(null),f(),a(!0),o(!1))}catch(A){console.error("Auth initialization error:",A),b&&(r(null),s(null),f(),a(!0),o(!1))}})();const{data:{subscription:R}}=F.auth.onAuthStateChange(v);return k=R,()=>{b=!1,k&&k.unsubscribe()}},[]);const y=x.useCallback(async()=>{t!=null&&t.id&&(console.log("Manually refreshing profile..."),await p(t.id))},[t==null?void 0:t.id,p]),_=async(b,k,N)=>{var R,A;try{console.log("Starting attendee registration..."),o(!0);const D=await Th(b,k,N);return D.error?(console.error("Registration failed:",D.error),D):(console.log("Registration successful"),(A=(R=D.data)==null?void 0:R.user)!=null&&A.id&&(await new Promise(Ee=>setTimeout(Ee,1e3)),await p(D.data.user.id)),D)}catch(D){return console.error("Registration exception:",D),{data:null,error:{message:D.message||"Registration failed"}}}finally{o(!1)}},S=async(b,k,N)=>{var R,A;try{console.log("Starting volunteer registration..."),o(!0);const D=await Xy(b,k,{...N,first_name:N.first_name,last_name:N.last_name,personal_id:N.personal_id,phone:N.phone,faculty:N.faculty,role:N.role,gender:N.gender,tl_team:N.tl_team||null});return D.error?(console.error("Volunteer registration failed:",D.error),D):(console.log("Volunteer registration successful"),(A=(R=D.data)==null?void 0:R.user)!=null&&A.id&&(await new Promise(P=>setTimeout(P,1500)),await p(D.data.user.id,5)||console.warn("Could not fetch volunteer profile immediately after registration")),D)}catch(D){return console.error("Volunteer registration exception:",D),{data:null,error:{message:D.message||"Volunteer registration failed"}}}finally{o(!1)}},g=async(b,k)=>{var N;try{console.log("Starting sign in..."),o(!0);const{data:R,error:A}=await Zy(b,k);return A?(console.error("Sign in failed:",A),{error:A}):(console.log("Sign in successful"),(N=R==null?void 0:R.user)!=null&&N.id&&(await new Promise(D=>setTimeout(D,500)),await p(R.user.id)),{error:null})}catch(R){return console.error("Sign in exception:",R),{error:{message:R.message||"Sign in failed"}}}finally{o(!1)}},m=async()=>{try{console.log("Signing out..."),o(!0);const{error:b}=await F.auth.signOut();b?console.error("Sign out error:",b):console.log("Signed out successfully"),f(),r(null),s(null)}catch(b){console.error("Sign out exception:",b),f(),r(null),s(null)}finally{o(!1)}},h=async(b,k,N)=>await Qy(b,k,N),w=x.useCallback(b=>n!=null&&n.role?Array.isArray(b)?b.includes(n.role):n.role===b:!1,[n==null?void 0:n.role]),E=x.useCallback(b=>{const k=b||(n==null?void 0:n.role);switch(k){case"admin":return"/secure-9821panel";case"sadmin":return"/super-ctrl-92k1x";case"team_leader":return"/teamleader";case"registration":return"/regteam";case"building":return"/buildteam";case"info_desk":return"/infodesk";case"attendee":return"/attendee";case"volunteer":case"ushers":case"marketing":case"media":case"ER":case"BD team":case"catering":case"feedback":case"stage":return"/volunteer";default:return console.warn("Unknown role for redirect:",k),"/login"}},[n==null?void 0:n.role]),j=!!t&&l;return console.log("Auth Context State:",{hasUser:!!t,hasProfile:!!n,loading:i,sessionLoaded:l,isAuthenticated:j,userRole:n==null?void 0:n.role}),d.jsx(Rh.Provider,{value:{user:t,profile:n,loading:i,sessionLoaded:l,isAuthenticated:j,signUp:_,signUpVolunteer:S,signIn:g,signOut:m,hasRole:w,getRoleBasedRedirect:E,validateRegistration:h,refreshProfile:y},children:e})},Ji=()=>{const e=x.useContext(Rh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ow={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ot=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>x.createElement("svg",{ref:c,...ow,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${aw(e)}`,l].join(" "),...u},[...t.map(([f,p])=>x.createElement(f,p)),...Array.isArray(a)?a:[a]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ot("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ot("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ot("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ot("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ot("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ot("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),hw=()=>{const e=wr();Nv();const[t,r]=x.useState({password:"",confirmPassword:""}),[n,s]=x.useState([]),[i,o]=x.useState(!1),[l,a]=x.useState(!1),[u,c]=x.useState(!1),[f,p]=x.useState(!1),[v,y]=x.useState(null);x.useEffect(()=>{(async()=>{const w=new URLSearchParams(window.location.hash.substring(1)),E=w.get("access_token"),j=w.get("refresh_token");if(w.get("type")!=="recovery"||!E||!j){y(!1);return}try{const{data:k,error:N}=await F.auth.setSession({access_token:E,refresh_token:j});N?(console.error("Token validation error:",N),y(!1)):y(!0)}catch(k){console.error("Session setup error:",k),y(!1)}})()},[]);const _=h=>{const w=[];return h.length<8&&w.push("Password must be at least 8 characters long"),/(?=.*[a-z])/.test(h)||w.push("Password must contain at least one lowercase letter"),/(?=.*[A-Z])/.test(h)||w.push("Password must contain at least one uppercase letter"),/(?=.*\d)/.test(h)||w.push("Password must contain at least one number"),/(?=.*[@$!%*?&])/.test(h)||w.push("Password must contain at least one special character"),w},S=()=>{const h=[],w=_(t.password);return h.push(...w),t.confirmPassword?t.password!==t.confirmPassword&&h.push("Passwords do not match"):h.push("Please confirm your password"),h},g=async h=>{h.preventDefault();const w=S();if(w.length>0){s(w);return}o(!0),s([]);try{const{error:E}=await F.auth.updateUser({password:t.password});if(E){s([E.message]);return}a(!0),setTimeout(()=>{e("/login")},3e3)}catch{s(["Password reset failed. Please try again."])}finally{o(!1)}},m=(h,w)=>{r(E=>({...E,[h]:w})),n.length>0&&s([])};return v===null?d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),d.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md p-8 text-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Validating reset link..."})]})})]}):v===!1?d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),d.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-red-100 w-full max-w-md p-8 text-center",children:[d.jsx(ss,{className:"mx-auto h-16 w-16 text-red-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Reset Link"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired. Please request a new password reset."}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:()=>e("/forgot-password"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Request New Reset Link"}),d.jsxs("button",{onClick:()=>e("/login"),className:"w-full flex items-center justify-center space-x-2 text-orange-600 hover:text-orange-700 font-medium py-2 transition-colors",children:[d.jsx(Ma,{className:"h-4 w-4"}),d.jsx("span",{children:"Back to Login"})]})]})]})})]}):l?d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),d.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-green-100 w-full max-w-md p-8 text-center",children:[d.jsx(Qi,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset Successful"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully updated. You will be redirected to the login page shortly."}),d.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Go to Login"})]})})]}):d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),d.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-6 text-center",children:[d.jsx(Lh,{className:"mx-auto h-12 w-12 text-white mb-3"}),d.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Set New Password"}),d.jsx("p",{className:"text-orange-100",children:"Enter your new password below"})]}),d.jsxs("form",{onSubmit:g,className:"p-8",children:[n.length>0&&d.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg mb-6",children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx(ss,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),d.jsx("div",{className:"flex-1",children:n.length===1?d.jsx("p",{className:"text-red-700",children:n[0]}):d.jsxs("div",{children:[d.jsx("p",{className:"text-red-700 font-medium mb-1",children:"Please fix the following errors:"}),d.jsx("ul",{className:"text-red-600 text-sm space-y-1",children:n.map((h,w)=>d.jsxs("li",{children:[" ",h]},w))})]})})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:u?"text":"password",value:t.password,onChange:h=>m("password",h.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"Enter your new password",required:!0}),d.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?d.jsx(Ba,{className:"h-5 w-5"}):d.jsx(Va,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:f?"text":"password",value:t.confirmPassword,onChange:h=>m("confirmPassword",h.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"Confirm your new password",required:!0}),d.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?d.jsx(Ba,{className:"h-5 w-5"}):d.jsx(Va,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Requirements:"}),d.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[d.jsx("li",{children:" At least 8 characters long"}),d.jsx("li",{children:" Contains uppercase and lowercase letters"}),d.jsx("li",{children:" Contains at least one number"}),d.jsx("li",{children:" Contains at least one special character (@$!%*?&)"})]})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Updating Password..."})]}):"Update Password"}),d.jsxs("button",{type:"button",onClick:()=>e("/login"),className:"w-full flex items-center justify-center space-x-2 text-orange-600 hover:text-orange-700 font-medium py-2 transition-colors",children:[d.jsx(Ma,{className:"h-4 w-4"}),d.jsx("span",{children:"Back to Login"})]})]})]})]})})]})},Pc=(e,t)=>e.trim()?e.trim().length<2?`${t} must be at least 2 characters long`:/^[a-zA-Z\s]+$/.test(e.trim())?null:`${t} must contain only letters and spaces`:`${t} is required`,Oh=e=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())?null:"Please enter a valid email address":"Email is required",pw=e=>{if(!e.trim())return"Phone number is required";const t=/^(010|011|012|015)\d{8}$/,r=e.replace(/\D/g,"");return t.test(r)?null:"Please enter a valid Egyptian phone number (01X-XXXXXXXX)"},mw=e=>e.trim()?e.trim().length!==14?"Personal ID must be exactly 14 digits":/^\d{14}$/.test(e.trim())?null:"Personal ID must contain only numbers":"Personal ID is required",$h=e=>e?e.length<6?"Password must be at least 6 characters long":null:"Password is required",gw=(e,t)=>t?e!==t?"Passwords do not match":null:"Please confirm your password",vw=e=>!e||!e.trim()||/^[A-Z]{2,6}\d{2,4}$/.test(e.trim())?null:"Volunteer ID must be in valid format (e.g., REG01, VOL15, TLDR02)",yw=()=>{const e=wr(),{signIn:t,isAuthenticated:r,getRoleBasedRedirect:n,loading:s,profile:i}=Ji(),[o,l]=x.useState({email:"",password:""}),[a,u]=x.useState(!1),[c,f]=x.useState([]),[p,v]=x.useState(!1),[y,_]=x.useState(!1);x.useEffect(()=>{r&&i&&!s&&e(n(),{replace:!0})},[r,i,s,e,n]);const S=(w,E)=>{l(j=>({...j,[w]:E})),f(j=>j.filter(b=>b.field!==w))},g=()=>{const w=[],E=Oh(o.email);E&&w.push({field:"email",message:E});const j=$h(o.password);return j&&w.push({field:"password",message:j}),w},m=async w=>{w.preventDefault();const E=g();if(E.length>0){f(E);return}v(!0),f([]);try{const{error:j}=await t(o.email,o.password);if(j){f([{field:"general",message:"Invalid email or password"}]);return}_(!0)}catch{f([{field:"general",message:"Login failed. Please try again."}])}finally{v(!1)}},h=w=>{var E;return(E=c.find(j=>j.field===w))==null?void 0:E.message};return s?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center fade-in-scale",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):y&&r?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center fade-in-scale",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Login successful! Redirecting..."})]})}):d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),d.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md overflow-hidden fade-in-up-blur modal-content-blur",children:[d.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4 text-center fade-in-blur",children:[d.jsx("div",{className:"mx-auto w-28 h-28 bg-white rounded-full flex items-center justify-center mb-2 shadow-lg fade-in-scale",children:d.jsx("img",{src:"https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/logo.png",alt:"ASU Career Week Logo",className:"w-24 h-24 rounded-full object-cover"})}),d.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back"}),d.jsx("p",{className:"text-orange-100",children:"Sign in to ASU Career Week"})]}),d.jsxs("form",{onSubmit:m,className:"p-8 stagger-children",children:[h("general")&&d.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex items-center space-x-2 mb-6 fade-in-blur",children:[d.jsx(ss,{className:"h-5 w-5 text-red-600"}),d.jsx("p",{className:"text-red-700",children:h("general")})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",value:o.email,onChange:w=>S("email",w.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${h("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email address"}),h("email")&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:h("email")})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:a?"text":"password",value:o.password,onChange:w=>S("password",w.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${h("password")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),d.jsx("button",{type:"button",onClick:()=>u(!a),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-orange-600 transition-colors",children:a?d.jsx(Ba,{className:"h-5 w-5"}):d.jsx(Va,{className:"h-5 w-5"})})]}),h("password")&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:h("password")})]}),d.jsx("div",{className:"text-right fade-in-blur",children:d.jsx("button",{type:"button",onClick:()=>e("/forgot-password"),className:"text-sm text-orange-600 hover:text-orange-700 hover:underline font-medium transition-colors",children:"Forgot Password?"})}),d.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed fade-in-blur smooth-hover",children:p?d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Signing In..."})]}):"Sign In"}),d.jsxs("div",{className:"text-center pt-4 border-t border-gray-200 space-y-2 fade-in-blur",children:[d.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",d.jsx("button",{type:"button",onClick:()=>e("/register"),className:"text-orange-600 hover:text-orange-700 font-medium hover:underline transition-colors",children:"Create Attendee Account"})]}),d.jsxs("p",{className:"text-gray-600",children:["Want to volunteer?"," ",d.jsx("button",{type:"button",onClick:()=>e("/V0lunt33ringR3g"),className:"text-orange-600 hover:text-orange-700 font-medium hover:underline transition-colors",children:"Register as Volunteer"})]})]})]})]})]})})]})},ww=["Faculty of Engineering","Faculty of Medicine","Faculty of Commerce","Faculty of Law","Faculty of Arts","Faculty of Science","Faculty of Pharmacy","Faculty of Dentistry","Faculty of Veterinary Medicine","Faculty of Agriculture","Faculty of Education","Faculty of Nursing","Faculty of Computer and Information Sciences","Faculty of Economics and Political Science","Faculty of Mass Communication","Faculty of Physical Education","Faculty of Fine Arts","Faculty of Music Education","Faculty of Archaeology","Faculty of Social Work","Faculty of Tourism and Hotels","Faculty of Languages","Faculty of Business Administration","Faculty of Applied Arts","Other"],_w=[{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"},{value:"5",label:"5th Year"}],xw=[{value:"linkedin",label:"LinkedIn"},{value:"facebook",label:"Facebook"},{value:"instagram",label:"Instagram"},{value:"friends",label:"Friends"},{value:"banners_in_street",label:"Banners in Street"},{value:"information_session_at_faculty",label:"Information Session at Faculty"},{value:"campus_marketing",label:"Campus Marketing"},{value:"other",label:"Other"}],kw=["Ain Shams University","Other"],Nc=({accept:e,maxSize:t,onFileSelect:r,onFileRemove:n,label:s,currentFile:i,required:o=!1})=>{const l=a=>{var c;const u=(c=a.target.files)==null?void 0:c[0];if(u){if(u.size>t){alert(`File size must be less than ${Math.round(t/1024/1024)}MB`);return}r(u)}};return d.jsx("div",{className:"space-y-2 fade-in-blur",children:d.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-all duration-300 ${i?"border-green-200 bg-green-50 transform hover:scale-[1.02]":"border-orange-200 hover:border-orange-300"}`,children:i?d.jsxs("div",{className:"flex items-center justify-center space-x-3 fade-in-scale",children:[d.jsx(Qi,{className:"w-5 h-5 text-green-600"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.name}),d.jsx("button",{type:"button",onClick:n,className:"text-red-600 hover:text-red-800 transition-colors duration-200",children:"Remove"})]}):d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("input",{type:"file",accept:e,onChange:l,className:"hidden",id:`file-${s.replace(/\s+/g,"-").toLowerCase()}`,required:o}),d.jsxs("label",{htmlFor:`file-${s.replace(/\s+/g,"-").toLowerCase()}`,className:"cursor-pointer text-sm font-medium text-orange-600 hover:text-orange-700 transition-colors duration-200 smooth-hover",children:[s," ",o&&"*"]})]})})})},Sw=()=>{const e=wr(),{signIn:t,isAuthenticated:r,profile:n,loading:s,getRoleBasedRedirect:i}=Ji(),[o,l]=x.useState(1),[a,u]=x.useState({firstName:"",lastName:"",gender:"",nationality:"",email:"",phone:"",personalId:"",university:"",customUniversity:"",faculty:"",degreeLevel:"",program:"",classYear:"",howDidYouHear:"",volunteerId:"",password:"",confirmPassword:""}),[c,f]=x.useState({}),[p,v]=x.useState([]),[y,_]=x.useState(!1),[S,g]=x.useState(!1),m=[{id:1,title:"Personal Information",icon:dw},{id:2,title:"Academic Information",icon:uw},{id:3,title:"Event & Volunteer Info",icon:fw},{id:4,title:"Account Security",icon:cw}];x.useEffect(()=>{r&&n&&!s&&(console.log("Auth context ready, redirecting to dashboard..."),e(i(),{replace:!0}))},[r,n,s,e,i]);const h=(P,U)=>{u(K=>({...K,[P]:U})),v(K=>K.filter(je=>je.field!==P))},w=async P=>{const U=[];if(P===1){const K=Pc(a.firstName,"First name");K&&U.push({field:"firstName",message:K});const je=Pc(a.lastName,"Last name");je&&U.push({field:"lastName",message:je}),a.gender||U.push({field:"gender",message:"Gender is required"}),a.nationality||U.push({field:"nationality",message:"Nationality is required"});const T=Oh(a.email);T&&U.push({field:"email",message:T});const O=pw(a.phone);O&&U.push({field:"phone",message:O});const $=mw(a.personalId);$&&U.push({field:"personalId",message:$})}if(P===2&&(a.university||U.push({field:"university",message:"University is required"}),a.faculty||U.push({field:"faculty",message:"Faculty is required"}),a.degreeLevel||U.push({field:"degreeLevel",message:"Degree level is required"}),a.program||U.push({field:"program",message:"Program/Major is required"}),a.degreeLevel==="student"&&!a.classYear&&U.push({field:"classYear",message:"Class year is required for students"})),P===3){if(a.howDidYouHear||U.push({field:"howDidYouHear",message:"This field is required"}),a.volunteerId&&a.volunteerId.trim()){const K=vw(a.volunteerId);K&&U.push({field:"volunteerId",message:K})}c.universityId||U.push({field:"universityId",message:"University ID is required"}),c.resume||U.push({field:"resume",message:"CV/Resume is required"})}if(P===4){const K=$h(a.password);K&&U.push({field:"password",message:K});const je=gw(a.password,a.confirmPassword);je&&U.push({field:"confirmPassword",message:je})}return U},E=async()=>{const P=await w(o);if(P.length>0){v(P);return}v([]),o<4&&l(o+1)},j=()=>{o>1&&l(o-1)},b=async P=>{var K,je;P.preventDefault();const U=await Promise.all([1,2,3,4].map(T=>w(T))).then(T=>T.flat());if(U.length>0){v(U);const T={firstName:1,lastName:1,gender:1,nationality:1,email:1,phone:1,personalId:1,university:2,faculty:2,degreeLevel:2,program:2,classYear:2,howDidYouHear:3,universityId:3,resume:3,volunteerId:3,password:4,confirmPassword:4},O=Math.min(...U.map($=>T[$.field]??1));l(O);return}_(!0),v([]);try{const T={first_name:a.firstName.trim(),last_name:a.lastName.trim(),gender:a.gender,nationality:a.nationality,phone:a.phone.trim(),personal_id:a.personalId.trim(),university:a.university==="Other"?a.customUniversity:a.university,faculty:a.faculty,degree_level:a.degreeLevel,program:a.program,class:a.degreeLevel==="student"?a.classYear:null,how_did_hear_about_event:a.howDidYouHear,volunteer_id:((K=a.volunteerId)==null?void 0:K.trim())||null};console.log(" Starting attendee registration with pre-validation...");const{data:O,error:$}=await Th(a.email,a.password,T);if($){if(console.error(" Registration failed:",$),$.validationErrors&&Array.isArray($.validationErrors)){const V=$.validationErrors.map(G=>({field:"general",message:G}));v(V)}else v([{field:"general",message:$.message||"Failed to create account."}]);return}if(console.log(" Attendee registration successful, uploading files..."),(je=O==null?void 0:O.user)!=null&&je.id){const V=O.user.id,G={};if(c.universityId){const{data:we,error:$e}=await Cc("university-ids",V,c.universityId);if($e){console.error("University ID upload failed:",$e),v([{field:"general",message:"Failed to upload University ID. Please try again."}]);return}G.university_id_path=we==null?void 0:we.path}if(c.resume){const{data:we,error:$e}=await Cc("cvs",V,c.resume);if($e){console.error("Resume upload failed:",$e),v([{field:"general",message:"Failed to upload Resume. Please try again."}]);return}G.cv_path=we==null?void 0:we.path}if(Object.keys(G).length>0){const{error:we}=await rw(V,G);we&&console.warn("Profile file paths update failed (user still created):",we)}}console.log(" Registration completed successfully, attempting auto-login...");try{const{error:V}=await t(a.email,a.password);V&&(console.warn(" Auto-login failed:",V.message),g(!0))}catch(V){console.warn(" Auto-login exception:",V),g(!0)}}catch(T){console.error("Unexpected error during registration:",T),v([{field:"general",message:T.message||"An unexpected error occurred. Please try again."}])}finally{_(!1)}},k=P=>{var U;return(U=p.find(K=>K.field===P))==null?void 0:U.message},N=()=>d.jsxs("div",{className:"space-y-6 stagger-children",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),d.jsx("input",{type:"text",value:a.firstName,onChange:P=>h("firstName",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("firstName")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your first name"}),k("firstName")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("firstName")})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),d.jsx("input",{type:"text",value:a.lastName,onChange:P=>h("lastName",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("lastName")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your last name"}),k("lastName")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("lastName")})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender *"}),d.jsxs("select",{value:a.gender,onChange:P=>h("gender",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("gender")?"border-red-300":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select gender"}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"})]}),k("gender")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("gender")})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality *"}),d.jsxs("select",{value:a.nationality,onChange:P=>h("nationality",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("nationality")?"border-red-300":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select nationality"}),d.jsx("option",{value:"Egyptian",children:"Egyptian"}),d.jsx("option",{value:"Other",children:"Other"})]}),k("nationality")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("nationality")})]})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"email",value:a.email,onChange:P=>h("email",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email address"})}),k("email")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("email")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),d.jsx("input",{type:"tel",value:a.phone,onChange:P=>h("phone",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("phone")?"border-red-300":"border-gray-300"}`,placeholder:"01X-XXXXXXXX"}),k("phone")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("phone")})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal ID *"}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"text",value:a.personalId,onChange:P=>h("personalId",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("personalId")?"border-red-300":"border-gray-300"}`,placeholder:"14-digit Egyptian ID",maxLength:14})}),k("personalId")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("personalId")})]})]})]}),R=()=>d.jsxs("div",{className:"space-y-6 stagger-children",children:[d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"University *"}),d.jsxs("select",{value:a.university,onChange:P=>h("university",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("university")?"border-red-300":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select university"}),kw.map(P=>d.jsx("option",{value:P,children:P},P))]}),k("university")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("university")})]}),a.university==="Other"&&d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom University Name *"}),d.jsx("input",{type:"text",value:a.customUniversity,onChange:P=>h("customUniversity",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("customUniversity")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your university name"}),k("customUniversity")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("customUniversity")})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Faculty *"}),d.jsxs("select",{value:a.faculty,onChange:P=>h("faculty",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("faculty")?"border-red-300":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select faculty"}),ww.map(P=>d.jsx("option",{value:P,children:P},P))]}),k("faculty")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("faculty")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Degree Level *"}),d.jsxs("select",{value:a.degreeLevel,onChange:P=>h("degreeLevel",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("degreeLevel")?"border-red-300":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select degree level"}),d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"graduate",children:"Graduate"})]}),k("degreeLevel")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("degreeLevel")})]}),a.degreeLevel==="student"&&d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Year *"}),d.jsxs("select",{value:a.classYear,onChange:P=>h("classYear",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("classYear")?"border-red-300":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select class year"}),_w.map(P=>d.jsx("option",{value:P.value,children:P.label},P.value))]}),k("classYear")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("classYear")})]})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program/Major *"}),d.jsx("input",{type:"text",value:a.program,onChange:P=>h("program",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("program")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your program or major"}),k("program")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("program")})]})]}),A=()=>d.jsxs("div",{className:"space-y-6 stagger-children",children:[d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How did you hear about this event? *"}),d.jsxs("select",{value:a.howDidYouHear,onChange:P=>h("howDidYouHear",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("howDidYouHear")?"border-red-300":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select an option"}),xw.map(P=>d.jsx("option",{value:P.value,children:P.label},P.value))]}),k("howDidYouHear")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("howDidYouHear")})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volunteer ID (Optional)"}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"text",value:a.volunteerId,onChange:P=>h("volunteerId",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("volunteerId")?"border-red-300":"border-gray-300"}`,placeholder:"Enter volunteer ID (if applicable)"})}),k("volunteerId")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("volunteerId")})]}),d.jsxs("div",{className:"space-y-4 fade-in-blur",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Required Documents"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"University ID *"}),d.jsx(Nc,{accept:".jpg,.jpeg,.png,.pdf",maxSize:10*1024*1024,onFileSelect:P=>{f(U=>({...U,universityId:P})),v(U=>U.filter(K=>K.field!=="universityId"))},onFileRemove:()=>f(P=>({...P,universityId:void 0})),label:"Upload University ID (JPG, PNG, PDF - Max 10MB)",currentFile:c.universityId,required:!0}),k("universityId")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("universityId")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV/Resume *"}),d.jsx(Nc,{accept:".pdf,.doc,.docx",maxSize:10*1024*1024,onFileSelect:P=>{f(U=>({...U,resume:P})),v(U=>U.filter(K=>K.field!=="resume"))},onFileRemove:()=>f(P=>({...P,resume:void 0})),label:"Upload CV/Resume (PDF, DOC, DOCX - Max 10MB)",currentFile:c.resume,required:!0}),k("resume")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("resume")})]})]})]}),D=()=>d.jsxs("div",{className:"space-y-6 stagger-children",children:[d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),d.jsx("input",{type:"password",value:a.password,onChange:P=>h("password",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("password")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password (minimum 6 characters)"}),k("password")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("password")})]}),d.jsxs("div",{className:"fade-in-blur",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),d.jsx("input",{type:"password",value:a.confirmPassword,onChange:P=>h("confirmPassword",P.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${k("confirmPassword")?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password"}),k("confirmPassword")&&d.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:k("confirmPassword")})]})]}),Ee=()=>{switch(o){case 1:return N();case 2:return R();case 3:return A();case 4:return D();default:return null}};return s?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center fade-in-scale",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):S?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border border-orange-100 fade-in-scale modal-content-blur",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 fade-in-scale",children:d.jsx(Qi,{className:"w-8 h-8 text-green-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 fade-in-blur",children:"Registration Successful!"}),d.jsx("p",{className:"text-gray-600 mb-6 fade-in-blur",children:"Your account has been created successfully. You can now log in to access Career Week Account."}),d.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 smooth-hover fade-in-blur",children:"Go to Login"})]})}):d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"})}),d.jsxs("div",{className:"relative z-10 py-8 px-4",children:[d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"text-center mb-8 fade-in-up-blur",children:[d.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Join Career Week"}),d.jsx("p",{className:"text-white drop-shadow",children:"Create your attendee account to access exclusive events"})]})}),d.jsxs("div",{className:"mb-8 fade-in-up-blur",children:[d.jsx("div",{className:"flex items-center max-w-2xl mx-auto",children:m.map((P,U)=>d.jsxs(st.Fragment,{children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all duration-300 ${o>=P.id?"bg-orange-500 border-orange-500 text-white transform scale-110":"bg-white border-gray-300 text-gray-400"}`,children:d.jsx(P.icon,{className:"w-5 h-5"})})}),U<m.length-1&&d.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-all duration-300 ${o>P.id?"bg-orange-500":"bg-gray-300"}`})]},P.id))}),d.jsx("div",{className:"flex justify-between max-w-2xl mx-auto mt-2",children:m.map(P=>d.jsx("div",{className:"text-xs text-center",style:{width:"120px"},children:d.jsx("span",{className:`transition-all duration-300 ${o>=P.id?"text-white font-medium drop-shadow transform scale-105":"text-white drop-shadow"}`,children:P.title})},P.id))})]}),d.jsxs("form",{onSubmit:b,className:"bg-white rounded-2xl shadow-2xl p-8 border border-orange-100 fade-in-up-blur modal-content-blur",children:[k("general")&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center fade-in-blur",children:[d.jsx(ss,{className:"w-5 h-5 text-red-600 mr-3"}),d.jsx("p",{className:"text-red-700",children:k("general")})]}),d.jsxs("div",{className:"mb-8 fade-in-blur",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m[o-1].title}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${o/4*100}%`}})})]}),d.jsx("div",{className:"stagger-children",children:Ee()}),d.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200 fade-in-blur",children:[d.jsx("button",{type:"button",onClick:j,disabled:o===1,className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300 smooth-hover transform hover:scale-105"}`,children:"Previous"}),o<4?d.jsxs("button",{type:"button",onClick:E,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 flex items-center smooth-hover",children:["Next",d.jsx(lw,{className:"w-4 h-4 ml-2"})]}):d.jsx("button",{type:"submit",disabled:y,className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center smooth-hover",children:y?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]}),d.jsx("div",{className:"text-center mt-6 pt-6 border-t border-gray-200 fade-in-blur",children:d.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",d.jsx("button",{type:"button",onClick:()=>e("/login"),className:"text-orange-600 hover:text-orange-700 font-medium transition-colors duration-200 hover:underline",children:"Sign in here"})]})})]})]})]})},bw=()=>{const e=wr(),[t,r]=x.useState({personalId:"",email:""}),[n,s]=x.useState([]),[i,o]=x.useState(!1),[l,a]=x.useState(!1),u=_=>{const S=_.trim();return S?/^\d{14}$/.test(S)?null:"Personal ID must be exactly 14 digits":"Personal ID is required"},c=_=>{const S=_.trim();return S?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S)?null:"Please enter a valid email address":"Email is required"},f=(_,S)=>{r(g=>({...g,[_]:S})),s(g=>g.filter(m=>m.field!==_))},p=()=>{const _=[],S=u(t.personalId);S&&_.push({field:"personalId",message:S});const g=c(t.email);return g&&_.push({field:"email",message:g}),_},v=async _=>{_.preventDefault();const S=p();if(S.length>0){s(S);return}o(!0),s([]);try{const{error:g}=await tw(t.personalId,t.email);if(g){s([{field:"general",message:g.message}]);return}a(!0)}catch{s([{field:"general",message:"Password reset failed. Please try again."}])}finally{o(!1)}},y=_=>{var S;return(S=n.find(g=>g.field===_))==null?void 0:S.message};return l?d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),d.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md p-8 text-center",children:[d.jsx(Qi,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent password reset instructions to your email address. Please check your inbox and follow the link to reset your password."}),d.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Back to Login"})]})})]}):d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),d.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-6 text-center",children:[d.jsx(Lh,{className:"mx-auto h-12 w-12 text-white mb-3"}),d.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),d.jsx("p",{className:"text-orange-100",children:"Enter your details to reset your password"})]}),d.jsxs("form",{onSubmit:v,className:"p-8",children:[y("general")&&d.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex items-center space-x-2 mb-6",children:[d.jsx(ss,{className:"h-5 w-5 text-red-600"}),d.jsx("p",{className:"text-red-700",children:y("general")})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal ID"}),d.jsx("input",{type:"text",value:t.personalId,onChange:_=>f("personalId",_.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${y("personalId")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your 14-digit Personal ID",maxLength:14}),y("personalId")&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:y("personalId")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",value:t.email,onChange:_=>f("email",_.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${y("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your registered email address"}),y("email")&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:y("email")})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Sending Reset Link..."})]}):"Send Reset Link"}),d.jsxs("button",{type:"button",onClick:()=>e("/login"),className:"w-full flex items-center justify-center space-x-2 text-orange-600 hover:text-orange-700 font-medium py-2 transition-colors",children:[d.jsx(Ma,{className:"h-4 w-4"}),d.jsx("span",{children:"Back to Login"})]})]})]})]})})]})},Ew=st.lazy(()=>Oe(()=>import("./AttendeeDashboard-DEX_sovn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),jw=st.lazy(()=>Oe(()=>import("./VolunteerRegistration-DorroQVV.js"),__vite__mapDeps([8,2])).then(e=>({default:e.VolunteerRegistration}))),Cw=st.lazy(()=>Oe(()=>import("./VolunteerDashboard-BS4iS9j7.js"),__vite__mapDeps([9,1,2,3,5])).then(e=>({default:e.VolunteerDashboard}))),Pw=st.lazy(()=>Oe(()=>import("./RegTeamDashboard-D-Dg_IkU.js"),__vite__mapDeps([10,1,2,11,6,5,12])).then(e=>({default:e.RegTeamDashboard}))),Nw=st.lazy(()=>Oe(()=>import("./BuildTeamDashboard-BfxFAjdx.js"),__vite__mapDeps([13,1,2,11,4,5])).then(e=>({default:e.BuildTeamDashboard}))),Tw=st.lazy(()=>Oe(()=>import("./InfoDeskDashboard-Ci9YRQjM.js"),__vite__mapDeps([14,1,2,11,7,4,5,6,12])).then(e=>({default:e.InfoDeskDashboard}))),Rw=st.lazy(()=>Oe(()=>import("./TeamLeaderDashboard-aSVjFMf7.js"),__vite__mapDeps([15,1,2,11,16])).then(e=>({default:e.TeamLeaderDashboard}))),Lw=st.lazy(()=>Oe(()=>import("./AdminPanel-DyYeXb5_.js"),__vite__mapDeps([17,1,2,4,16,5,6,3])).then(e=>({default:e.AdminPanel}))),Ow=st.lazy(()=>Oe(()=>import("./SuperAdminPanel-Pr__7E0e.js"),__vite__mapDeps([18,1,2])).then(e=>({default:e.SuperAdminPanel}))),bi=({message:e="Loading..."})=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:e})]})}),$w=()=>d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white",children:[d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{className:"h-8 bg-gray-200 rounded w-48"}),d.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[1,2,3].map(e=>d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),d.jsx("div",{className:"h-8 bg-gray-200 rounded"})]},e))}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4 w-1/3"}),d.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>d.jsx("div",{className:"h-4 bg-gray-200 rounded"},e))})]})]})]}),d.jsx("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-lg p-4 border",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"}),d.jsx("span",{className:"text-gray-600",children:"Loading dashboard..."})]})})]}),Aw=({children:e,requiredRole:t})=>{const{isAuthenticated:r,profile:n,loading:s,sessionLoaded:i,hasRole:o,getRoleBasedRedirect:l}=Ji();if(!i||s)return d.jsx(bi,{message:"Checking authentication..."});if(!r)return console.log("Not authenticated, redirecting to login"),d.jsx(rs,{to:"/login",replace:!0});if(r&&!n)return d.jsx(bi,{message:"Loading your profile..."});if(t&&n&&!(Array.isArray(t),o(t))){console.log("Access denied for role:",n.role,"Required:",t);const u=l();return d.jsx(rs,{to:u,replace:!0})}return console.log("Access granted for role:",n==null?void 0:n.role),d.jsx(d.Fragment,{children:e})},_n=({children:e})=>{const{isAuthenticated:t,profile:r,loading:n,sessionLoaded:s,getRoleBasedRedirect:i}=Ji();if(!s||n)return d.jsx(bi,{message:"Loading..."});if(t&&r){const o=i();return console.log("Already authenticated, redirecting to:",o),d.jsx(rs,{to:o,replace:!0})}return d.jsx(d.Fragment,{children:e})},Rt=({component:e,requiredRole:t})=>d.jsx(Aw,{requiredRole:t,children:d.jsx(x.Suspense,{fallback:d.jsx($w,{}),children:d.jsx(e,{})})}),Iw=()=>d.jsxs(ev,{children:[d.jsx(ge,{path:"/login",element:d.jsx(_n,{children:d.jsx(yw,{})})}),d.jsx(ge,{path:"/register",element:d.jsx(_n,{children:d.jsx(Sw,{})})}),d.jsx(ge,{path:"/forgot-password",element:d.jsx(_n,{children:d.jsx(bw,{})})}),d.jsx(ge,{path:"/V0lunt33ringR3g",element:d.jsx(_n,{children:d.jsx(x.Suspense,{fallback:d.jsx(bi,{message:"Loading registration form..."}),children:d.jsx(jw,{})})})}),d.jsx(ge,{path:"/attendee",element:d.jsx(Rt,{component:Ew,requiredRole:"attendee"})}),d.jsx(ge,{path:"/volunteer",element:d.jsx(Rt,{component:Cw,requiredRole:["volunteer","ushers","marketing","media","ER","BD team","catering","feedback","stage"]})}),d.jsx(ge,{path:"/regteam",element:d.jsx(Rt,{component:Pw,requiredRole:"registration"})}),d.jsx(ge,{path:"/buildteam",element:d.jsx(Rt,{component:Nw,requiredRole:"building"})}),d.jsx(ge,{path:"/infodesk",element:d.jsx(Rt,{component:Tw,requiredRole:"info_desk"})}),d.jsx(ge,{path:"/teamleader",element:d.jsx(Rt,{component:Rw,requiredRole:"team_leader"})}),d.jsx(ge,{path:"/secure-9821panel",element:d.jsx(Rt,{component:Lw,requiredRole:"admin"})}),d.jsx(ge,{path:"/super-ctrl-92k1x",element:d.jsx(Rt,{component:Ow,requiredRole:"sadmin"})}),d.jsx(ge,{path:"/reset-password",element:d.jsx(_n,{children:d.jsx(hw,{})})}),d.jsx(ge,{path:"/",element:d.jsx(rs,{to:"/login",replace:!0})}),d.jsx(ge,{path:"*",element:d.jsx(rs,{to:"/login",replace:!0})})]});class Uw extends st.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("App Error Boundary caught an error:",t,r)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[d.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),d.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"The application encountered an unexpected error."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Reload Application"})]})}):this.props.children}}function Dw(){return d.jsx(Uw,{children:d.jsx(bv,{children:d.jsx(iw,{children:d.jsx(Iw,{})})})})}Vf(document.getElementById("root")).render(d.jsx(x.StrictMode,{children:d.jsx(Dw,{})}));export{ss as A,r_ as B,Qi as C,Ba as D,Va as E,ww as F,cw as L,st as R,fw as U,wr as a,s_ as b,lg as c,lw as d,dw as e,Oh as f,n_ as g,pw as h,mw as i,d as j,$h as k,gw as l,ot as m,Xw as n,Qw as o,Yw as p,Jw as q,x as r,F as s,e_ as t,Ji as u,Pc as v,Zw as w,t_ as x,He as y,Ah as z};
