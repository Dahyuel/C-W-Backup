const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AttendeeDashboard-DUQNFNfV.js","assets/DashboardLayout-DD1STFC1.js","assets/heart-C3OgWR3f.js","assets/activity-CMjATHNO.js","assets/calendar-BG1-np7W.js","assets/clock-CYK23m10.js","assets/map-pin-DH3aQBG0.js","assets/x-circle-Dfy2qXJP.js","assets/VolunteerRegistration-DH786tCN.js","assets/VolunteerDashboard-CLnd6JOW.js","assets/RegTeamDashboard-7qDQZm_P.js","assets/QRScanner-CnHTzi7D.js","assets/user-x-CsRWkp6o.js","assets/BuildTeamDashboard-3JoK8ekD.js","assets/InfoDeskDashboard-DUaeNk8Z.js","assets/TeamLeaderDashboard-DKLOVCf7.js","assets/plus-CvjsSlMa.js","assets/AdminPanel-CFmPon0G.js","assets/SuperAdminPanel-BNs25O9G.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Mc={exports:{}},Ri={},Bc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=Symbol.for("react.element"),Wh=Symbol.for("react.portal"),Hh=Symbol.for("react.fragment"),qh=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Jh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Xh=Symbol.for("react.memo"),Zh=Symbol.for("react.lazy"),au=Symbol.iterator;function ep(e){return e===null||typeof e!="object"?null:(e=au&&e[au]||e["@@iterator"],typeof e=="function"?e:null)}var Vc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wc=Object.assign,Hc={};function un(e,t,r){this.props=e,this.context=t,this.refs=Hc,this.updater=r||Vc}un.prototype.isReactComponent={};un.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};un.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qc(){}qc.prototype=un.prototype;function Ga(e,t,r){this.props=e,this.context=t,this.refs=Hc,this.updater=r||Vc}var Ja=Ga.prototype=new qc;Ja.constructor=Ga;Wc(Ja,un.prototype);Ja.isPureReactComponent=!0;var lu=Array.isArray,Kc=Object.prototype.hasOwnProperty,Qa={current:null},Gc={key:!0,ref:!0,__self:!0,__source:!0};function Jc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Kc.call(t,n)&&!Gc.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:fs,type:e,key:i,ref:o,props:s,_owner:Qa.current}}function tp(e,t){return{$$typeof:fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ya(e){return typeof e=="object"&&e!==null&&e.$$typeof===fs}function rp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var uu=/\/+/g;function to(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rp(""+e.key):t.toString(36)}function Vs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fs:case Wh:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+to(o,0):n,lu(s)?(r="",e!=null&&(r=e.replace(uu,"$&/")+"/"),Vs(s,t,r,"",function(c){return c})):s!=null&&(Ya(s)&&(s=tp(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(uu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",lu(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+to(i,a);o+=Vs(i,t,r,l,s)}else if(l=ep(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+to(i,a++),o+=Vs(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _s(e,t,r){if(e==null)return e;var n=[],s=0;return Vs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function np(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},Ws={transition:null},sp={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Qa};function Qc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:_s,forEach:function(e,t,r){_s(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!Ya(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=un;M.Fragment=Hh;M.Profiler=Kh;M.PureComponent=Ga;M.StrictMode=qh;M.Suspense=Yh;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sp;M.act=Qc;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Wc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Qa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Kc.call(t,l)&&!Gc.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:fs,type:e.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(e){return e={$$typeof:Jh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gh,_context:e},e.Consumer=e};M.createElement=Jc;M.createFactory=function(e){var t=Jc.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:Qh,render:e}};M.isValidElement=Ya;M.lazy=function(e){return{$$typeof:Zh,_payload:{_status:-1,_result:e},_init:np}};M.memo=function(e,t){return{$$typeof:Xh,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};M.unstable_act=Qc;M.useCallback=function(e,t){return ke.current.useCallback(e,t)};M.useContext=function(e){return ke.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};M.useEffect=function(e,t){return ke.current.useEffect(e,t)};M.useId=function(){return ke.current.useId()};M.useImperativeHandle=function(e,t,r){return ke.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return ke.current.useMemo(e,t)};M.useReducer=function(e,t,r){return ke.current.useReducer(e,t,r)};M.useRef=function(e){return ke.current.useRef(e)};M.useState=function(e){return ke.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return ke.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return ke.current.useTransition()};M.version="18.3.1";Bc.exports=M;var x=Bc.exports;const st=Bh(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=x,op=Symbol.for("react.element"),ap=Symbol.for("react.fragment"),lp=Object.prototype.hasOwnProperty,up=ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cp={key:!0,ref:!0,__self:!0,__source:!0};function Yc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)lp.call(t,n)&&!cp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:op,type:e,key:i,ref:o,props:s,_owner:up.current}}Ri.Fragment=ap;Ri.jsx=Yc;Ri.jsxs=Yc;Mc.exports=Ri;var u=Mc.exports,Xc={exports:{}},Fe={},Zc={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,R){var k=E.length;E.push(R);e:for(;0<k;){var C=k-1>>>1,A=E[C];if(0<s(A,R))E[C]=R,E[k]=A,k=C;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var R=E[0],k=E.pop();if(k!==R){E[0]=k;e:for(var C=0,A=E.length,te=A>>>1;C<te;){var Oe=2*(C+1)-1,me=E[Oe],Le=Oe+1,gt=E[Le];if(0>s(me,k))Le<A&&0>s(gt,me)?(E[C]=gt,E[Le]=k,C=Le):(E[C]=me,E[Oe]=k,C=Oe);else if(Le<A&&0>s(gt,k))E[C]=gt,E[Le]=k,C=Le;else break e}}return R}function s(E,R){var k=E.sortIndex-R.sortIndex;return k!==0?k:E.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,g=3,y=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(E){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=E)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function _(E){if(w=!1,h(E),!v)if(r(l)!==null)v=!0,At(j);else{var R=r(c);R!==null&&O(_,R.startTime-E)}}function j(E,R){v=!1,w&&(w=!1,m(T),T=-1),y=!0;var k=g;try{for(h(R),f=r(l);f!==null&&(!(f.expirationTime>R)||E&&!se());){var C=f.callback;if(typeof C=="function"){f.callback=null,g=f.priorityLevel;var A=C(f.expirationTime<=R);R=e.unstable_now(),typeof A=="function"?f.callback=A:f===r(l)&&n(l),h(R)}else n(l);f=r(l)}if(f!==null)var te=!0;else{var Oe=r(c);Oe!==null&&O(_,Oe.startTime-R),te=!1}return te}finally{f=null,g=k,y=!1}}var S=!1,N=null,T=-1,D=5,I=-1;function se(){return!(e.unstable_now()-I<D)}function pt(){if(N!==null){var E=e.unstable_now();I=E;var R=!0;try{R=N(!0,E)}finally{R?mt():(S=!1,N=null)}}else S=!1}var mt;if(typeof p=="function")mt=function(){p(pt)};else if(typeof MessageChannel<"u"){var jr=new MessageChannel,$=jr.port2;jr.port1.onmessage=pt,mt=function(){$.postMessage(null)}}else mt=function(){b(pt,0)};function At(E){N=E,S||(S=!0,mt())}function O(E,R){T=b(function(){E(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,At(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var k=g;g=R;try{return E()}finally{g=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,R){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var k=g;g=E;try{return R()}finally{g=k}},e.unstable_scheduleCallback=function(E,R,k){var C=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?C+k:C):k=C,E){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=k+A,E={id:d++,callback:R,priorityLevel:E,startTime:k,expirationTime:A,sortIndex:-1},k>C?(E.sortIndex=k,t(c,E),r(l)===null&&E===r(c)&&(w?(m(T),T=-1):w=!0,O(_,k-C))):(E.sortIndex=A,t(l,E),v||y||(v=!0,At(j))),E},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(E){var R=g;return function(){var k=g;g=R;try{return E.apply(this,arguments)}finally{g=k}}}})(ed);Zc.exports=ed;var dp=Zc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=x,Ue=dp;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var td=new Set,Kn={};function br(e,t){Zr(e,t),Zr(e+"Capture",t)}function Zr(e,t){for(Kn[e]=t,e=0;e<t.length;e++)td.add(t[e])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=Object.prototype.hasOwnProperty,hp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cu={},du={};function pp(e){return Uo.call(du,e)?!0:Uo.call(cu,e)?!1:hp.test(e)?du[e]=!0:(cu[e]=!0,!1)}function mp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gp(e,t,r,n){if(t===null||typeof t>"u"||mp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xa=/[\-:]([a-z])/g;function Za(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xa,Za);pe[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xa,Za);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xa,Za);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function el(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gp(t,r,s,n)&&(r=null),n||s===null?pp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tt=fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),tl=Symbol.for("react.strict_mode"),Fo=Symbol.for("react.profiler"),rd=Symbol.for("react.provider"),nd=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Mo=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),sd=Symbol.for("react.offscreen"),fu=Symbol.iterator;function wn(e){return e===null||typeof e!="object"?null:(e=fu&&e[fu]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,ro;function Tn(e){if(ro===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ro=t&&t[1]||""}return`
`+ro+e}var no=!1;function so(e,t){if(!e||no)return"";no=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{no=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tn(e):""}function vp(e){switch(e.tag){case 5:return Tn(e.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return e=so(e.type,!1),e;case 11:return e=so(e.type.render,!1),e;case 1:return e=so(e.type,!0),e;default:return""}}function Bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $r:return"Fragment";case Ir:return"Portal";case Fo:return"Profiler";case tl:return"StrictMode";case zo:return"Suspense";case Mo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nd:return(e.displayName||"Context")+".Consumer";case rd:return(e._context.displayName||"Context")+".Provider";case rl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nl:return t=e.displayName||null,t!==null?t:Bo(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return Bo(e(t))}catch{}}return null}function yp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bo(t);case 8:return t===tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wp(e){var t=id(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ks(e){e._valueTracker||(e._valueTracker=wp(e))}function od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=id(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vo(e,t){var r=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ad(e,t){t=t.checked,t!=null&&el(e,"checked",t,!1)}function Wo(e,t){ad(e,t);var r=Xt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ho(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ho(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ho(e,t,r){(t!=="number"||ni(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Rn=Array.isArray;function Kr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(P(92));if(Rn(r)){if(1<r.length)throw Error(P(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xt(r)}}function ld(e,t){var r=Xt(t.value),n=Xt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ss,cd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xp=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(e){xp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),In[t]=In[e]})});function dd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||In.hasOwnProperty(e)&&In[e]?(""+t).trim():t+"px"}function fd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=dd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var _p=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(e,t){if(t){if(_p[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=null;function sl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yo=null,Gr=null,Jr=null;function vu(e){if(e=ms(e)){if(typeof Yo!="function")throw Error(P(280));var t=e.stateNode;t&&(t=$i(t),Yo(e.stateNode,e.type,t))}}function hd(e){Gr?Jr?Jr.push(e):Jr=[e]:Gr=e}function pd(){if(Gr){var e=Gr,t=Jr;if(Jr=Gr=null,vu(e),t)for(e=0;e<t.length;e++)vu(t[e])}}function md(e,t){return e(t)}function gd(){}var io=!1;function vd(e,t,r){if(io)return e(t,r);io=!0;try{return md(e,t,r)}finally{io=!1,(Gr!==null||Jr!==null)&&(gd(),pd())}}function Jn(e,t){var r=e.stateNode;if(r===null)return null;var n=$i(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(P(231,t,typeof r));return r}var Xo=!1;if(jt)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Xo=!1}function bp(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var $n=!1,si=null,ii=!1,Zo=null,kp={onError:function(e){$n=!0,si=e}};function Sp(e,t,r,n,s,i,o,a,l){$n=!1,si=null,bp.apply(kp,arguments)}function jp(e,t,r,n,s,i,o,a,l){if(Sp.apply(this,arguments),$n){if($n){var c=si;$n=!1,si=null}else throw Error(P(198));ii||(ii=!0,Zo=c)}}function kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yu(e){if(kr(e)!==e)throw Error(P(188))}function Ep(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return yu(s),e;if(i===n)return yu(s),t;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?e:t}function wd(e){return e=Ep(e),e!==null?xd(e):null}function xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xd(e);if(t!==null)return t;e=e.sibling}return null}var _d=Ue.unstable_scheduleCallback,wu=Ue.unstable_cancelCallback,Np=Ue.unstable_shouldYield,Cp=Ue.unstable_requestPaint,re=Ue.unstable_now,Pp=Ue.unstable_getCurrentPriorityLevel,il=Ue.unstable_ImmediatePriority,bd=Ue.unstable_UserBlockingPriority,oi=Ue.unstable_NormalPriority,Tp=Ue.unstable_LowPriority,kd=Ue.unstable_IdlePriority,Ai=null,dt=null;function Rp(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ai,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Lp,Ap=Math.log,Op=Math.LN2;function Lp(e){return e>>>=0,e===0?32:31-(Ap(e)/Op|0)|0}var js=64,Es=4194304;function An(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ai(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=An(a):(i&=o,i!==0&&(n=An(i)))}else o=r&~s,o!==0?n=An(o):i!==0&&(n=An(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tt(t),s=1<<r,n|=e[r],t&=~s;return n}function Ip(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $p(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-tt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Ip(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ea(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sd(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function oo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=r}function Dp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ol(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var V=0;function jd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ed,al,Nd,Cd,Pd,ta=!1,Ns=[],Wt=null,Ht=null,qt=null,Qn=new Map,Yn=new Map,Ft=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function _n(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ms(t),t!==null&&al(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fp(e,t,r,n,s){switch(t){case"focusin":return Wt=_n(Wt,e,t,r,n,s),!0;case"dragenter":return Ht=_n(Ht,e,t,r,n,s),!0;case"mouseover":return qt=_n(qt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Qn.set(i,_n(Qn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Yn.set(i,_n(Yn.get(i)||null,e,t,r,n,s)),!0}return!1}function Td(e){var t=dr(e.target);if(t!==null){var r=kr(t);if(r!==null){if(t=r.tag,t===13){if(t=yd(r),t!==null){e.blockedOn=t,Pd(e.priority,function(){Nd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ra(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qo=n,r.target.dispatchEvent(n),Qo=null}else return t=ms(r),t!==null&&al(t),e.blockedOn=r,!1;t.shift()}return!0}function _u(e,t,r){Hs(e)&&r.delete(t)}function zp(){ta=!1,Wt!==null&&Hs(Wt)&&(Wt=null),Ht!==null&&Hs(Ht)&&(Ht=null),qt!==null&&Hs(qt)&&(qt=null),Qn.forEach(_u),Yn.forEach(_u)}function bn(e,t){e.blockedOn===t&&(e.blockedOn=null,ta||(ta=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,zp)))}function Xn(e){function t(s){return bn(s,e)}if(0<Ns.length){bn(Ns[0],e);for(var r=1;r<Ns.length;r++){var n=Ns[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wt!==null&&bn(Wt,e),Ht!==null&&bn(Ht,e),qt!==null&&bn(qt,e),Qn.forEach(t),Yn.forEach(t),r=0;r<Ft.length;r++)n=Ft[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ft.length&&(r=Ft[0],r.blockedOn===null);)Td(r),r.blockedOn===null&&Ft.shift()}var Qr=Tt.ReactCurrentBatchConfig,li=!0;function Mp(e,t,r,n){var s=V,i=Qr.transition;Qr.transition=null;try{V=1,ll(e,t,r,n)}finally{V=s,Qr.transition=i}}function Bp(e,t,r,n){var s=V,i=Qr.transition;Qr.transition=null;try{V=4,ll(e,t,r,n)}finally{V=s,Qr.transition=i}}function ll(e,t,r,n){if(li){var s=ra(e,t,r,n);if(s===null)vo(e,t,n,ui,r),xu(e,n);else if(Fp(s,e,t,r,n))n.stopPropagation();else if(xu(e,n),t&4&&-1<Up.indexOf(e)){for(;s!==null;){var i=ms(s);if(i!==null&&Ed(i),i=ra(e,t,r,n),i===null&&vo(e,t,n,ui,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vo(e,t,n,null,r)}}var ui=null;function ra(e,t,r,n){if(ui=null,e=sl(n),e=dr(e),e!==null)if(t=kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ui=e,null}function Rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pp()){case il:return 1;case bd:return 4;case oi:case Tp:return 16;case kd:return 536870912;default:return 16}default:return 16}}var Bt=null,ul=null,qs=null;function Ad(){if(qs)return qs;var e,t=ul,r=t.length,n,s="value"in Bt?Bt.value:Bt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return qs=s.slice(e,1<n?1-n:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function bu(){return!1}function ze(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cs:bu,this.isPropagationStopped=bu,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=ze(cn),ps=Z({},cn,{view:0,detail:0}),Vp=ze(ps),ao,lo,kn,Oi=Z({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&e.type==="mousemove"?(ao=e.screenX-kn.screenX,lo=e.screenY-kn.screenY):lo=ao=0,kn=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),ku=ze(Oi),Wp=Z({},Oi,{dataTransfer:0}),Hp=ze(Wp),qp=Z({},ps,{relatedTarget:0}),uo=ze(qp),Kp=Z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gp=ze(Kp),Jp=Z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qp=ze(Jp),Yp=Z({},cn,{data:0}),Su=ze(Yp),Xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=em[e])?!!t[e]:!1}function dl(){return tm}var rm=Z({},ps,{key:function(e){if(e.key){var t=Xp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nm=ze(rm),sm=Z({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=ze(sm),im=Z({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),om=ze(im),am=Z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=ze(am),um=Z({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cm=ze(um),dm=[9,13,27,32],fl=jt&&"CompositionEvent"in window,Dn=null;jt&&"documentMode"in document&&(Dn=document.documentMode);var fm=jt&&"TextEvent"in window&&!Dn,Od=jt&&(!fl||Dn&&8<Dn&&11>=Dn),Eu=" ",Nu=!1;function Ld(e,t){switch(e){case"keyup":return dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function hm(e,t){switch(e){case"compositionend":return Id(t);case"keypress":return t.which!==32?null:(Nu=!0,Eu);case"textInput":return e=t.data,e===Eu&&Nu?null:e;default:return null}}function pm(e,t){if(Dr)return e==="compositionend"||!fl&&Ld(e,t)?(e=Ad(),qs=ul=Bt=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Od&&t.locale!=="ko"?null:t.data;default:return null}}var mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mm[e.type]:t==="textarea"}function $d(e,t,r,n){hd(n),t=ci(t,"onChange"),0<t.length&&(r=new cl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Un=null,Zn=null;function gm(e){Kd(e,0)}function Li(e){var t=zr(e);if(od(t))return e}function vm(e,t){if(e==="change")return t}var Dd=!1;if(jt){var co;if(jt){var fo="oninput"in document;if(!fo){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),fo=typeof Pu.oninput=="function"}co=fo}else co=!1;Dd=co&&(!document.documentMode||9<document.documentMode)}function Tu(){Un&&(Un.detachEvent("onpropertychange",Ud),Zn=Un=null)}function Ud(e){if(e.propertyName==="value"&&Li(Zn)){var t=[];$d(t,Zn,e,sl(e)),vd(gm,t)}}function ym(e,t,r){e==="focusin"?(Tu(),Un=t,Zn=r,Un.attachEvent("onpropertychange",Ud)):e==="focusout"&&Tu()}function wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Li(Zn)}function xm(e,t){if(e==="click")return Li(t)}function _m(e,t){if(e==="input"||e==="change")return Li(t)}function bm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:bm;function es(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Uo.call(t,s)||!nt(e[s],t[s]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Au(e,t){var r=Ru(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ru(r)}}function Fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(){for(var e=window,t=ni();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ni(e.document)}return t}function hl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function km(e){var t=zd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fd(r.ownerDocument.documentElement,r)){if(n!==null&&hl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Au(r,i);var o=Au(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sm=jt&&"documentMode"in document&&11>=document.documentMode,Ur=null,na=null,Fn=null,sa=!1;function Ou(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sa||Ur==null||Ur!==ni(n)||(n=Ur,"selectionStart"in n&&hl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fn&&es(Fn,n)||(Fn=n,n=ci(na,"onSelect"),0<n.length&&(t=new cl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ur)))}function Ps(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fr={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},ho={},Md={};jt&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Ii(e){if(ho[e])return ho[e];if(!Fr[e])return e;var t=Fr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Md)return ho[e]=t[r];return e}var Bd=Ii("animationend"),Vd=Ii("animationiteration"),Wd=Ii("animationstart"),Hd=Ii("transitionend"),qd=new Map,Lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){qd.set(e,t),br(t,[e])}for(var po=0;po<Lu.length;po++){var mo=Lu[po],jm=mo.toLowerCase(),Em=mo[0].toUpperCase()+mo.slice(1);tr(jm,"on"+Em)}tr(Bd,"onAnimationEnd");tr(Vd,"onAnimationIteration");tr(Wd,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Hd,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nm=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function Iu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,jp(n,t,void 0,e),e.currentTarget=null}function Kd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Iu(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Iu(s,a,c),i=l}}}if(ii)throw e=Zo,ii=!1,Zo=null,e}function K(e,t){var r=t[ua];r===void 0&&(r=t[ua]=new Set);var n=e+"__bubble";r.has(n)||(Gd(t,e,2,!1),r.add(n))}function go(e,t,r){var n=0;t&&(n|=4),Gd(r,e,n,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function ts(e){if(!e[Ts]){e[Ts]=!0,td.forEach(function(r){r!=="selectionchange"&&(Nm.has(r)||go(r,!1,e),go(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,go("selectionchange",!1,t))}}function Gd(e,t,r,n){switch(Rd(t)){case 1:var s=Mp;break;case 4:s=Bp;break;default:s=ll}r=s.bind(null,t,r,e),s=void 0,!Xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function vo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=dr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}vd(function(){var c=i,d=sl(r),f=[];e:{var g=qd.get(e);if(g!==void 0){var y=cl,v=e;switch(e){case"keypress":if(Ks(r)===0)break e;case"keydown":case"keyup":y=nm;break;case"focusin":v="focus",y=uo;break;case"focusout":v="blur",y=uo;break;case"beforeblur":case"afterblur":y=uo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=om;break;case Bd:case Vd:case Wd:y=Gp;break;case Hd:y=lm;break;case"scroll":y=Vp;break;case"wheel":y=cm;break;case"copy":case"cut":case"paste":y=Qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ju}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?g!==null?g+"Capture":null:g;w=[];for(var p=c,h;p!==null;){h=p;var _=h.stateNode;if(h.tag===5&&_!==null&&(h=_,m!==null&&(_=Jn(p,m),_!=null&&w.push(rs(p,_,h)))),b)break;p=p.return}0<w.length&&(g=new y(g,v,null,r,d),f.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&r!==Qo&&(v=r.relatedTarget||r.fromElement)&&(dr(v)||v[Et]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=c,v=v?dr(v):null,v!==null&&(b=kr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(w=ku,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=ju,_="onPointerLeave",m="onPointerEnter",p="pointer"),b=y==null?g:zr(y),h=v==null?g:zr(v),g=new w(_,p+"leave",y,r,d),g.target=b,g.relatedTarget=h,_=null,dr(d)===c&&(w=new w(m,p+"enter",v,r,d),w.target=h,w.relatedTarget=b,_=w),b=_,y&&v)t:{for(w=y,m=v,p=0,h=w;h;h=Nr(h))p++;for(h=0,_=m;_;_=Nr(_))h++;for(;0<p-h;)w=Nr(w),p--;for(;0<h-p;)m=Nr(m),h--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=Nr(w),m=Nr(m)}w=null}else w=null;y!==null&&$u(f,g,y,w,!1),v!==null&&b!==null&&$u(f,b,v,w,!0)}}e:{if(g=c?zr(c):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var j=vm;else if(Cu(g))if(Dd)j=_m;else{j=wm;var S=ym}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=xm);if(j&&(j=j(e,c))){$d(f,j,r,d);break e}S&&S(e,g,c),e==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&Ho(g,"number",g.value)}switch(S=c?zr(c):window,e){case"focusin":(Cu(S)||S.contentEditable==="true")&&(Ur=S,na=c,Fn=null);break;case"focusout":Fn=na=Ur=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,Ou(f,r,d);break;case"selectionchange":if(Sm)break;case"keydown":case"keyup":Ou(f,r,d)}var N;if(fl)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Dr?Ld(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Od&&r.locale!=="ko"&&(Dr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Dr&&(N=Ad()):(Bt=d,ul="value"in Bt?Bt.value:Bt.textContent,Dr=!0)),S=ci(c,T),0<S.length&&(T=new Su(T,e,null,r,d),f.push({event:T,listeners:S}),N?T.data=N:(N=Id(r),N!==null&&(T.data=N)))),(N=fm?hm(e,r):pm(e,r))&&(c=ci(c,"onBeforeInput"),0<c.length&&(d=new Su("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=N))}Kd(f,t)})}function rs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ci(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jn(e,r),i!=null&&n.unshift(rs(e,i,s)),i=Jn(e,t),i!=null&&n.push(rs(e,i,s))),e=e.return}return n}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $u(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Jn(r,i),l!=null&&o.unshift(rs(r,l,a))):s||(l=Jn(r,i),l!=null&&o.push(rs(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Cm=/\r\n?/g,Pm=/\u0000|\uFFFD/g;function Du(e){return(typeof e=="string"?e:""+e).replace(Cm,`
`).replace(Pm,"")}function Rs(e,t,r){if(t=Du(t),Du(e)!==t&&r)throw Error(P(425))}function di(){}var ia=null,oa=null;function aa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,Tm=typeof clearTimeout=="function"?clearTimeout:void 0,Uu=typeof Promise=="function"?Promise:void 0,Rm=typeof queueMicrotask=="function"?queueMicrotask:typeof Uu<"u"?function(e){return Uu.resolve(null).then(e).catch(Am)}:la;function Am(e){setTimeout(function(){throw e})}function yo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Xn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Xn(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var dn=Math.random().toString(36).slice(2),ct="__reactFiber$"+dn,ns="__reactProps$"+dn,Et="__reactContainer$"+dn,ua="__reactEvents$"+dn,Om="__reactListeners$"+dn,Lm="__reactHandles$"+dn;function dr(e){var t=e[ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Et]||r[ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fu(e);e!==null;){if(r=e[ct])return r;e=Fu(e)}return t}e=r,r=e.parentNode}return null}function ms(e){return e=e[ct]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function $i(e){return e[ns]||null}var ca=[],Mr=-1;function rr(e){return{current:e}}function G(e){0>Mr||(e.current=ca[Mr],ca[Mr]=null,Mr--)}function H(e,t){Mr++,ca[Mr]=e.current,e.current=t}var Zt={},we=rr(Zt),Pe=rr(!1),vr=Zt;function en(e,t){var r=e.type.contextTypes;if(!r)return Zt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Te(e){return e=e.childContextTypes,e!=null}function fi(){G(Pe),G(we)}function zu(e,t,r){if(we.current!==Zt)throw Error(P(168));H(we,t),H(Pe,r)}function Jd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(P(108,yp(e)||"Unknown",s));return Z({},r,n)}function hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,vr=we.current,H(we,e),H(Pe,Pe.current),!0}function Mu(e,t,r){var n=e.stateNode;if(!n)throw Error(P(169));r?(e=Jd(e,t,vr),n.__reactInternalMemoizedMergedChildContext=e,G(Pe),G(we),H(we,e)):G(Pe),H(Pe,r)}var xt=null,Di=!1,wo=!1;function Qd(e){xt===null?xt=[e]:xt.push(e)}function Im(e){Di=!0,Qd(e)}function nr(){if(!wo&&xt!==null){wo=!0;var e=0,t=V;try{var r=xt;for(V=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xt=null,Di=!1}catch(s){throw xt!==null&&(xt=xt.slice(e+1)),_d(il,nr),s}finally{V=t,wo=!1}}return null}var Br=[],Vr=0,pi=null,mi=0,Me=[],Be=0,yr=null,_t=1,bt="";function ar(e,t){Br[Vr++]=mi,Br[Vr++]=pi,pi=e,mi=t}function Yd(e,t,r){Me[Be++]=_t,Me[Be++]=bt,Me[Be++]=yr,yr=e;var n=_t;e=bt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_t=1<<32-tt(t)+s|r<<s|n,bt=i+e}else _t=1<<i|r<<s|n,bt=e}function pl(e){e.return!==null&&(ar(e,1),Yd(e,1,0))}function ml(e){for(;e===pi;)pi=Br[--Vr],Br[Vr]=null,mi=Br[--Vr],Br[Vr]=null;for(;e===yr;)yr=Me[--Be],Me[Be]=null,bt=Me[--Be],Me[Be]=null,_t=Me[--Be],Me[Be]=null}var De=null,$e=null,J=!1,et=null;function Xd(e,t){var r=Ve(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,$e=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yr!==null?{id:_t,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ve(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,De=e,$e=null,!0):!1;default:return!1}}function da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fa(e){if(J){var t=$e;if(t){var r=t;if(!Bu(e,t)){if(da(e))throw Error(P(418));t=Kt(r.nextSibling);var n=De;t&&Bu(e,t)?Xd(n,r):(e.flags=e.flags&-4097|2,J=!1,De=e)}}else{if(da(e))throw Error(P(418));e.flags=e.flags&-4097|2,J=!1,De=e}}}function Vu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function As(e){if(e!==De)return!1;if(!J)return Vu(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!aa(e.type,e.memoizedProps)),t&&(t=$e)){if(da(e))throw Zd(),Error(P(418));for(;t;)Xd(e,t),t=Kt(t.nextSibling)}if(Vu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$e=Kt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=De?Kt(e.stateNode.nextSibling):null;return!0}function Zd(){for(var e=$e;e;)e=Kt(e.nextSibling)}function tn(){$e=De=null,J=!1}function gl(e){et===null?et=[e]:et.push(e)}var $m=Tt.ReactCurrentBatchConfig;function Sn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,e))}return e}function Os(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wu(e){var t=e._init;return t(e._payload)}function ef(e){function t(m,p){if(e){var h=m.deletions;h===null?(m.deletions=[p],m.flags|=16):h.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Yt(m,p),m.index=0,m.sibling=null,m}function i(m,p,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<p?(m.flags|=2,p):h):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,h,_){return p===null||p.tag!==6?(p=Eo(h,m.mode,_),p.return=m,p):(p=s(p,h),p.return=m,p)}function l(m,p,h,_){var j=h.type;return j===$r?d(m,p,h.props.children,_,h.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dt&&Wu(j)===p.type)?(_=s(p,h.props),_.ref=Sn(m,p,h),_.return=m,_):(_=ei(h.type,h.key,h.props,null,m.mode,_),_.ref=Sn(m,p,h),_.return=m,_)}function c(m,p,h,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=No(h,m.mode,_),p.return=m,p):(p=s(p,h.children||[]),p.return=m,p)}function d(m,p,h,_,j){return p===null||p.tag!==7?(p=mr(h,m.mode,_,j),p.return=m,p):(p=s(p,h),p.return=m,p)}function f(m,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Eo(""+p,m.mode,h),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:return h=ei(p.type,p.key,p.props,null,m.mode,h),h.ref=Sn(m,null,p),h.return=m,h;case Ir:return p=No(p,m.mode,h),p.return=m,p;case Dt:var _=p._init;return f(m,_(p._payload),h)}if(Rn(p)||wn(p))return p=mr(p,m.mode,h,null),p.return=m,p;Os(m,p)}return null}function g(m,p,h,_){var j=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return j!==null?null:a(m,p,""+h,_);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case bs:return h.key===j?l(m,p,h,_):null;case Ir:return h.key===j?c(m,p,h,_):null;case Dt:return j=h._init,g(m,p,j(h._payload),_)}if(Rn(h)||wn(h))return j!==null?null:d(m,p,h,_,null);Os(m,h)}return null}function y(m,p,h,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(h)||null,a(p,m,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bs:return m=m.get(_.key===null?h:_.key)||null,l(p,m,_,j);case Ir:return m=m.get(_.key===null?h:_.key)||null,c(p,m,_,j);case Dt:var S=_._init;return y(m,p,h,S(_._payload),j)}if(Rn(_)||wn(_))return m=m.get(h)||null,d(p,m,_,j,null);Os(p,_)}return null}function v(m,p,h,_){for(var j=null,S=null,N=p,T=p=0,D=null;N!==null&&T<h.length;T++){N.index>T?(D=N,N=null):D=N.sibling;var I=g(m,N,h[T],_);if(I===null){N===null&&(N=D);break}e&&N&&I.alternate===null&&t(m,N),p=i(I,p,T),S===null?j=I:S.sibling=I,S=I,N=D}if(T===h.length)return r(m,N),J&&ar(m,T),j;if(N===null){for(;T<h.length;T++)N=f(m,h[T],_),N!==null&&(p=i(N,p,T),S===null?j=N:S.sibling=N,S=N);return J&&ar(m,T),j}for(N=n(m,N);T<h.length;T++)D=y(N,m,T,h[T],_),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?T:D.key),p=i(D,p,T),S===null?j=D:S.sibling=D,S=D);return e&&N.forEach(function(se){return t(m,se)}),J&&ar(m,T),j}function w(m,p,h,_){var j=wn(h);if(typeof j!="function")throw Error(P(150));if(h=j.call(h),h==null)throw Error(P(151));for(var S=j=null,N=p,T=p=0,D=null,I=h.next();N!==null&&!I.done;T++,I=h.next()){N.index>T?(D=N,N=null):D=N.sibling;var se=g(m,N,I.value,_);if(se===null){N===null&&(N=D);break}e&&N&&se.alternate===null&&t(m,N),p=i(se,p,T),S===null?j=se:S.sibling=se,S=se,N=D}if(I.done)return r(m,N),J&&ar(m,T),j;if(N===null){for(;!I.done;T++,I=h.next())I=f(m,I.value,_),I!==null&&(p=i(I,p,T),S===null?j=I:S.sibling=I,S=I);return J&&ar(m,T),j}for(N=n(m,N);!I.done;T++,I=h.next())I=y(N,m,T,I.value,_),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?T:I.key),p=i(I,p,T),S===null?j=I:S.sibling=I,S=I);return e&&N.forEach(function(pt){return t(m,pt)}),J&&ar(m,T),j}function b(m,p,h,_){if(typeof h=="object"&&h!==null&&h.type===$r&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case bs:e:{for(var j=h.key,S=p;S!==null;){if(S.key===j){if(j=h.type,j===$r){if(S.tag===7){r(m,S.sibling),p=s(S,h.props.children),p.return=m,m=p;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dt&&Wu(j)===S.type){r(m,S.sibling),p=s(S,h.props),p.ref=Sn(m,S,h),p.return=m,m=p;break e}r(m,S);break}else t(m,S);S=S.sibling}h.type===$r?(p=mr(h.props.children,m.mode,_,h.key),p.return=m,m=p):(_=ei(h.type,h.key,h.props,null,m.mode,_),_.ref=Sn(m,p,h),_.return=m,m=_)}return o(m);case Ir:e:{for(S=h.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){r(m,p.sibling),p=s(p,h.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=No(h,m.mode,_),p.return=m,m=p}return o(m);case Dt:return S=h._init,b(m,p,S(h._payload),_)}if(Rn(h))return v(m,p,h,_);if(wn(h))return w(m,p,h,_);Os(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,h),p.return=m,m=p):(r(m,p),p=Eo(h,m.mode,_),p.return=m,m=p),o(m)):r(m,p)}return b}var rn=ef(!0),tf=ef(!1),gi=rr(null),vi=null,Wr=null,vl=null;function yl(){vl=Wr=vi=null}function wl(e){var t=gi.current;G(gi),e._currentValue=t}function ha(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yr(e,t){vi=e,vl=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(vl!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(vi===null)throw Error(P(308));Wr=e,vi.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var fr=null;function xl(e){fr===null?fr=[e]:fr.push(e)}function rf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,xl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nt(e,n)}function Nt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ut=!1;function _l(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nt(e,r)}return s=n.interleaved,s===null?(t.next=t,xl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nt(e,r)}function Gs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ol(e,r)}}function Hu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yi(e,t,r,n){var s=e.updateQueue;Ut=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var g=a.lane,y=a.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(g=t,y=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(y,f,g);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,g=typeof v=="function"?v.call(y,f,g):v,g==null)break e;f=Z({},f,g);break e;case 2:Ut=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=f):d=d.next=y,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xr|=o,e.lanes=o,e.memoizedState=f}}function qu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var gs={},ft=rr(gs),ss=rr(gs),is=rr(gs);function hr(e){if(e===gs)throw Error(P(174));return e}function bl(e,t){switch(H(is,t),H(ss,e),H(ft,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ko(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ko(t,e)}G(ft),H(ft,t)}function nn(){G(ft),G(ss),G(is)}function sf(e){hr(is.current);var t=hr(ft.current),r=Ko(t,e.type);t!==r&&(H(ss,e),H(ft,r))}function kl(e){ss.current===e&&(G(ft),G(ss))}var Y=rr(0);function wi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xo=[];function Sl(){for(var e=0;e<xo.length;e++)xo[e]._workInProgressVersionPrimary=null;xo.length=0}var Js=Tt.ReactCurrentDispatcher,_o=Tt.ReactCurrentBatchConfig,wr=0,X=null,le=null,ce=null,xi=!1,zn=!1,os=0,Dm=0;function ge(){throw Error(P(321))}function jl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nt(e[r],t[r]))return!1;return!0}function El(e,t,r,n,s,i){if(wr=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=e===null||e.memoizedState===null?Mm:Bm,e=r(n,s),zn){i=0;do{if(zn=!1,os=0,25<=i)throw Error(P(301));i+=1,ce=le=null,t.updateQueue=null,Js.current=Vm,e=r(n,s)}while(zn)}if(Js.current=_i,t=le!==null&&le.next!==null,wr=0,ce=le=X=null,xi=!1,t)throw Error(P(300));return e}function Nl(){var e=os!==0;return os=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?X.memoizedState=ce=e:ce=ce.next=e,ce}function Ke(){if(le===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ce===null?X.memoizedState:ce.next;if(t!==null)ce=t,le=e;else{if(e===null)throw Error(P(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ce===null?X.memoizedState=ce=e:ce=ce.next=e}return ce}function as(e,t){return typeof t=="function"?t(e):t}function bo(e){var t=Ke(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((wr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,X.lanes|=d,xr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,nt(n,t.memoizedState)||(Ce=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,X.lanes|=i,xr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ko(e){var t=Ke(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);nt(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function of(){}function af(e,t){var r=X,n=Ke(),s=t(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ce=!0),n=n.queue,Cl(cf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(r.flags|=2048,ls(9,uf.bind(null,r,n,s,t),void 0,null),de===null)throw Error(P(349));wr&30||lf(r,t,s)}return s}function lf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uf(e,t,r,n){t.value=r,t.getSnapshot=n,df(t)&&ff(e)}function cf(e,t,r){return r(function(){df(t)&&ff(e)})}function df(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nt(e,r)}catch{return!0}}function ff(e){var t=Nt(e,1);t!==null&&rt(t,e,1,-1)}function Ku(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=zm.bind(null,X,e),[t.memoizedState,e]}function ls(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hf(){return Ke().memoizedState}function Qs(e,t,r,n){var s=lt();X.flags|=e,s.memoizedState=ls(1|t,r,void 0,n===void 0?null:n)}function Ui(e,t,r,n){var s=Ke();n=n===void 0?null:n;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,n!==null&&jl(n,o.deps)){s.memoizedState=ls(t,r,i,n);return}}X.flags|=e,s.memoizedState=ls(1|t,r,i,n)}function Gu(e,t){return Qs(8390656,8,e,t)}function Cl(e,t){return Ui(2048,8,e,t)}function pf(e,t){return Ui(4,2,e,t)}function mf(e,t){return Ui(4,4,e,t)}function gf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vf(e,t,r){return r=r!=null?r.concat([e]):null,Ui(4,4,gf.bind(null,t,e),r)}function Pl(){}function yf(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wf(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xf(e,t,r){return wr&21?(nt(r,t)||(r=Sd(),X.lanes|=r,xr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=r)}function Um(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var n=_o.transition;_o.transition={};try{e(!1),t()}finally{V=r,_o.transition=n}}function _f(){return Ke().memoizedState}function Fm(e,t,r){var n=Qt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bf(e))kf(t,r);else if(r=rf(e,t,r,n),r!==null){var s=be();rt(r,e,n,s),Sf(r,t,n)}}function zm(e,t,r){var n=Qt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bf(e))kf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,nt(a,o)){var l=t.interleaved;l===null?(s.next=s,xl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=rf(e,t,s,n),r!==null&&(s=be(),rt(r,e,n,s),Sf(r,t,n))}}function bf(e){var t=e.alternate;return e===X||t!==null&&t===X}function kf(e,t){zn=xi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Sf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ol(e,r)}}var _i={readContext:qe,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Mm={readContext:qe,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Gu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qs(4194308,4,gf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qs(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Fm.bind(null,X,e),[n.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Ku,useDebugValue:Pl,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Ku(!1),t=e[0];return e=Um.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=X,s=lt();if(J){if(r===void 0)throw Error(P(407));r=r()}else{if(r=t(),de===null)throw Error(P(349));wr&30||lf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Gu(cf.bind(null,n,i,e),[e]),n.flags|=2048,ls(9,uf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=lt(),t=de.identifierPrefix;if(J){var r=bt,n=_t;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=os++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Dm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bm={readContext:qe,useCallback:yf,useContext:qe,useEffect:Cl,useImperativeHandle:vf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:wf,useReducer:bo,useRef:hf,useState:function(){return bo(as)},useDebugValue:Pl,useDeferredValue:function(e){var t=Ke();return xf(t,le.memoizedState,e)},useTransition:function(){var e=bo(as)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:af,useId:_f,unstable_isNewReconciler:!1},Vm={readContext:qe,useCallback:yf,useContext:qe,useEffect:Cl,useImperativeHandle:vf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:wf,useReducer:ko,useRef:hf,useState:function(){return ko(as)},useDebugValue:Pl,useDeferredValue:function(e){var t=Ke();return le===null?t.memoizedState=e:xf(t,le.memoizedState,e)},useTransition:function(){var e=ko(as)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:af,useId:_f,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pa(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fi={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=be(),s=Qt(e),i=kt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,s),t!==null&&(rt(t,e,s,n),Gs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=be(),s=Qt(e),i=kt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,s),t!==null&&(rt(t,e,s,n),Gs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=be(),n=Qt(e),s=kt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gt(e,s,n),t!==null&&(rt(t,e,n,r),Gs(t,e,n))}};function Ju(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!es(r,n)||!es(s,i):!0}function jf(e,t,r){var n=!1,s=Zt,i=t.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Te(t)?vr:we.current,n=t.contextTypes,i=(n=n!=null)?en(e,s):Zt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fi.enqueueReplaceState(t,t.state,null)}function ma(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},_l(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Te(t)?vr:we.current,s.context=en(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pa(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fi.enqueueReplaceState(s,s.state,null),yi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function sn(e,t){try{var r="",n=t;do r+=vp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function So(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ga(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Wm=typeof WeakMap=="function"?WeakMap:Map;function Ef(e,t,r){r=kt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ki||(ki=!0,Ea=n),ga(e,t)},r}function Nf(e,t,r){r=kt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ga(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ga(e,t),typeof n!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Yu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Wm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=sg.bind(null,e,t,r),t.then(e,e))}function Xu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kt(-1,1),t.tag=2,Gt(r,t,1))),r.lanes|=1),e)}var Hm=Tt.ReactCurrentOwner,Ce=!1;function _e(e,t,r,n){t.child=e===null?tf(t,null,r,n):rn(t,e.child,r,n)}function ec(e,t,r,n,s){r=r.render;var i=t.ref;return Yr(t,s),n=El(e,t,r,n,i,s),r=Nl(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(J&&r&&pl(t),t.flags|=1,_e(e,t,n,s),t.child)}function tc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Dl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Cf(e,t,i,n,s)):(e=ei(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:es,r(o,n)&&e.ref===t.ref)return Ct(e,t,s)}return t.flags|=1,e=Yt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Cf(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(es(i,n)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,Ct(e,t,s)}return va(e,t,r,n,s)}function Pf(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(qr,Ie),Ie|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(qr,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(qr,Ie),Ie|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,H(qr,Ie),Ie|=n;return _e(e,t,s,r),t.child}function Tf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function va(e,t,r,n,s){var i=Te(r)?vr:we.current;return i=en(t,i),Yr(t,s),r=El(e,t,r,n,i,s),n=Nl(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(J&&n&&pl(t),t.flags|=1,_e(e,t,r,s),t.child)}function rc(e,t,r,n,s){if(Te(r)){var i=!0;hi(t)}else i=!1;if(Yr(t,s),t.stateNode===null)Ys(e,t),jf(t,r,n),ma(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=Te(r)?vr:we.current,c=en(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Qu(t,o,n,c),Ut=!1;var g=t.memoizedState;o.state=g,yi(t,n,o,s),l=t.memoizedState,a!==n||g!==l||Pe.current||Ut?(typeof d=="function"&&(pa(t,r,d,n),l=t.memoizedState),(a=Ut||Ju(t,r,a,n,g,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,nf(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ye(t.type,a),o.props=c,f=t.pendingProps,g=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=qe(l):(l=Te(r)?vr:we.current,l=en(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&Qu(t,o,n,l),Ut=!1,g=t.memoizedState,o.state=g,yi(t,n,o,s);var v=t.memoizedState;a!==f||g!==v||Pe.current||Ut?(typeof y=="function"&&(pa(t,r,y,n),v=t.memoizedState),(c=Ut||Ju(t,r,c,n,g,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return ya(e,t,r,n,i,s)}function ya(e,t,r,n,s,i){Tf(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Mu(t,r,!1),Ct(e,t,i);n=t.stateNode,Hm.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=rn(t,e.child,null,i),t.child=rn(t,null,a,i)):_e(e,t,a,i),t.memoizedState=n.state,s&&Mu(t,r,!0),t.child}function Rf(e){var t=e.stateNode;t.pendingContext?zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zu(e,t.context,!1),bl(e,t.containerInfo)}function nc(e,t,r,n,s){return tn(),gl(s),t.flags|=256,_e(e,t,r,n),t.child}var wa={dehydrated:null,treeContext:null,retryLane:0};function xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Af(e,t,r){var n=t.pendingProps,s=Y.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(Y,s&1),e===null)return fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bi(o,n,0,null),e=mr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xa(r),t.memoizedState=wa,e):Tl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qm(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Yt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yt(a,i):(i=mr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?xa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=wa,n}return i=e.child,e=i.sibling,n=Yt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Tl(e,t){return t=Bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ls(e,t,r,n){return n!==null&&gl(n),rn(t,e.child,null,r),e=Tl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qm(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=So(Error(P(422))),Ls(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Bi({mode:"visible",children:n.children},s,0,null),i=mr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&rn(t,e.child,null,o),t.child.memoizedState=xa(o),t.memoizedState=wa,i);if(!(t.mode&1))return Ls(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(P(419)),n=So(i,n,void 0),Ls(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ce||a){if(n=de,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(e,s),rt(n,e,s,-1))}return $l(),n=So(Error(P(421))),Ls(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ig.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$e=Kt(s.nextSibling),De=t,J=!0,et=null,e!==null&&(Me[Be++]=_t,Me[Be++]=bt,Me[Be++]=yr,_t=e.id,bt=e.overflow,yr=t),t=Tl(t,n.children),t.flags|=4096,t)}function sc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ha(e.return,t,r)}function jo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Of(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(_e(e,t,n.children,r),n=Y.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sc(e,r,t);else if(e.tag===19)sc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(H(Y,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&wi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),jo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}jo(t,!0,r,null,i);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,r=Yt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Km(e,t,r){switch(t.tag){case 3:Rf(t),tn();break;case 5:sf(t);break;case 1:Te(t.type)&&hi(t);break;case 4:bl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;H(gi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(H(Y,Y.current&1),t.flags|=128,null):r&t.child.childLanes?Af(e,t,r):(H(Y,Y.current&1),e=Ct(e,t,r),e!==null?e.sibling:null);H(Y,Y.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Of(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Y,Y.current),n)break;return null;case 22:case 23:return t.lanes=0,Pf(e,t,r)}return Ct(e,t,r)}var Lf,_a,If,$f;Lf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_a=function(){};If=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,hr(ft.current);var i=null;switch(r){case"input":s=Vo(e,s),n=Vo(e,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=qo(e,s),n=qo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=di)}Go(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&K("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};$f=function(e,t,r,n){r!==n&&(t.flags|=4)};function jn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gm(e,t,r){var n=t.pendingProps;switch(ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Te(t.type)&&fi(),ve(t),null;case 3:return n=t.stateNode,nn(),G(Pe),G(we),Sl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(As(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Pa(et),et=null))),_a(e,t),ve(t),null;case 5:kl(t);var s=hr(is.current);if(r=t.type,e!==null&&t.stateNode!=null)If(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(P(166));return ve(t),null}if(e=hr(ft.current),As(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ct]=t,n[ns]=i,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<On.length;s++)K(On[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":hu(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":mu(n,i),K("invalid",n)}Go(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Rs(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Rs(n.textContent,a,e),s=["children",""+a]):Kn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&K("scroll",n)}switch(r){case"input":ks(n),pu(n,i,!0);break;case"textarea":ks(n),gu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=di)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ud(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ct]=t,e[ns]=n,Lf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jo(r,n),r){case"dialog":K("cancel",e),K("close",e),s=n;break;case"iframe":case"object":case"embed":K("load",e),s=n;break;case"video":case"audio":for(s=0;s<On.length;s++)K(On[s],e);s=n;break;case"source":K("error",e),s=n;break;case"img":case"image":case"link":K("error",e),K("load",e),s=n;break;case"details":K("toggle",e),s=n;break;case"input":hu(e,n),s=Vo(e,n),K("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),K("invalid",e);break;case"textarea":mu(e,n),s=qo(e,n),K("invalid",e);break;default:s=n}Go(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?fd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cd(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Gn(e,l):typeof l=="number"&&Gn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&K("scroll",e):l!=null&&el(e,i,l,o))}switch(r){case"input":ks(e),pu(e,n,!1);break;case"textarea":ks(e),gu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Kr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Kr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=di)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)$f(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(P(166));if(r=hr(is.current),hr(ft.current),As(t)){if(n=t.stateNode,r=t.memoizedProps,n[ct]=t,(i=n.nodeValue!==r)&&(e=De,e!==null))switch(e.tag){case 3:Rs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ct]=t,t.stateNode=n}return ve(t),null;case 13:if(G(Y),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&$e!==null&&t.mode&1&&!(t.flags&128))Zd(),tn(),t.flags|=98560,i=!1;else if(i=As(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[ct]=t}else tn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else et!==null&&(Pa(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?ue===0&&(ue=3):$l())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return nn(),_a(e,t),e===null&&ts(t.stateNode.containerInfo),ve(t),null;case 10:return wl(t.type._context),ve(t),null;case 17:return Te(t.type)&&fi(),ve(t),null;case 19:if(G(Y),i=t.memoizedState,i===null)return ve(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)jn(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wi(e),o!==null){for(t.flags|=128,jn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&re()>on&&(t.flags|=128,n=!0,jn(i,!1),t.lanes=4194304)}else{if(!n)if(e=wi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ve(t),null}else 2*re()-i.renderingStartTime>on&&r!==1073741824&&(t.flags|=128,n=!0,jn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,r=Y.current,H(Y,n?r&1|2:r&1),t):(ve(t),null);case 22:case 23:return Il(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ie&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Jm(e,t){switch(ml(t),t.tag){case 1:return Te(t.type)&&fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(),G(Pe),G(we),Sl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kl(t),null;case 13:if(G(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));tn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Y),null;case 4:return nn(),null;case 10:return wl(t.type._context),null;case 22:case 23:return Il(),null;case 24:return null;default:return null}}var Is=!1,ye=!1,Qm=typeof WeakSet=="function"?WeakSet:Set,L=null;function Hr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ee(e,t,n)}else r.current=null}function ba(e,t,r){try{r()}catch(n){ee(e,t,n)}}var ic=!1;function Ym(e,t){if(ia=li,e=zd(),hl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,g=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)g=f,f=y;for(;;){if(f===e)break t;if(g===r&&++c===s&&(a=o),g===i&&++d===n&&(l=o),(y=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(oa={focusedElem:e,selectionRange:r},li=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ye(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){ee(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return v=ic,ic=!1,v}function Mn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ba(t,r,i)}s=s.next}while(s!==n)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ka(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Df(e){var t=e.alternate;t!==null&&(e.alternate=null,Df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[ns],delete t[ua],delete t[Om],delete t[Lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uf(e){return e.tag===5||e.tag===3||e.tag===4}function oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=di));else if(n!==4&&(e=e.child,e!==null))for(Sa(e,t,r),e=e.sibling;e!==null;)Sa(e,t,r),e=e.sibling}function ja(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ja(e,t,r),e=e.sibling;e!==null;)ja(e,t,r),e=e.sibling}var fe=null,Xe=!1;function Ot(e,t,r){for(r=r.child;r!==null;)Ff(e,t,r),r=r.sibling}function Ff(e,t,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ai,r)}catch{}switch(r.tag){case 5:ye||Hr(r,t);case 6:var n=fe,s=Xe;fe=null,Ot(e,t,r),fe=n,Xe=s,fe!==null&&(Xe?(e=fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(Xe?(e=fe,r=r.stateNode,e.nodeType===8?yo(e.parentNode,r):e.nodeType===1&&yo(e,r),Xn(e)):yo(fe,r.stateNode));break;case 4:n=fe,s=Xe,fe=r.stateNode.containerInfo,Xe=!0,Ot(e,t,r),fe=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ba(r,t,o),s=s.next}while(s!==n)}Ot(e,t,r);break;case 1:if(!ye&&(Hr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ee(r,t,a)}Ot(e,t,r);break;case 21:Ot(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Ot(e,t,r),ye=n):Ot(e,t,r);break;default:Ot(e,t,r)}}function ac(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Qm),t.forEach(function(n){var s=og.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Je(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:fe=a.stateNode,Xe=!1;break e;case 3:fe=a.stateNode.containerInfo,Xe=!0;break e;case 4:fe=a.stateNode.containerInfo,Xe=!0;break e}a=a.return}if(fe===null)throw Error(P(160));Ff(i,o,s),fe=null,Xe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ee(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zf(t,e),t=t.sibling}function zf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),at(e),n&4){try{Mn(3,e,e.return),zi(3,e)}catch(w){ee(e,e.return,w)}try{Mn(5,e,e.return)}catch(w){ee(e,e.return,w)}}break;case 1:Je(t,e),at(e),n&512&&r!==null&&Hr(r,r.return);break;case 5:if(Je(t,e),at(e),n&512&&r!==null&&Hr(r,r.return),e.flags&32){var s=e.stateNode;try{Gn(s,"")}catch(w){ee(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ad(s,i),Jo(a,o);var c=Jo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?fd(s,f):d==="dangerouslySetInnerHTML"?cd(s,f):d==="children"?Gn(s,f):el(s,d,f,c)}switch(a){case"input":Wo(s,i);break;case"textarea":ld(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Kr(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?Kr(s,!!i.multiple,i.defaultValue,!0):Kr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ns]=i}catch(w){ee(e,e.return,w)}}break;case 6:if(Je(t,e),at(e),n&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ee(e,e.return,w)}}break;case 3:if(Je(t,e),at(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xn(t.containerInfo)}catch(w){ee(e,e.return,w)}break;case 4:Je(t,e),at(e);break;case 13:Je(t,e),at(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ol=re())),n&4&&ac(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(c=ye)||d,Je(t,e),ye=c):Je(t,e),at(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(L=e,d=e.child;d!==null;){for(f=L=d;L!==null;){switch(g=L,y=g.child,g.tag){case 0:case 11:case 14:case 15:Mn(4,g,g.return);break;case 1:Hr(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ee(n,r,w)}}break;case 5:Hr(g,g.return);break;case 22:if(g.memoizedState!==null){uc(f);continue}}y!==null?(y.return=g,L=y):uc(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dd("display",o))}catch(w){ee(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){ee(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Je(t,e),at(e),n&4&&ac(e);break;case 21:break;default:Je(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Uf(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Gn(s,""),n.flags&=-33);var i=oc(e);ja(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=oc(e);Sa(e,a,o);break;default:throw Error(P(161))}}catch(l){ee(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xm(e,t,r){L=e,Mf(e)}function Mf(e,t,r){for(var n=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Is;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=Is;var c=ye;if(Is=o,(ye=l)&&!c)for(L=s;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?cc(s):l!==null?(l.return=o,L=l):cc(s);for(;i!==null;)L=i,Mf(i),i=i.sibling;L=s,Is=a,ye=c}lc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):lc(e)}}function lc(e){for(;L!==null;){var t=L;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||zi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ye(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qu(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ye||t.flags&512&&ka(t)}catch(g){ee(t,t.return,g)}}if(t===e){L=null;break}if(r=t.sibling,r!==null){r.return=t.return,L=r;break}L=t.return}}function uc(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var r=t.sibling;if(r!==null){r.return=t.return,L=r;break}L=t.return}}function cc(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zi(4,t)}catch(l){ee(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ee(t,s,l)}}var i=t.return;try{ka(t)}catch(l){ee(t,i,l)}break;case 5:var o=t.return;try{ka(t)}catch(l){ee(t,o,l)}}}catch(l){ee(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Zm=Math.ceil,bi=Tt.ReactCurrentDispatcher,Rl=Tt.ReactCurrentOwner,We=Tt.ReactCurrentBatchConfig,B=0,de=null,ne=null,he=0,Ie=0,qr=rr(0),ue=0,us=null,xr=0,Mi=0,Al=0,Bn=null,Ee=null,Ol=0,on=1/0,yt=null,ki=!1,Ea=null,Jt=null,$s=!1,Vt=null,Si=0,Vn=0,Na=null,Xs=-1,Zs=0;function be(){return B&6?re():Xs!==-1?Xs:Xs=re()}function Qt(e){return e.mode&1?B&2&&he!==0?he&-he:$m.transition!==null?(Zs===0&&(Zs=Sd()),Zs):(e=V,e!==0||(e=window.event,e=e===void 0?16:Rd(e.type)),e):1}function rt(e,t,r,n){if(50<Vn)throw Vn=0,Na=null,Error(P(185));hs(e,r,n),(!(B&2)||e!==de)&&(e===de&&(!(B&2)&&(Mi|=r),ue===4&&zt(e,he)),Re(e,n),r===1&&B===0&&!(t.mode&1)&&(on=re()+500,Di&&nr()))}function Re(e,t){var r=e.callbackNode;$p(e,t);var n=ai(e,e===de?he:0);if(n===0)r!==null&&wu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wu(r),t===1)e.tag===0?Im(dc.bind(null,e)):Qd(dc.bind(null,e)),Rm(function(){!(B&6)&&nr()}),r=null;else{switch(jd(n)){case 1:r=il;break;case 4:r=bd;break;case 16:r=oi;break;case 536870912:r=kd;break;default:r=oi}r=Jf(r,Bf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Bf(e,t){if(Xs=-1,Zs=0,B&6)throw Error(P(327));var r=e.callbackNode;if(Xr()&&e.callbackNode!==r)return null;var n=ai(e,e===de?he:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ji(e,n);else{t=n;var s=B;B|=2;var i=Wf();(de!==e||he!==t)&&(yt=null,on=re()+500,pr(e,t));do try{rg();break}catch(a){Vf(e,a)}while(!0);yl(),bi.current=i,B=s,ne!==null?t=0:(de=null,he=0,t=ue)}if(t!==0){if(t===2&&(s=ea(e),s!==0&&(n=s,t=Ca(e,s))),t===1)throw r=us,pr(e,0),zt(e,n),Re(e,re()),r;if(t===6)zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!eg(s)&&(t=ji(e,n),t===2&&(i=ea(e),i!==0&&(n=i,t=Ca(e,i))),t===1))throw r=us,pr(e,0),zt(e,n),Re(e,re()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(P(345));case 2:lr(e,Ee,yt);break;case 3:if(zt(e,n),(n&130023424)===n&&(t=Ol+500-re(),10<t)){if(ai(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=la(lr.bind(null,e,Ee,yt),t);break}lr(e,Ee,yt);break;case 4:if(zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Zm(n/1960))-n,10<n){e.timeoutHandle=la(lr.bind(null,e,Ee,yt),n);break}lr(e,Ee,yt);break;case 5:lr(e,Ee,yt);break;default:throw Error(P(329))}}}return Re(e,re()),e.callbackNode===r?Bf.bind(null,e):null}function Ca(e,t){var r=Bn;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=ji(e,t),e!==2&&(t=Ee,Ee=r,t!==null&&Pa(t)),e}function Pa(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function eg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~Al,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tt(t),n=1<<r;e[r]=-1,t&=~n}}function dc(e){if(B&6)throw Error(P(327));Xr();var t=ai(e,0);if(!(t&1))return Re(e,re()),null;var r=ji(e,t);if(e.tag!==0&&r===2){var n=ea(e);n!==0&&(t=n,r=Ca(e,n))}if(r===1)throw r=us,pr(e,0),zt(e,t),Re(e,re()),r;if(r===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,Ee,yt),Re(e,re()),null}function Ll(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(on=re()+500,Di&&nr())}}function _r(e){Vt!==null&&Vt.tag===0&&!(B&6)&&Xr();var t=B;B|=1;var r=We.transition,n=V;try{if(We.transition=null,V=1,e)return e()}finally{V=n,We.transition=r,B=t,!(B&6)&&nr()}}function Il(){Ie=qr.current,G(qr)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Tm(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(ml(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fi();break;case 3:nn(),G(Pe),G(we),Sl();break;case 5:kl(n);break;case 4:nn();break;case 13:G(Y);break;case 19:G(Y);break;case 10:wl(n.type._context);break;case 22:case 23:Il()}r=r.return}if(de=e,ne=e=Yt(e.current,null),he=Ie=t,ue=0,us=null,Al=Mi=xr=0,Ee=Bn=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}fr=null}return e}function Vf(e,t){do{var r=ne;try{if(yl(),Js.current=_i,xi){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xi=!1}if(wr=0,ce=le=X=null,zn=!1,os=0,Rl.current=null,r===null||r.return===null){ue=1,us=t,ne=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=he,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Xu(o);if(y!==null){y.flags&=-257,Zu(y,o,a,i,t),y.mode&1&&Yu(i,c,t),t=y,l=c;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){Yu(i,c,t),$l();break e}l=Error(P(426))}}else if(J&&a.mode&1){var b=Xu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zu(b,o,a,i,t),gl(sn(l,a));break e}}i=l=sn(l,a),ue!==4&&(ue=2),Bn===null?Bn=[i]:Bn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Ef(i,l,t);Hu(i,m);break e;case 1:a=l;var p=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Jt===null||!Jt.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Nf(i,a,t);Hu(i,_);break e}}i=i.return}while(i!==null)}qf(r)}catch(j){t=j,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function Wf(){var e=bi.current;return bi.current=_i,e===null?_i:e}function $l(){(ue===0||ue===3||ue===2)&&(ue=4),de===null||!(xr&268435455)&&!(Mi&268435455)||zt(de,he)}function ji(e,t){var r=B;B|=2;var n=Wf();(de!==e||he!==t)&&(yt=null,pr(e,t));do try{tg();break}catch(s){Vf(e,s)}while(!0);if(yl(),B=r,bi.current=n,ne!==null)throw Error(P(261));return de=null,he=0,ue}function tg(){for(;ne!==null;)Hf(ne)}function rg(){for(;ne!==null&&!Np();)Hf(ne)}function Hf(e){var t=Gf(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?qf(e):ne=t,Rl.current=null}function qf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jm(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,ne=null;return}}else if(r=Gm(r,t,Ie),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ue===0&&(ue=5)}function lr(e,t,r){var n=V,s=We.transition;try{We.transition=null,V=1,ng(e,t,r,n)}finally{We.transition=s,V=n}return null}function ng(e,t,r,n){do Xr();while(Vt!==null);if(B&6)throw Error(P(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Dp(e,i),e===de&&(ne=de=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$s||($s=!0,Jf(oi,function(){return Xr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=V;V=1;var a=B;B|=4,Rl.current=null,Ym(e,r),zf(r,e),km(oa),li=!!ia,oa=ia=null,e.current=r,Xm(r),Cp(),B=a,V=o,We.transition=i}else e.current=r;if($s&&($s=!1,Vt=e,Si=s),i=e.pendingLanes,i===0&&(Jt=null),Rp(r.stateNode),Re(e,re()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ki)throw ki=!1,e=Ea,Ea=null,e;return Si&1&&e.tag!==0&&Xr(),i=e.pendingLanes,i&1?e===Na?Vn++:(Vn=0,Na=e):Vn=0,nr(),null}function Xr(){if(Vt!==null){var e=jd(Si),t=We.transition,r=V;try{if(We.transition=null,V=16>e?16:e,Vt===null)var n=!1;else{if(e=Vt,Vt=null,Si=0,B&6)throw Error(P(331));var s=B;for(B|=4,L=e.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:Mn(8,d,i)}var f=d.child;if(f!==null)f.return=d,L=f;else for(;L!==null;){d=L;var g=d.sibling,y=d.return;if(Df(d),d===c){L=null;break}if(g!==null){g.return=y,L=g;break}L=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,L=m;break e}L=i.return}}var p=e.current;for(L=p;L!==null;){o=L;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,L=h;else e:for(o=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zi(9,a)}}catch(j){ee(a,a.return,j)}if(a===o){L=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,L=_;break e}L=a.return}}if(B=s,nr(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ai,e)}catch{}n=!0}return n}finally{V=r,We.transition=t}}return!1}function fc(e,t,r){t=sn(r,t),t=Ef(e,t,1),e=Gt(e,t,1),t=be(),e!==null&&(hs(e,1,t),Re(e,t))}function ee(e,t,r){if(e.tag===3)fc(e,e,r);else for(;t!==null;){if(t.tag===3){fc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jt===null||!Jt.has(n))){e=sn(r,e),e=Nf(t,e,1),t=Gt(t,e,1),e=be(),t!==null&&(hs(t,1,e),Re(t,e));break}}t=t.return}}function sg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(he&r)===r&&(ue===4||ue===3&&(he&130023424)===he&&500>re()-Ol?pr(e,0):Al|=r),Re(e,t)}function Kf(e,t){t===0&&(e.mode&1?(t=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):t=1);var r=be();e=Nt(e,t),e!==null&&(hs(e,t,r),Re(e,r))}function ig(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Kf(e,r)}function og(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(t),Kf(e,r)}var Gf;Gf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Ce=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ce=!1,Km(e,t,r);Ce=!!(e.flags&131072)}else Ce=!1,J&&t.flags&1048576&&Yd(t,mi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ys(e,t),e=t.pendingProps;var s=en(t,we.current);Yr(t,r),s=El(null,t,n,e,s,r);var i=Nl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(n)?(i=!0,hi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_l(t),s.updater=Fi,t.stateNode=s,s._reactInternals=t,ma(t,n,e,r),t=ya(null,t,n,!0,i,r)):(t.tag=0,J&&i&&pl(t),_e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ys(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=lg(n),e=Ye(n,e),s){case 0:t=va(null,t,n,e,r);break e;case 1:t=rc(null,t,n,e,r);break e;case 11:t=ec(null,t,n,e,r);break e;case 14:t=tc(null,t,n,Ye(n.type,e),r);break e}throw Error(P(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),va(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),rc(e,t,n,s,r);case 3:e:{if(Rf(t),e===null)throw Error(P(387));n=t.pendingProps,i=t.memoizedState,s=i.element,nf(e,t),yi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=sn(Error(P(423)),t),t=nc(e,t,n,r,s);break e}else if(n!==s){s=sn(Error(P(424)),t),t=nc(e,t,n,r,s);break e}else for($e=Kt(t.stateNode.containerInfo.firstChild),De=t,J=!0,et=null,r=tf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tn(),n===s){t=Ct(e,t,r);break e}_e(e,t,n,r)}t=t.child}return t;case 5:return sf(t),e===null&&fa(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,aa(n,s)?o=null:i!==null&&aa(n,i)&&(t.flags|=32),Tf(e,t),_e(e,t,o,r),t.child;case 6:return e===null&&fa(t),null;case 13:return Af(e,t,r);case 4:return bl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rn(t,null,n,r):_e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),ec(e,t,n,s,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,H(gi,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Pe.current){t=Ct(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=kt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ha(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ha(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Yr(t,r),s=qe(s),n=n(s),t.flags|=1,_e(e,t,n,r),t.child;case 14:return n=t.type,s=Ye(n,t.pendingProps),s=Ye(n.type,s),tc(e,t,n,s,r);case 15:return Cf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Ys(e,t),t.tag=1,Te(n)?(e=!0,hi(t)):e=!1,Yr(t,r),jf(t,n,s),ma(t,n,s,r),ya(null,t,n,!0,e,r);case 19:return Of(e,t,r);case 22:return Pf(e,t,r)}throw Error(P(156,t.tag))};function Jf(e,t){return _d(e,t)}function ag(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,r,n){return new ag(e,t,r,n)}function Dl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lg(e){if(typeof e=="function")return Dl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rl)return 11;if(e===nl)return 14}return 2}function Yt(e,t){var r=e.alternate;return r===null?(r=Ve(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ei(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Dl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $r:return mr(r.children,s,i,t);case tl:o=8,s|=8;break;case Fo:return e=Ve(12,r,t,s|2),e.elementType=Fo,e.lanes=i,e;case zo:return e=Ve(13,r,t,s),e.elementType=zo,e.lanes=i,e;case Mo:return e=Ve(19,r,t,s),e.elementType=Mo,e.lanes=i,e;case sd:return Bi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rd:o=10;break e;case nd:o=9;break e;case rl:o=11;break e;case nl:o=14;break e;case Dt:o=16,n=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ve(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function mr(e,t,r,n){return e=Ve(7,e,n,t),e.lanes=r,e}function Bi(e,t,r,n){return e=Ve(22,e,n,t),e.elementType=sd,e.lanes=r,e.stateNode={isHidden:!1},e}function Eo(e,t,r){return e=Ve(6,e,null,t),e.lanes=r,e}function No(e,t,r){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ug(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oo(0),this.expirationTimes=oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ul(e,t,r,n,s,i,o,a,l){return e=new ug(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(i),e}function cg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ir,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Qf(e){if(!e)return Zt;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var r=e.type;if(Te(r))return Jd(e,r,t)}return t}function Yf(e,t,r,n,s,i,o,a,l){return e=Ul(r,n,!0,e,s,i,o,a,l),e.context=Qf(null),r=e.current,n=be(),s=Qt(r),i=kt(n,s),i.callback=t??null,Gt(r,i,s),e.current.lanes=s,hs(e,s,n),Re(e,n),e}function Vi(e,t,r,n){var s=t.current,i=be(),o=Qt(s);return r=Qf(r),t.context===null?t.context=r:t.pendingContext=r,t=kt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gt(s,t,o),e!==null&&(rt(e,s,o,i),Gs(e,s,o)),o}function Ei(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fl(e,t){hc(e,t),(e=e.alternate)&&hc(e,t)}function dg(){return null}var Xf=typeof reportError=="function"?reportError:function(e){console.error(e)};function zl(e){this._internalRoot=e}Wi.prototype.render=zl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Vi(e,t,null,null)};Wi.prototype.unmount=zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){Vi(null,e,null,null)}),t[Et]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ft.length&&t!==0&&t<Ft[r].priority;r++);Ft.splice(r,0,e),r===0&&Td(e)}};function Ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pc(){}function fg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ei(o);i.call(c)}}var o=Yf(t,n,e,0,null,!1,!1,"",pc);return e._reactRootContainer=o,e[Et]=o.current,ts(e.nodeType===8?e.parentNode:e),_r(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Ei(l);a.call(c)}}var l=Ul(e,0,!1,null,null,!1,!1,"",pc);return e._reactRootContainer=l,e[Et]=l.current,ts(e.nodeType===8?e.parentNode:e),_r(function(){Vi(t,l,r,n)}),l}function qi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ei(o);a.call(l)}}Vi(t,o,e,s)}else o=fg(r,t,e,s,n);return Ei(o)}Ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=An(t.pendingLanes);r!==0&&(ol(t,r|1),Re(t,re()),!(B&6)&&(on=re()+500,nr()))}break;case 13:_r(function(){var n=Nt(e,1);if(n!==null){var s=be();rt(n,e,1,s)}}),Fl(e,1)}};al=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var r=be();rt(t,e,134217728,r)}Fl(e,134217728)}};Nd=function(e){if(e.tag===13){var t=Qt(e),r=Nt(e,t);if(r!==null){var n=be();rt(r,e,t,n)}Fl(e,t)}};Cd=function(){return V};Pd=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};Yo=function(e,t,r){switch(t){case"input":if(Wo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=$i(n);if(!s)throw Error(P(90));od(n),Wo(n,s)}}}break;case"textarea":ld(e,r);break;case"select":t=r.value,t!=null&&Kr(e,!!r.multiple,t,!1)}};md=Ll;gd=_r;var hg={usingClientEntryPoint:!1,Events:[ms,zr,$i,hd,pd,Ll]},En={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pg={bundleType:En.bundleType,version:En.version,rendererPackageName:En.rendererPackageName,rendererConfig:En.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wd(e),e===null?null:e.stateNode},findFiberByHostInstance:En.findFiberByHostInstance||dg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Ai=Ds.inject(pg),dt=Ds}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hg;Fe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ml(t))throw Error(P(200));return cg(e,t,null,r)};Fe.createRoot=function(e,t){if(!Ml(e))throw Error(P(299));var r=!1,n="",s=Xf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ul(e,1,!1,null,null,r,!1,n,s),e[Et]=t.current,ts(e.nodeType===8?e.parentNode:e),new zl(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=wd(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return _r(e)};Fe.hydrate=function(e,t,r){if(!Hi(t))throw Error(P(200));return qi(null,e,t,!0,r)};Fe.hydrateRoot=function(e,t,r){if(!Ml(e))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Xf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Yf(t,null,e,1,r??null,s,!1,i,o),e[Et]=t.current,ts(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Wi(t)};Fe.render=function(e,t,r){if(!Hi(t))throw Error(P(200));return qi(null,e,t,!1,r)};Fe.unmountComponentAtNode=function(e){if(!Hi(e))throw Error(P(40));return e._reactRootContainer?(_r(function(){qi(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};Fe.unstable_batchedUpdates=Ll;Fe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hi(r))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return qi(e,t,r,!1,n)};Fe.version="18.3.1-next-f1338f8080-20240426";function Zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zf)}catch(e){console.error(e)}}Zf(),Xc.exports=Fe;var mg=Xc.exports,eh,mc=mg;eh=mc.createRoot,mc.hydrateRoot;const gg="modulepreload",vg=function(e){return"/"+e},gc={},Ae=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=vg(l),l in gc)return;gc[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":gg,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((g,y)=>{f.addEventListener("load",g),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vc="popstate";function yg(e={}){function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Ta("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:cs(s)}return xg(t,r,null,e)}function Q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ge(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wg(){return Math.random().toString(36).substring(2,10)}function yc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ta(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fn(t):t,state:r,key:t&&t.key||n||wg()}}function cs({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function xg(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let b=d(),m=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:m})}function g(b,m){a="PUSH";let p=Ta(w.location,b,m);c=d()+1;let h=yc(p,c),_=w.createHref(p);try{o.pushState(h,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&l&&l({action:a,location:w.location,delta:1})}function y(b,m){a="REPLACE";let p=Ta(w.location,b,m);c=d();let h=yc(p,c),_=w.createHref(p);o.replaceState(h,"",_),i&&l&&l({action:a,location:w.location,delta:0})}function v(b){return _g(b)}let w={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(vc,f),l=b,()=>{s.removeEventListener(vc,f),l=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let m=v(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:g,replace:y,go(b){return o.go(b)}};return w}function _g(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Q(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:cs(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function th(e,t,r="/"){return bg(e,t,r,!1)}function bg(e,t,r,n){let s=typeof t=="string"?fn(t):t,i=Pt(s.pathname||"/",r);if(i==null)return null;let o=rh(e);kg(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Lg(i);a=Ag(o[l],c,n)}return a}function rh(e,t=[],r=[],n="",s=!1){let i=(o,a,l=s,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;Q(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=St([n,d.relativePath]),g=r.concat(d);o.children&&o.children.length>0&&(Q(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),rh(o.children,t,g,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:Tg(f,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of nh(o.path))i(o,a,!0,c)}),t}function nh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=nh(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function kg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Rg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Sg=/^:[\w-]+$/,jg=3,Eg=2,Ng=1,Cg=10,Pg=-2,wc=e=>e==="*";function Tg(e,t){let r=e.split("/"),n=r.length;return r.some(wc)&&(n+=Pg),t&&(n+=Eg),r.filter(s=>!wc(s)).reduce((s,i)=>s+(Sg.test(i)?jg:i===""?Ng:Cg),n)}function Rg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Ag(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ni({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),g=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Ni({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:St([i,f.pathname]),pathnameBase:Ug(St([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=St([i,f.pathnameBase]))}return o}function Ni(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Og(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:f},g)=>{if(d==="*"){let v=a[g]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[g];return f&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Og(e,t=!1,r=!0){Ge(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Lg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ge(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Ig(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fn(e):e;return{pathname:r?r.startsWith("/")?r:$g(r,t):t,search:Fg(n),hash:zg(s)}}function $g(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Co(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bl(e){let t=Dg(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Vl(e,t,r,n=!1){let s;typeof e=="string"?s=fn(e):(s={...e},Q(!s.pathname||!s.pathname.includes("?"),Co("?","pathname","search",s)),Q(!s.pathname||!s.pathname.includes("#"),Co("#","pathname","hash",s)),Q(!s.search||!s.search.includes("#"),Co("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?t[f]:"/"}let l=Ig(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var St=e=>e.join("/").replace(/\/\/+/g,"/"),Ug=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var sh=["POST","PUT","PATCH","DELETE"];new Set(sh);var Bg=["GET",...sh];new Set(Bg);var hn=x.createContext(null);hn.displayName="DataRouter";var Ki=x.createContext(null);Ki.displayName="DataRouterState";x.createContext(!1);var ih=x.createContext({isTransitioning:!1});ih.displayName="ViewTransition";var Vg=x.createContext(new Map);Vg.displayName="Fetchers";var Wg=x.createContext(null);Wg.displayName="Await";var it=x.createContext(null);it.displayName="Navigation";var vs=x.createContext(null);vs.displayName="Location";var ht=x.createContext({outlet:null,matches:[],isDataRoute:!1});ht.displayName="Route";var Wl=x.createContext(null);Wl.displayName="RouteError";function Hg(e,{relative:t}={}){Q(pn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(it),{hash:s,pathname:i,search:o}=ys(e,{relative:t}),a=i;return r!=="/"&&(a=i==="/"?r:St([r,i])),n.createHref({pathname:a,search:o,hash:s})}function pn(){return x.useContext(vs)!=null}function Rt(){return Q(pn(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(vs).location}var oh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ah(e){x.useContext(it).static||x.useLayoutEffect(e)}function ot(){let{isDataRoute:e}=x.useContext(ht);return e?s0():qg()}function qg(){Q(pn(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(hn),{basename:t,navigator:r}=x.useContext(it),{matches:n}=x.useContext(ht),{pathname:s}=Rt(),i=JSON.stringify(Bl(n)),o=x.useRef(!1);return ah(()=>{o.current=!0}),x.useCallback((l,c={})=>{if(Ge(o.current,oh),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=Vl(l,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:St([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,i,s,e])}x.createContext(null);function ys(e,{relative:t}={}){let{matches:r}=x.useContext(ht),{pathname:n}=Rt(),s=JSON.stringify(Bl(r));return x.useMemo(()=>Vl(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Kg(e,t){return lh(e,t)}function lh(e,t,r,n,s){var p;Q(pn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(it),{matches:o}=x.useContext(ht),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let h=f&&f.path||"";uh(c,!f||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let g=Rt(),y;if(t){let h=typeof t=="string"?fn(t):t;Q(d==="/"||((p=h.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${h.pathname}" was given in the \`location\` prop.`),y=h}else y=g;let v=y.pathname||"/",w=v;if(d!=="/"){let h=d.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(h.length).join("/")}let b=th(e,{pathname:w});Ge(f||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ge(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=Xg(b&&b.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:St([d,i.encodeLocation?i.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:St([d,i.encodeLocation?i.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),o,r,n,s);return t&&m?x.createElement(vs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},m):m}function Gg(){let e=n0(),t=Mg(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,o)}var Jg=x.createElement(Gg,null),Qg=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(ht.Provider,{value:this.props.routeContext},x.createElement(Wl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yg({routeContext:e,match:t,children:r}){let n=x.useContext(hn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ht.Provider,{value:e},r)}function Xg(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Q(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:g}=r,y=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,f)=>{let g,y=!1,v=null,w=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||Jg,a&&(l<0&&f===0?(uh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):l===f&&(y=!0,w=d.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),m=()=>{let p;return g?p=v:y?p=w:d.route.Component?p=x.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,x.createElement(Yg,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(Qg,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:m(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):m()},null)}function Hl(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zg(e){let t=x.useContext(hn);return Q(t,Hl(e)),t}function e0(e){let t=x.useContext(Ki);return Q(t,Hl(e)),t}function t0(e){let t=x.useContext(ht);return Q(t,Hl(e)),t}function ql(e){let t=t0(e),r=t.matches[t.matches.length-1];return Q(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function r0(){return ql("useRouteId")}function n0(){var n;let e=x.useContext(Wl),t=e0("useRouteError"),r=ql("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function s0(){let{router:e}=Zg("useNavigate"),t=ql("useNavigate"),r=x.useRef(!1);return ah(()=>{r.current=!0}),x.useCallback(async(s,i={})=>{Ge(r.current,oh),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var xc={};function uh(e,t,r){!t&&!xc[e]&&(xc[e]=!0,Ge(!1,r))}x.memo(i0);function i0({routes:e,future:t,state:r,unstable_onError:n}){return lh(e,void 0,r,n,t)}function gr({to:e,replace:t,state:r,relative:n}){Q(pn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(it);Ge(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(ht),{pathname:o}=Rt(),a=ot(),l=Vl(e,Bl(i),o,n==="path"),c=JSON.stringify(l);return x.useEffect(()=>{a(JSON.parse(c),{replace:t,state:r,relative:n})},[a,c,n,t,r]),null}function ie(e){Q(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o0({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Q(!pn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=fn(r));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:g="default"}=r,y=x.useMemo(()=>{let v=Pt(l,o);return v==null?null:{location:{pathname:v,search:c,hash:d,state:f,key:g},navigationType:n}},[o,l,c,d,f,g,n]);return Ge(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(it.Provider,{value:a},x.createElement(vs.Provider,{children:t,value:y}))}function a0({children:e,location:t}){return Kg(Ra(e),t)}function Ra(e,t=[]){let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Ra(n.props.children,i));return}Q(n.type===ie,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Q(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ra(n.props.children,i)),r.push(o)}),r}var ti="get",ri="application/x-www-form-urlencoded";function Gi(e){return e!=null&&typeof e.tagName=="string"}function l0(e){return Gi(e)&&e.tagName.toLowerCase()==="button"}function u0(e){return Gi(e)&&e.tagName.toLowerCase()==="form"}function c0(e){return Gi(e)&&e.tagName.toLowerCase()==="input"}function d0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f0(e,t){return e.button===0&&(!t||t==="_self")&&!d0(e)}function Aa(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function h0(e,t){let r=Aa(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Us=null;function p0(){if(Us===null)try{new FormData(document.createElement("form"),0),Us=!1}catch{Us=!0}return Us}var m0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Po(e){return e!=null&&!m0.has(e)?(Ge(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ri}"`),null):e}function g0(e,t){let r,n,s,i,o;if(u0(e)){let a=e.getAttribute("action");n=a?Pt(a,t):null,r=e.getAttribute("method")||ti,s=Po(e.getAttribute("enctype"))||ri,i=new FormData(e)}else if(l0(e)||c0(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?Pt(l,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||ti,s=Po(e.getAttribute("formenctype"))||Po(a.getAttribute("enctype"))||ri,i=new FormData(a,e),!p0()){let{name:c,type:d,value:f}=e;if(d==="image"){let g=c?`${c}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else c&&i.append(c,f)}}else{if(Gi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ti,n=null,s=ri,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kl(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function v0(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Pt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function y0(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w0(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function x0(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await y0(i,r);return o.links?o.links():[]}return[]}));return S0(n.flat(1).filter(w0).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _c(e,t,r,n,s,i){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,a=(l,c)=>{var d;return r[c].pathname!==l.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):i==="data"?t.filter((l,c)=>{var f;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _0(e,t,{includeHydrateFallback:r}={}){return b0(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function b0(e){return[...new Set(e)]}function k0(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function S0(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(k0(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function ch(){let e=x.useContext(hn);return Kl(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function j0(){let e=x.useContext(Ki);return Kl(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gl=x.createContext(void 0);Gl.displayName="FrameworkContext";function dh(){let e=x.useContext(Gl);return Kl(e,"You must render this element inside a <HydratedRouter> element"),e}function E0(e,t){let r=x.useContext(Gl),[n,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,g=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=m=>{m.forEach(p=>{o(p.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[e]),x.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{s(!0)},v=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Nn(a,y),onBlur:Nn(l,v),onMouseEnter:Nn(c,y),onMouseLeave:Nn(d,v),onTouchStart:Nn(f,y)}]:[!1,g,{}]}function Nn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function N0({page:e,...t}){let{router:r}=ch(),n=x.useMemo(()=>th(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(P0,{page:e,matches:n,...t}):null}function C0(e){let{manifest:t,routeModules:r}=dh(),[n,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return x0(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function P0({page:e,matches:t,...r}){let n=Rt(),{manifest:s,routeModules:i}=dh(),{basename:o}=ch(),{loaderData:a,matches:l}=j0(),c=x.useMemo(()=>_c(e,t,l,s,n,"data"),[e,t,l,s,n]),d=x.useMemo(()=>_c(e,t,l,s,n,"assets"),[e,t,l,s,n]),f=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(t.forEach(m=>{var h;let p=s.routes[m.route.id];!p||!p.hasLoader||(!c.some(_=>_.route.id===m.route.id)&&m.route.id in a&&((h=i[m.route.id])!=null&&h.shouldRevalidate)||p.hasClientLoader?w=!0:v.add(m.route.id))}),v.size===0)return[];let b=v0(e,o,"data");return w&&v.size>0&&b.searchParams.set("_routes",t.filter(m=>v.has(m.route.id)).map(m=>m.route.id).join(",")),[b.pathname+b.search]},[o,a,n,s,c,t,e,i]),g=x.useMemo(()=>_0(d,s),[d,s]),y=C0(d);return x.createElement(x.Fragment,null,f.map(v=>x.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),g.map(v=>x.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),y.map(({key:v,link:w})=>x.createElement("link",{key:v,nonce:r.nonce,...w})))}function T0(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var fh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fh&&(window.__reactRouterVersion="7.9.2")}catch{}function R0({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=yg({window:r,v5Compat:!0}));let s=n.current,[i,o]=x.useState({action:s.action,location:s.location}),a=x.useCallback(l=>{x.startTransition(()=>o(l))},[o]);return x.useLayoutEffect(()=>s.listen(a),[s,a]),x.createElement(o0,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var hh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jl=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...g},y){let{basename:v}=x.useContext(it),w=typeof c=="string"&&hh.test(c),b,m=!1;if(typeof c=="string"&&w&&(b=c,fh))try{let D=new URL(window.location.href),I=c.startsWith("//")?new URL(D.protocol+c):new URL(c),se=Pt(I.pathname,v);I.origin===D.origin&&se!=null?c=se+I.search+I.hash:m=!0}catch{Ge(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=Hg(c,{relative:s}),[h,_,j]=E0(n,g),S=I0(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function N(D){t&&t(D),D.defaultPrevented||S(D)}let T=x.createElement("a",{...g,...j,href:b||p,onClick:m||i?t:N,ref:T0(y,_),target:l,"data-discover":!w&&r==="render"?"true":void 0});return h&&!w?x.createElement(x.Fragment,null,T,x.createElement(N0,{page:p})):T});Jl.displayName="Link";var A0=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...c},d){let f=ys(o,{relative:c.relative}),g=Rt(),y=x.useContext(Ki),{navigator:v,basename:w}=x.useContext(it),b=y!=null&&M0(f)&&a===!0,m=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,p=g.pathname,h=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(p=p.toLowerCase(),h=h?h.toLowerCase():null,m=m.toLowerCase()),h&&w&&(h=Pt(h,w)||h);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let j=p===m||!s&&p.startsWith(m)&&p.charAt(_)==="/",S=h!=null&&(h===m||!s&&h.startsWith(m)&&h.charAt(m.length)==="/"),N={isActive:j,isPending:S,isTransitioning:b},T=j?t:void 0,D;typeof n=="function"?D=n(N):D=[n,j?"active":null,S?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(N):i;return x.createElement(Jl,{...c,"aria-current":T,className:D,ref:d,style:I,to:o,viewTransition:a},typeof l=="function"?l(N):l)});A0.displayName="NavLink";var O0=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=ti,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...g},y)=>{let v=F0(),w=z0(a,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&hh.test(a),p=h=>{if(l&&l(h),h.defaultPrevented)return;h.preventDefault();let _=h.nativeEvent.submitter,j=(_==null?void 0:_.getAttribute("formmethod"))||o;v(_||h.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:f})};return x.createElement("form",{ref:y,method:b,action:w,onSubmit:n?l:p,...g,"data-discover":!m&&e==="render"?"true":void 0})});O0.displayName="Form";function L0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ph(e){let t=x.useContext(hn);return Q(t,L0(e)),t}function I0(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=ot(),l=Rt(),c=ys(e,{relative:i});return x.useCallback(d=>{if(f0(d,t)){d.preventDefault();let f=r!==void 0?r:cs(l)===cs(c);a(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,c,r,n,t,e,s,i,o])}function $0(e){Ge(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Aa(e)),r=x.useRef(!1),n=Rt(),s=x.useMemo(()=>h0(n.search,r.current?null:t.current),[n.search]),i=ot(),o=x.useCallback((a,l)=>{const c=Aa(typeof a=="function"?a(new URLSearchParams(s)):a);r.current=!0,i("?"+c,l)},[i,s]);return[s,o]}var D0=0,U0=()=>`__${String(++D0)}__`;function F0(){let{router:e}=ph("useSubmit"),{basename:t}=x.useContext(it),r=r0();return x.useCallback(async(n,s={})=>{let{action:i,method:o,encType:a,formData:l,body:c}=g0(n,t);if(s.navigate===!1){let d=s.fetcherKey||U0();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function z0(e,{relative:t}={}){let{basename:r}=x.useContext(it),n=x.useContext(ht);Q(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ys(e||".",{relative:t})},o=Rt();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:St([r,i.pathname])),cs(i)}function M0(e,{relative:t}={}){let r=x.useContext(ih);Q(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ph("useViewTransitionState"),s=ys(e,{relative:t});if(!r.isTransitioning)return!1;let i=Pt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Pt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ni(s.pathname,o)!=null||Ni(s.pathname,i)!=null}const B0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ae(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ql extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class V0 extends Ql{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bc extends Ql{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kc extends Ql{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Oa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Oa||(Oa={}));var W0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class H0{constructor(t,{headers:r={},customFetch:n,region:s=Oa.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=B0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return W0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(w=>{throw new V0(w)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new bc(f);if(!f.ok)throw new kc(f);let y=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield f.json():y==="application/octet-stream"?v=yield f.blob():y==="text/event-stream"?v=f:y==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof kc||s instanceof bc?s.context:void 0}}})}}var Ne={},Yl={},Ji={},ws={},Qi={},Yi={},q0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},an=q0();const K0=an.fetch,mh=an.fetch.bind(an),gh=an.Headers,G0=an.Request,J0=an.Response,mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:gh,Request:G0,Response:J0,default:mh,fetch:K0},Symbol.toStringTag,{value:"Module"})),Q0=Vh(mn);var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});let Y0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xi.default=Y0;var vh=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yi,"__esModule",{value:!0});const X0=vh(Q0),Z0=vh(Xi);let ev=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=X0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,f=null,g=null,y=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&m&&m.length>1&&(g=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,y=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(f=[],d=null,y=200,v="OK")}catch{i.status===404&&b===""?(y=204,v="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,y=200,v="OK"),d&&this.shouldThrowOnError)throw new Z0.default(d)}return{error:d,data:f,count:g,status:y,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Yi.default=ev;var tv=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0});const rv=tv(Yi);let nv=class extends rv.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Qi.default=nv;var sv=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ws,"__esModule",{value:!0});const iv=sv(Qi);let ov=class extends iv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ws.default=ov;var av=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ji,"__esModule",{value:!0});const Cn=av(ws);let lv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Cn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Cn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Cn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ji.default=lv;var yh=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yl,"__esModule",{value:!0});const uv=yh(Ji),cv=yh(ws);let dv=class wh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new uv.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new cv.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Yl.default=dv;var gn=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const xh=gn(Yl);Ne.PostgrestClient=xh.default;const _h=gn(Ji);Ne.PostgrestQueryBuilder=_h.default;const bh=gn(ws);Ne.PostgrestFilterBuilder=bh.default;const kh=gn(Qi);Ne.PostgrestTransformBuilder=kh.default;const Sh=gn(Yi);Ne.PostgrestBuilder=Sh.default;const jh=gn(Xi);Ne.PostgrestError=jh.default;var fv=Ne.default={PostgrestClient:xh.default,PostgrestQueryBuilder:_h.default,PostgrestFilterBuilder:bh.default,PostgrestTransformBuilder:kh.default,PostgrestBuilder:Sh.default,PostgrestError:jh.default};const{PostgrestClient:hv,PostgrestQueryBuilder:rx,PostgrestFilterBuilder:nx,PostgrestTransformBuilder:sx,PostgrestBuilder:ix,PostgrestError:ox}=fv;class pv{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mv="2.15.5",gv=`realtime-js/${mv}`,vv="1.0.0",La=1e4,yv=1e3,wv=100;var Wn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wn||(Wn={}));var oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(oe||(oe={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var Ia;(function(e){e.websocket="websocket"})(Ia||(Ia={}));var cr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cr||(cr={}));class xv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Eh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const Sc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=_v(o,e,t,s),i),{})},_v=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Nh(i,o):$a(o)},Nh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jv(t,r)}switch(e){case W.bool:return bv(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return kv(t);case W.json:case W.jsonb:return Sv(t);case W.timestamp:return Ev(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return $a(t);default:return $a(t)}},$a=e=>e,bv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Nh(t,a))}return e},Ev=e=>typeof e=="string"?e.replace(" ","T"):e,Ch=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class To{constructor(t,r,n={},s=La){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jc||(jc={}));class Hn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Hn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const g=d.map(b=>b.presence_ref),y=f.map(b=>b.presence_ref),v=d.filter(b=>y.indexOf(b.presence_ref)<0),w=f.filter(b=>g.indexOf(b.presence_ref)<0);v.length>0&&(a[c]=v),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(y=>y.presence_ref),g=d.filter(y=>f.indexOf(y.presence_ref)<0);t[a].unshift(...g)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ec;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ec||(Ec={}));var qn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qn||(qn={}));var wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class Xl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new To(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Eh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hn(this),this.broadcastEndpointURL=Ch(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[qn.PRESENCE]&&this.bindings[qn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(wt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){t==null||t(wt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,m=[];for(let p=0;p<b;p++){const h=w[p],{filter:{event:_,schema:j,table:S,filter:N}}=h,T=y&&y[p];if(T&&T.event===_&&T.schema===j&&T.table===S&&T.filter===N)m.push(Object.assign(Object.assign({},h),{id:T.id}));else{this.unsubscribe(),this.state=oe.errored,t==null||t(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(wt.SUBSCRIBED);return}}).receive("error",y=>{this.state=oe.errored,t==null||t(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===oe.joined&&t===qn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new To(this,Ze.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new To(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ze;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,b;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,b,m,p,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,j=(v=y.filter)===null||v===void 0?void 0:v.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((h=r==null?void 0:r.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:w,table:b,commit_timestamp:m,type:p,errors:h}=v;g=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:m,eventType:p,new:{},old:{},errors:h}),this._getPayloadRecords(v))}y.callback(g,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xl.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Sc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Sc(t.columns,t.old_record)),r}}const Ro=()=>{},Fs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nv=[1e3,2e3,5e3,1e4],Cv=1e4,Pv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=La,this.transport=null,this.heartbeatIntervalMs=Fs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ro,this.ref=0,this.reconnectTimer=null,this.logger=Ro,this.conn=null,this.sendBuffer=[],this.serializer=new xv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ae(async()=>{const{default:a}=await Promise.resolve().then(()=>mn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ia.websocket}`,this.httpEndpoint=Ch(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vv}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wn.connecting:return cr.Connecting;case Wn.open:return cr.Open;case Wn.closing:return cr.Closing;default:return cr.Closed}}isConnected(){return this.connectionState()===cr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Xl(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Pv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:gv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Eh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:La,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Fs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ro,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>Nv[f-1]||Cv,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,g)=>g(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Zl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Rv extends Zl{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Da extends Zl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Av=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Ph=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ae(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ov=()=>Av(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ae(()=>Promise.resolve().then(()=>mn),void 0)).Response:Response}),Ua=e=>{if(Array.isArray(e))return e.map(r=>Ua(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ua(n)}),t},Lv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Sr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Ao=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Iv=(e,t,r)=>Sr(void 0,void 0,void 0,function*(){const n=yield Ov();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Rv(Ao(s),i,o))}).catch(s=>{t(new Da(Ao(s),s))}):t(new Da(Ao(e),e))}),$v=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Lv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function xs(e,t,r,n,s,i){return Sr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,$v(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Iv(l,a,n))})})}function Ci(e,t,r,n){return Sr(this,void 0,void 0,function*(){return xs(e,"GET",t,r,n)})}function ut(e,t,r,n,s){return Sr(this,void 0,void 0,function*(){return xs(e,"POST",t,n,s,r)})}function Fa(e,t,r,n,s){return Sr(this,void 0,void 0,function*(){return xs(e,"PUT",t,n,s,r)})}function Dv(e,t,r,n){return Sr(this,void 0,void 0,function*(){return xs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Th(e,t,r,n,s){return Sr(this,void 0,void 0,function*(){return xs(e,"DELETE",t,n,s,r)})}var xe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Uv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fv{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ph(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Nc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?Fa:ut)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}upload(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Nc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Fa(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Zl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}update(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}copy(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return xe(this,void 0,void 0,function*(){try{const s=yield ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}download(t,r){return xe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ci(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ae(a))return{data:null,error:a};throw a}})}info(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ci(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ua(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}exists(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Dv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n)&&n instanceof Da){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}list(t,r,n){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Uv),r),{prefix:t||""});return{data:yield ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}listV2(t,r){return xe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const zv="2.12.1",Mv={"X-Client-Info":`storage-js/${zv}`};var Cr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Bv{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Mv),r),this.fetch=Ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}getBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Cr(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Cr(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}}class Vv extends Bv{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Fv(this.url,this.headers,t,this.fetch)}}const Wv="2.57.4";let Ln="";typeof Deno<"u"?Ln="deno":typeof document<"u"?Ln="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ln="react-native":Ln="node";const Hv={"X-Client-Info":`supabase-js-${Ln}/${Wv}`},qv={headers:Hv},Kv={schema:"public"},Gv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jv={};var Qv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Yv=e=>{let t;return e?t=e:typeof fetch>"u"?t=mh:t=fetch,(...r)=>t(...r)},Xv=()=>typeof Headers>"u"?gh:Headers,Zv=(e,t,r)=>{const n=Yv(r),s=Xv();return(i,o)=>Qv(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var ey=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function ty(e){return e.endsWith("/")?e:e+"/"}function ry(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,g={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ey(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function ny(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ty(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rh="2.71.1",Or=30*1e3,za=3,Oo=za*Or,sy="http://localhost:9999",iy="supabase.auth.token",oy={"X-Client-Info":`gotrue-js/${Rh}`},Ma="X-Supabase-Api-Version",Ah={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ay=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ly=10*60*1e3;class eu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uy extends eu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function cy(e){return U(e)&&e.name==="AuthApiError"}class Oh extends eu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class sr extends eu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $t extends sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dy(e){return U(e)&&e.name==="AuthSessionMissingError"}class zs extends sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ms extends sr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bs extends sr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fy(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cc extends sr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ba extends sr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Lo(e){return U(e)&&e.name==="AuthRetryableFetchError"}class Pc extends sr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Va extends sr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tc=` 	
\r=`.split(""),hy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tc.length;t+=1)e[Tc[t].charCodeAt(0)]=-2;for(let t=0;t<Pi.length;t+=1)e[Pi[t].charCodeAt(0)]=t;return e})();function Rc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pi[n]),t.queuedBits-=6}}function Lh(e,t,r){const n=hy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ac(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{gy(o,n,r)};for(let o=0;o<e.length;o+=1)Lh(e.charCodeAt(o),s,i);return t.join("")}function py(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function my(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}py(n,t)}}function gy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function vy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Lh(e.charCodeAt(s),r,n);return new Uint8Array(t)}function yy(e){const t=[];return my(e,r=>t.push(r)),new Uint8Array(t)}function wy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Rc(s,r,n)),Rc(null,r,n),t.join("")}function xy(e){return Math.round(Date.now()/1e3)+e}function _y(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",ir={tested:!1,writable:!1},Ih=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ir.tested)return ir.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ir.tested=!0,ir.writable=!0}catch{ir.tested=!0,ir.writable=!1}return ir.writable};function by(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const $h=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ae(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ky=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},or=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lt=async(e,t)=>{await e.removeItem(t)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zi.promiseConstructor=Promise;function Io(e){const t=e.split(".");if(t.length!==3)throw new Va("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ay.test(t[n]))throw new Va("JWT not in base64url format");return{header:JSON.parse(Ac(t[0])),payload:JSON.parse(Ac(t[1])),signature:vy(t[2]),raw:{header:t[0],payload:t[1]}}}async function Sy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Ey(e){return("0"+e.toString(16)).substr(-2)}function Ny(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ey).join("")}async function Cy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Py(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Cy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(e,t,r=!1){const n=Ny();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Lr(e,`${t}-code-verifier`,s);const i=await Py(n);return[i,n===i?"plain":"s256"]}const Ty=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ry(e){const t=e.headers.get(Ma);if(!t||!t.match(Ty))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ay(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Oy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ly=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(e){if(!Ly.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $o(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Oc(e){return JSON.parse(JSON.stringify(e))}var Iy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$y=[502,503,504];async function Lc(e){var t;if(!ky(e))throw new Ba(ur(e),0);if($y.includes(e.status))throw new Ba(ur(e),e.status);let r;try{r=await e.json()}catch(i){throw new Oh(ur(i),i)}let n;const s=Ry(e);if(s&&s.getTime()>=Ah["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Pc(ur(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Pc(ur(r),e.status,r.weak_password.reasons);throw new uy(ur(r),e.status||500,n)}const Dy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ma]||(i[Ma]=Ah["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Uy(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Uy(e,t,r,n,s,i){const o=Dy(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Ba(ur(l),0)}if(a.ok||await Lc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Lc(l)}}function vt(e){var t;let r=null;By(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ic(e){const t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Fy(e){return{data:e,error:null}}function zy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Iy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function My(e){return e}function By(e){return e.access_token&&e.refresh_token&&e.expires_in}const Do=["global","local","others"];var Vy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Wy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$h(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Do[0]){if(Do.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Vy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:My});if(d.error)throw d.error;const f=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Tr(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Tr(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Tr(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Tr(t.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Tr(t.userId),Tr(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}function $c(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Hy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rr={debug:!!(globalThis&&Ih()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qy extends Dh{}async function Ky(e,t,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Hy();const Gy={url:sy,storageKey:iy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dc(e,t,r){return await r()}const Ar={};class ds{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Gy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$h(s.fetch),this.lock=s.lock||Dc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ky:this.lock=Dc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ih()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$c(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$c(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ar[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ar[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=by(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new Oh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:g}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Pr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:v},xform:vt})}else if("phone"in t){const{phone:d,password:f,options:g}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:vt})}else throw new Ms("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ic})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ic})}else throw new Ms("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,c,d,f,g,y;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:b,wallet:m,statement:p,options:h}=t;let _;if(Qe())if(typeof m=="object")_=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const j=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=h==null?void 0:h.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((f=(d=h==null?void 0:h.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...h.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:b,error:m}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:wy(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:vt});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new zs}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(U(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await or(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vt});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Pr(this.storage,this.storageKey));const{error:f}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ms("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Pr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Fy})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $t;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ms("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Oo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await or(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=$o()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Mt})})}catch(r){if(U(r))return dy(r)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Pr(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Mt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $t;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Io(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $t;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qe())throw new Bs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cc("No code detected.");const{data:p,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Bs("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let g=d+f;l&&(g=parseInt(l));const y=g-d;y*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const v=g-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(cy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=_y(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Pr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jy(async s=>(s>0&&await Sy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Lo(i)&&Date.now()+o-n<Or})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await or(this.storage,this.storageKey);if(s&&this.userStorage){let o=await or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Lr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:$o()}else if(s&&!s.user&&!s.user){const o=await or(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Lt(this.storage,this.storageKey+"-user"),await Lr(this.storage,this.storageKey,s)):s.user=$o()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Oo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Oo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Lo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return Lo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Lr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Oc(s);await Lr(this.storage,this.storageKey,i)}else{const s=Oc(r);await Lr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Or}ms, refresh threshold is ${za} ticks`),s<=za&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Pr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Io(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+ly>s)return n;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Io(n);r!=null&&r.allowExpired||Ay(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=Oy(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,yy(`${a}.${l}`)))throw new Va("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}ds.nextInstanceID=0;const Jy=ds;class Qy extends Jy{constructor(t){super(t)}}var Yy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Xy{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=ny(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Kv,realtime:Jv,auth:Object.assign(Object.assign({},Gv),{storageKey:l}),global:qv},d=ry(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Zv(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new hv(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Vv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new H0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Yy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qy({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Tv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zy=(e,t,r)=>new Xy(e,t,r);function ew(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ew()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eo="https://ypiwfedtvgmazqcwolac.supabase.co",tw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwaXdmZWR0dmdtYXpxY3dvbGFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NDYxMDIsImV4cCI6MjA3NDIyMjEwMn0.QnHPyeMBpezC-Q72fVDuRPdM5dkSYqoHC3uY_Dgsuxs",F=Zy(eo,tw),rw=async(e,t)=>{try{const{data:r,error:n}=await F.from("users_profiles").select("personal_id, email").or(`personal_id.eq.${e.trim()},email.eq.${t.trim().toLowerCase()}`).limit(1);if(n)return console.error("Error checking user existence:",n),{exists:!1,byPersonalId:!1,byEmail:!1};if(r&&r.length>0){const s=r[0];return{exists:!0,byPersonalId:s.personal_id===e.trim(),byEmail:s.email===t.trim().toLowerCase()}}return{exists:!1,byPersonalId:!1,byEmail:!1}}catch(r){return console.error("User existence check error:",r),{exists:!1,byPersonalId:!1,byEmail:!1}}},nw=async e=>{if(!e||!e.trim())return{isValid:!0,error:null};try{const{data:t,error:r}=await F.rpc("validate_volunteer_id",{p_volunteer_id:e.trim()});return r?(console.error("Volunteer ID check error:",r),{isValid:!1,error:"Failed to validate Volunteer ID"}):{isValid:t.is_valid,error:t.error}}catch(t){return console.error("Volunteer ID check exception:",t),{isValid:!1,error:"Failed to validate Volunteer ID"}}},sw=async(e,t,r,n)=>{const s=[];(!e||!e.includes("@"))&&s.push("Valid email is required"),(!t||!/^\d{14}$/.test(t.trim()))&&s.push("Personal ID must be exactly 14 digits");const i=await rw(t,e);i.exists&&(i.byPersonalId&&s.push("Personal ID already registered"),i.byEmail&&s.push("Email already registered"));let o=null;if(r&&r.trim()){const a=await nw(r);if(!a.isValid&&a.error)s.push(a.error);else if(a.isValid){const{data:l}=await iw(r);o=l}}return{isValid:s.length===0,errors:s,volunteerInfo:o}},iw=async e=>{try{const{data:t,error:r}=await F.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        role,
        volunteer_id
      `).eq("volunteer_id",e.trim()).neq("role","attendee").single();return r?(console.error("Get volunteer error:",r),{data:null,error:r}):{data:t,error:null}}catch(t){return console.error("Get volunteer exception:",t),{data:null,error:{message:t.message}}}},ow=async(e,t,r)=>{try{console.log("Starting auth user creation (two-step flow)...");const{data:n,error:s}=await F.auth.signUp({email:e.trim().toLowerCase(),password:t,options:{data:{first_name:r.first_name,last_name:r.last_name,role:r.role||"attendee"}}});if(s)return console.error("Auth user creation error:",s),{success:!1,data:null,error:{message:s.message,validationErrors:[s.message]}};if(!n.user)return console.error("No user returned from auth creation"),{success:!1,data:null,error:{message:"Failed to create user account",validationErrors:["User creation failed"]}};console.log(" Auth user created successfully:",n.user.id);const i={id:n.user.id,email:e.trim().toLowerCase(),first_name:r.first_name,last_name:r.last_name,role:r.role||"attendee",personal_id:null,phone:null,university:null,faculty:null,gender:null,nationality:null,degree_level:null,program:null,class:null,how_did_hear_about_event:null,volunteer_id:null,university_id_path:null,cv_path:null,score:0,qr_code:null,building_entry:!1,event_entry:!1,tl_team:null,profile_complete:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating profile with ID:",n.user.id),console.log("Profile data:",i);const{data:o,error:a}=await F.from("users_profiles").insert([i]).select().single();if(a)return console.error(" Profile creation error:",a),a.code==="23503"&&console.error("Foreign key constraint violation - auth user might not exist in database yet"),console.warn(" Auth user created but profile creation failed. User can complete profile later."),{success:!0,data:{user:n.user,profile:null,session:n.session},error:null};console.log(" Profile created successfully:",o);try{const{data:l,error:c}=await F.auth.signInWithPassword({email:e.trim().toLowerCase(),password:t});if(c)console.warn("Auto-signin failed:",c);else return console.log(" Auto-signin successful"),{success:!0,data:{user:l.user,profile:o,session:l.session},error:null}}catch(l){console.warn("Auto-signin exception:",l)}return{success:!0,data:{user:n.user,profile:o,session:n.session},error:null}}catch(n){return console.error(" Registration error:",n),{success:!1,data:null,error:{message:n.message||"Registration failed"}}}},aw=async(e,t,r)=>{try{console.log(" Starting volunteer registration via Edge Function...");const n=await fetch(`${eo}/functions/v1/volunteer-registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,firstName:r.first_name,lastName:r.last_name,personalId:r.personal_id,phone:r.phone,faculty:r.faculty,gender:r.gender,role:r.role,tlTeam:r.tl_team})});if(!n.ok){const i=await n.text();throw console.error("Edge function volunteer registration failed:",n.status,i),new Error("Volunteer registration service unavailable")}const s=await n.json();return s.error?{success:!1,data:null,error:{message:s.error,details:s.details,validationErrors:[s.error]}}:(console.log(" Volunteer registration via Edge Function successful"),{success:!0,data:{user:s.user,profile:s.profile,session:s.session},error:null})}catch(n){return console.error("Volunteer registration exception:",n),{success:!1,data:null,error:{message:n.message||"Volunteer registration failed"}}}},lw=async(e,t)=>{const{data:r,error:n}=await F.auth.signInWithPassword({email:e.trim().toLowerCase(),password:t});return{data:r,error:n}},uw=async e=>{const{data:t,error:r}=await F.auth.resetPasswordForEmail(e.trim().toLowerCase(),{redirectTo:`${window.location.origin}/reset-password`});return{data:t,error:r}},cw=async(e,t)=>{try{const{data:r,error:n}=await F.from("users_profiles").select("id").eq("personal_id",e.trim()).limit(1);if(n||!r||r.length===0)return{data:null,error:{message:"Personal ID not found"}};const{data:s,error:i}=await uw(t);return{data:s,error:i}}catch(r){return{data:null,error:{message:r.message||"Password reset failed"}}}},Uc=async(e,t,r)=>{var n,s,i,o;try{const l={Assets:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],cvs:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],"university-ids":["image/jpeg","image/jpg","image/png","application/pdf"]}[e]||["image/jpeg","image/jpg","image/png","application/pdf"];if(!l.includes(r.type))return{data:null,error:{message:`File type ${r.type} not allowed for ${e} bucket. Allowed types: ${l.join(", ")}`}};const c=(n=r.name.split(".").pop())==null?void 0:n.toLowerCase();if(!c)return{data:null,error:{message:"File must have a valid extension"}};const d=Date.now(),f=Math.random().toString(36).substring(2,15),g=`${d}-${f}.${c}`,y=`${t}/${g}`;console.log(`Uploading ${r.name} (${(r.size/1024).toFixed(2)}KB) to ${e}/${y}`);let v=0;const w=3;for(;v<w;)try{const{data:b,error:m}=await F.storage.from(e).upload(y,r,{cacheControl:"3600",upsert:!1});if(m){if(console.error(`Upload attempt ${v+1} failed:`,m),(s=m.message)!=null&&s.includes("already exists")||(i=m.message)!=null&&i.includes("duplicate")||(o=m.message)!=null&&o.includes("409")){const h=`${d}-${Math.random().toString(36).substring(2,15)}.${c}`,_=`${t}/${h}`,{data:j,error:S}=await F.storage.from(e).upload(_,r,{cacheControl:"3600",upsert:!1});if(S)throw S;const{data:N}=F.storage.from(e).getPublicUrl(_);return{data:{path:_,url:N.publicUrl,fileName:h},error:null}}throw m}const{data:p}=F.storage.from(e).getPublicUrl(y);return console.log("File uploaded successfully:",p.publicUrl),{data:{path:y,url:p.publicUrl,fileName:g},error:null}}catch(b){v++,console.error(`Upload attempt ${v} failed:`,b),await new Promise(m=>setTimeout(m,1e3*v))}}catch(a){return console.error("Upload function error:",a),{data:null,error:{message:`Upload failed: ${a.message}`,originalError:a}}}},ax=async(e,t)=>{try{const{data:{session:r}}=await F.auth.getSession();if(!(r!=null&&r.access_token))throw new Error("No authentication token found");const n=await fetch(`${eo}/functions/v1/process-attendance`,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({personal_id:e,action:t})}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to process attendance");return{data:s,error:null}}catch(r){return console.error("Process attendance error:",r),{data:null,error:{message:r.message}}}},lx=async e=>{try{const{data:t,error:r}=await F.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        building_entry,
        event_entry,
        created_at
      `).eq("personal_id",e.trim()).eq("role","attendee").single();return r?(console.error("Get attendee by Personal ID error:",r),{data:null,error:r}):{data:{...t,current_status:t.event_entry?"inside_event":"outside_event",building_status:t.building_entry?"inside_building":"outside_building"},error:null}}catch(t){return console.error("Get attendee by Personal ID exception:",t),{data:null,error:{message:t.message}}}},ux=async e=>{try{const{data:t,error:r}=await F.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        building_entry,
        event_entry,
        created_at
      `).eq("id",e.trim()).eq("role","attendee").single();return r?(console.error("Get attendee by UUID error:",r),{data:null,error:r}):{data:{...t,current_status:t.event_entry?"inside_event":"outside_event",building_status:t.building_entry?"inside_building":"outside_building"},error:null}}catch(t){return console.error("Get attendee by UUID exception:",t),{data:null,error:{message:t.message}}}},cx=async e=>{try{if(!e||e.trim().length<2)return{data:[],error:null};const{data:t,error:r}=await F.from("users_profiles").select(`
        id,
        first_name,
        last_name,
        email,
        phone,
        personal_id,
        role,
        university,
        faculty,
        building_entry,
        event_entry,
        created_at
      `).eq("role","attendee").ilike("personal_id",`%${e.trim()}%`).order("personal_id").limit(10);return r?(console.error("Search attendees error:",r),{data:[],error:r}):{data:(t||[]).map(s=>({...s,current_status:s.event_entry?"inside_event":"outside_event",building_status:s.building_entry?"inside_building":"outside_building"})),error:null}}catch(t){return console.error("Search attendees exception:",t),{data:[],error:{message:t.message}}}},dx=async(e,t,r)=>{try{const{data:{session:n}}=await F.auth.getSession();if(!(n!=null&&n.access_token))throw new Error("No authentication token found");const s={personal_id:e,action:t};t==="session_entry"&&r&&(s.session_id=r);const i=await fetch(`${eo}/functions/v1/process-building-attendance`,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await i.json();if(!i.ok)throw new Error(o.error||"Failed to process attendance");return{data:o,error:null}}catch(n){return console.error("Process building attendance error:",n),{data:null,error:{message:n.message}}}},fx=async()=>{try{const{data:e,error:t}=await F.from("sessions").select(`
        id,
        title,
        description,
        speaker,
        start_time,
        end_time,
        location,
        capacity,
        current_attendees,
        max_attendees,
        current_bookings,
        session_type,
        created_at
      `).order("start_time",{ascending:!0});return t?(console.error("Get sessions error:",t),{data:[],error:t}):{data:e||[],error:null}}catch(e){return console.error("Get sessions exception:",e),{data:[],error:{message:e.message}}}};async function hx(){try{const{count:e}=await F.from("users_profiles").select("*",{count:"exact",head:!0}).eq("role","attendee"),{count:t}=await F.from("users_profiles").select("*",{count:"exact",head:!0}).eq("building_entry",!0).eq("role","attendee"),{count:r}=await F.from("users_profiles").select("*",{count:"exact",head:!0}).eq("event_entry",!0).eq("role","attendee");return{data:{inside_building:t||0,inside_event:r||0,total_attendees:e||0},error:null}}catch(e){return console.error("Error in getDynamicBuildingStats:",e),{data:null,error:e}}}const px=async e=>{try{const{data:t,error:r}=await F.from("companies").select("logo_url").eq("id",e).single();if(r)return console.error("Error fetching company for deletion:",r),{data:null,error:r};const{data:n,error:s}=await F.from("companies").delete().eq("id",e).select();return s?(console.error("Error deleting company:",s),{data:null,error:s}):(t!=null&&t.logo_url&&await dw(t.logo_url),{data:n,error:null})}catch(t){return console.error("Delete company exception:",t),{data:null,error:{message:t.message}}}},Fc=async e=>{if(!(!e||e.length===0)){console.log(` Cleaning up ${e.length} uploaded files...`);for(const t of e)try{const{error:r}=await F.storage.from(t.bucket).remove([t.path]);r?console.warn(`Could not delete file ${t.path}:`,r):console.log(` Deleted file: ${t.path}`)}catch(r){console.warn(`Error cleaning up file ${t.path}:`,r)}}},dw=async e=>{try{if(!e.includes("supabase.co/storage/v1/object/public/Assets/")){console.log("Logo is external URL, skipping file deletion");return}let t=null;if(e.includes("/Assets/")){const r=e.split("/Assets/");t=r[r.length-1]}else if(e.includes("company-logos/")){const r=e.split("/"),n=r.findIndex(s=>s==="Assets");n!==-1&&(t=r.slice(n+1).join("/"))}if(t){console.log("Attempting to delete logo file:",t);const{error:r}=await F.storage.from("Assets").remove([t]);r?console.warn("Failed to delete logo file:",r):console.log("Logo file deleted successfully")}else console.warn("Could not extract file path from logo URL:",e)}catch(t){console.warn("Error deleting logo file:",t)}},mx=async e=>{try{const{data:t,error:r}=await F.from("users_profiles").select("score, role").eq("id",e).single();if(r)return console.error("Error fetching user profile:",r),{data:null,error:r};let n=F.from("users_profiles").select("id, score").order("score",{ascending:!1});t.role==="attendee"?n=n.eq("role","attendee"):t.role!=="admin"&&(n=n.not("role","in",'("attendee","admin")'));const{data:s,error:i}=await n;if(i)return console.error("Error fetching ranking:",i),{data:null,error:i};const o=(s==null?void 0:s.findIndex(l=>l.id===e))+1||0,a=(s==null?void 0:s.length)||0;return{data:{score:t.score||0,rank:o,total_users:a},error:null}}catch(t){return console.error("Get user ranking exception:",t),{data:null,error:{message:t.message}}}},gx=async(e,t=5)=>{try{const{data:r,error:n}=await F.from("user_scores").select(`
        id,
        points,
        activity_type,
        activity_description,
        awarded_at
      `).eq("user_id",e).order("awarded_at",{ascending:!1}).limit(t);return n?(console.error("Error fetching recent activities:",n),{data:[],error:n}):{data:r||[],error:null}}catch(r){return console.error("Get recent activities exception:",r),{data:[],error:{message:r.message}}}},Uh=x.createContext(void 0),fw=({children:e})=>{const[t,r]=x.useState(null),[n,s]=x.useState(null),[i,o]=x.useState(!0),[a,l]=x.useState(!1),[c,d]=x.useState(!1),[f,g]=x.useState(""),y=x.useRef(!1),v=x.useRef(null),w=x.useCallback(O=>{try{if(typeof Storage<"u"){sessionStorage.setItem("user_profile",JSON.stringify(O));const E={hasAuth:!!O,role:O==null?void 0:O.role,profileComplete:(O==null?void 0:O.profile_complete)||!1,timestamp:Date.now()};sessionStorage.setItem("registration_state",JSON.stringify(E))}}catch(E){console.warn("Could not save profile to session storage:",E)}},[]);x.useCallback(()=>{try{if(typeof Storage<"u"){const O=sessionStorage.getItem("user_profile");return O?JSON.parse(O):null}}catch(O){console.warn("Could not read profile from session storage:",O)}return null},[]);const b=x.useCallback(()=>{try{if(typeof Storage<"u"){const O=sessionStorage.getItem("registration_state");return O?JSON.parse(O):null}}catch(O){console.warn("Could not read registration state from session storage:",O)}return null},[]),m=x.useCallback(O=>{try{typeof Storage<"u"&&sessionStorage.setItem("registration_state",JSON.stringify({...O,timestamp:Date.now()}))}catch(E){console.warn("Could not save registration state:",E)}},[]),p=x.useCallback(()=>{try{typeof Storage<"u"&&(sessionStorage.removeItem("user_profile"),sessionStorage.removeItem("registration_state"))}catch(O){console.warn("Could not clear profile from session storage:",O)}},[]),h=x.useCallback((O,E)=>{if(!O)return!1;const R=E||O.role;return O.profile_complete?!0:R==="attendee"?!!(O.personal_id&&O.university):R?!!(O.personal_id&&O.phone):!1},[]),_=x.useCallback(async(O,E=3)=>{console.log(` Fetching profile for user: ${O}`);for(let R=1;R<=E;R++)try{console.log(`Attempt ${R}/${E}`);const{data:k,error:C}=await F.from("users_profiles").select("*").eq("id",O).single();if(C){if(console.log(`Profile fetch error (attempt ${R}):`,C.message),C.code==="PGRST116"){console.log(" No profile found - user needs to complete registration");const A={hasAuth:!0,role:null,profileComplete:!1,needsRegistration:!0,timestamp:Date.now()};return m(A),s(null),null}if(R===E)return console.log(" Profile fetch failed after retries"),s(null),null;await new Promise(A=>setTimeout(A,1e3*R));continue}if(k)return console.log(" Profile fetched successfully:",{id:k.id,role:k.role,profile_complete:k.profile_complete}),s(k),w(k),k}catch(k){if(console.error(`Profile fetch exception (attempt ${R}):`,k),R===E)return s(null),null;await new Promise(C=>setTimeout(C,1e3*R))}return console.log(" Profile fetch failed after all retries"),s(null),null},[w,m]),j=x.useCallback(async(O,E)=>{var R,k;if(console.log(" Auth state change:",O,(R=E==null?void 0:E.user)==null?void 0:R.id),y.current&&O==="SIGNED_IN"&&(t==null?void 0:t.id)===((k=E==null?void 0:E.user)==null?void 0:k.id)){console.log(" Duplicate SIGNED_IN event, skipping...");return}try{E!=null&&E.user?(console.log(" User authenticated:",E.user.id),r(E.user),l(!0),_(E.user.id).then(C=>{console.log(C?" Profile loaded during auth state change":" No profile found during auth state change - user needs registration"),o(!1)}).catch(C=>{console.error(" Profile fetch error during auth state change:",C),o(!1)})):(console.log(" User signed out"),r(null),s(null),p(),l(!0),o(!1))}catch(C){console.error(" Auth state change error:",C),r(null),s(null),l(!0),o(!1)}},[_,p,t]);x.useEffect(()=>{if(y.current){console.log(" Auth already initialized, skipping...");return}y.current=!0;let O=!0;if((async()=>{try{console.log(" Initializing authentication...");const{data:{session:R},error:k}=await F.auth.getSession();if(k){console.error(" Error getting session:",k),O&&(r(null),s(null),p(),l(!0),o(!1));return}R!=null&&R.user&&O?(console.log(" Found existing session for user:",R.user.id),r(R.user),l(!0),await _(R.user.id),O&&o(!1)):(console.log(" No existing session found"),O&&(r(null),s(null),p(),l(!0),o(!1)))}catch(R){console.error(" Auth initialization error:",R),O&&(r(null),s(null),p(),l(!0),o(!1))}})(),!v.current){console.log(" Setting up auth state change listener...");const{data:{subscription:R}}=F.auth.onAuthStateChange(j);v.current=R}return()=>{O=!1}},[j,_,p]);const S=x.useCallback((O,E)=>{const R=O||(n==null?void 0:n.role),k=E??(n==null?void 0:n.profile_complete);if(console.log(" getRoleBasedRedirect called:",{role:R,profileComplete:k,hasProfile:!!n}),!k)return R==="attendee"?"/attendee-register":"/V0lunt33ringR3g";switch(R){case"admin":return"/secure-9821panel";case"sadmin":return"/super-ctrl-92k1x";case"team_leader":return"/teamleader";case"registration":return"/regteam";case"building":return"/buildteam";case"info_desk":return"/infodesk";case"attendee":return"/attendee";case"volunteer":case"ushers":case"marketing":case"media":case"ER":case"BD team":case"catering":case"feedback":case"stage":return"/volunteer";default:return console.warn("Unknown role for redirect:",R),"/V0lunt33ringR3g"}},[n==null?void 0:n.role,n==null?void 0:n.profile_complete]),N=async(O,E,R)=>{var k;try{console.log(" Starting registration..."),d(!0),g("Creating your account...");const C=await ow(O,E,R);if(console.log("Registration result:",C),C.success&&((k=C.data)!=null&&k.user)){console.log(" Registration successful"),r(C.data.user),console.log("Attempting to fetch profile after signup...");const A=await _(C.data.user.id,5);g("Account created successfully!");let te="/V0lunt33ringR3g";return(A==null?void 0:A.role)==="attendee"&&(te="/attendee-register"),console.log(" Registration redirect path:",te,{role:A==null?void 0:A.role}),{success:!0,data:C.data,redirectPath:te}}else return console.error("Registration failed:",C.error),{success:!1,error:C.error}}catch(C){return console.error("Registration exception:",C),{success:!1,error:{message:C.message||"Registration failed"}}}finally{d(!1)}},T=async(O,E,R)=>{var k,C;try{console.log(" Starting volunteer registration via Edge Function..."),d(!0),g("Creating your volunteer account...");const A=await aw(O,E,R);if(A.error)return console.error("Volunteer registration failed:",A.error),g("Volunteer registration failed. Please try again."),{success:!1,error:A.error};if(console.log(" Volunteer registration successful via Edge Function"),g("Volunteer account created! Loading profile..."),(C=(k=A.data)==null?void 0:k.user)!=null&&C.id){r(A.data.user);const te={hasAuth:!0,role:null,profileComplete:!1,needsVolunteerRegistration:!0,timestamp:Date.now()};m(te),A.data.profile?(s(A.data.profile),w(A.data.profile)):(console.log("Attempting to fetch volunteer profile..."),await _(A.data.user.id,3))}return g("Volunteer account created successfully!"),{success:!0,data:A.data,redirectPath:"/V0lunt33ringR3g"}}catch(A){return console.error("Volunteer registration exception:",A),g("Volunteer registration failed. Please try again."),{success:!1,error:{message:A.message||"Volunteer registration failed"}}}finally{d(!1)}},D=async(O,E)=>{var R;try{console.log(" Starting sign in..."),d(!0),g("Signing you in...");const{data:k,error:C}=await lw(O,E);if(C)return console.error("Sign in failed:",C),g("Sign in failed. Please check your credentials."),{success:!1,error:C};if(console.log(" Sign in successful"),g("Success! Loading profile..."),(R=k==null?void 0:k.user)!=null&&R.id){r(k.user);const A=await _(k.user.id,5);g("Sign in successful!");const te=S(A==null?void 0:A.role,A==null?void 0:A.profile_complete);return console.log(" Sign in redirect path:",te,{hasProfile:!!A,profileRole:A==null?void 0:A.role,profileComplete:A==null?void 0:A.profile_complete}),{success:!0,redirectPath:te}}return{success:!0,redirectPath:"/V0lunt33ringR3g"}}catch(k){return console.error("Sign in exception:",k),g("Sign in failed. Please try again."),{success:!1,error:{message:k.message||"Sign in failed"}}}finally{d(!1)}},I=async()=>{try{console.log(" Signing out..."),o(!0);const{error:O}=await F.auth.signOut();O?console.error("Sign out error:",O):console.log(" Signed out successfully"),p(),r(null),s(null)}catch(O){console.error("Sign out exception:",O),p(),r(null),s(null)}finally{o(!1)}},se=x.useCallback(async()=>{t!=null&&t.id&&(console.log(" Manually refreshing profile..."),await _(t.id))},[t==null?void 0:t.id,_]),pt=x.useCallback(()=>{d(!1),g("")},[]),mt=async(O,E,R)=>await sw(O,E,R),jr=x.useCallback(O=>n!=null&&n.role?Array.isArray(O)?O.includes(n.role):n.role===O:!1,[n==null?void 0:n.role]),$=x.useCallback(()=>b(),[b]),At=!!t&&a;return console.log(" Auth Context State:",{hasUser:!!t,hasProfile:!!n,loading:i,sessionLoaded:a,isAuthenticated:At,userRole:n==null?void 0:n.role,profileComplete:h(n),registrationState:$()}),u.jsx(Uh.Provider,{value:{user:t,profile:n,loading:i,sessionLoaded:a,isAuthenticated:At,authActionLoading:c,authActionMessage:f,signUp:N,signUpVolunteer:T,signIn:D,signOut:I,hasRole:jr,getRoleBasedRedirect:S,validateRegistration:mt,refreshProfile:se,clearAuthAction:pt,isProfileComplete:h,getRegistrationState:$,setRegistrationState:m},children:e})},vn=()=>{const e=x.useContext(Uh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),je=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>x.createElement("svg",{ref:d,...hw,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${pw(e)}`,a].join(" "),...c},[...t.map(([f,g])=>x.createElement(f,g)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=je("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=je("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=je("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_w=()=>{const e=ot();$0();const[t,r]=x.useState({password:"",confirmPassword:""}),[n,s]=x.useState([]),[i,o]=x.useState(!1),[a,l]=x.useState(!1),[c,d]=x.useState(!1),[f,g]=x.useState(!1),[y,v]=x.useState(null);x.useEffect(()=>{(async()=>{const _=new URLSearchParams(window.location.hash.substring(1)),j=_.get("access_token"),S=_.get("refresh_token");if(_.get("type")!=="recovery"||!j||!S){v(!1);return}try{const{data:T,error:D}=await F.auth.setSession({access_token:j,refresh_token:S});D?(console.error("Token validation error:",D),v(!1)):v(!0)}catch(T){console.error("Session setup error:",T),v(!1)}})()},[]);const w=h=>{const _=[];return h.length<8&&_.push("Password must be at least 8 characters long"),/(?=.*[a-z])/.test(h)||_.push("Password must contain at least one lowercase letter"),/(?=.*[A-Z])/.test(h)||_.push("Password must contain at least one uppercase letter"),/(?=.*\d)/.test(h)||_.push("Password must contain at least one number"),/(?=.*[@$!%*?&])/.test(h)||_.push("Password must contain at least one special character"),_},b=()=>{const h=[],_=w(t.password);return h.push(..._),t.confirmPassword?t.password!==t.confirmPassword&&h.push("Passwords do not match"):h.push("Please confirm your password"),h},m=async h=>{h.preventDefault();const _=b();if(_.length>0){s(_);return}o(!0),s([]);try{const{error:j}=await F.auth.updateUser({password:t.password});if(j){s([j.message]);return}l(!0),setTimeout(()=>{e("/login")},3e3)}catch{s(["Password reset failed. Please try again."])}finally{o(!1)}},p=(h,_)=>{r(j=>({...j,[h]:_})),n.length>0&&s([])};return y===null?u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md p-8 text-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Validating reset link..."})]})})]}):y===!1?u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-red-100 w-full max-w-md p-8 text-center",children:[u.jsx(er,{className:"mx-auto h-16 w-16 text-red-500 mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Reset Link"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired. Please request a new password reset."}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>e("/forgot-password"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Request New Reset Link"}),u.jsxs("button",{onClick:()=>e("/login"),className:"w-full flex items-center justify-center space-x-2 text-orange-600 hover:text-orange-700 font-medium py-2 transition-colors",children:[u.jsx(Wa,{className:"h-4 w-4"}),u.jsx("span",{children:"Back to Login"})]})]})]})})]}):a?u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-green-100 w-full max-w-md p-8 text-center",children:[u.jsx(yn,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset Successful"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully updated. You will be redirected to the login page shortly."}),u.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Go to Login"})]})})]}):u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-6 text-center",children:[u.jsx(Fh,{className:"mx-auto h-12 w-12 text-white mb-3"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Set New Password"}),u.jsx("p",{className:"text-orange-100",children:"Enter your new password below"})]}),u.jsxs("form",{onSubmit:m,className:"p-8",children:[n.length>0&&u.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg mb-6",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx(er,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),u.jsx("div",{className:"flex-1",children:n.length===1?u.jsx("p",{className:"text-red-700",children:n[0]}):u.jsxs("div",{children:[u.jsx("p",{className:"text-red-700 font-medium mb-1",children:"Please fix the following errors:"}),u.jsx("ul",{className:"text-red-600 text-sm space-y-1",children:n.map((h,_)=>u.jsxs("li",{children:[" ",h]},_))})]})})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:c?"text":"password",value:t.password,onChange:h=>p("password",h.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"Enter your new password",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c?u.jsx(Ha,{className:"h-5 w-5"}):u.jsx(qa,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:f?"text":"password",value:t.confirmPassword,onChange:h=>p("confirmPassword",h.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"Confirm your new password",required:!0}),u.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?u.jsx(Ha,{className:"h-5 w-5"}):u.jsx(qa,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Requirements:"}),u.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[u.jsx("li",{children:" At least 8 characters long"}),u.jsx("li",{children:" Contains uppercase and lowercase letters"}),u.jsx("li",{children:" Contains at least one number"}),u.jsx("li",{children:" Contains at least one special character (@$!%*?&)"})]})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Updating Password..."})]}):"Update Password"}),u.jsxs("button",{type:"button",onClick:()=>e("/login"),className:"w-full flex items-center justify-center space-x-2 text-orange-600 hover:text-orange-700 font-medium py-2 transition-colors",children:[u.jsx(Wa,{className:"h-4 w-4"}),u.jsx("span",{children:"Back to Login"})]})]})]})]})})]})},ln=(e,t)=>e.trim()?e.trim().length<2?`${t} must be at least 2 characters long`:/^[a-zA-Z\s]+$/.test(e.trim())?null:`${t} must contain only letters and spaces`:`${t} is required`,ru=e=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())?null:"Please enter a valid email address":"Email is required",bw=e=>{if(!e.trim())return"Phone number is required";const t=/^(010|011|012|015)\d{8}$/,r=e.replace(/\D/g,"");return t.test(r)?null:"Please enter a valid Egyptian phone number (01X-XXXXXXXX)"},kw=e=>e.trim()?e.trim().length!==14?"Personal ID must be exactly 14 digits":/^\d{14}$/.test(e.trim())?null:"Personal ID must contain only numbers":"Personal ID is required",nu=e=>e?e.length<6?"Password must be at least 6 characters long":null:"Password is required",Mh=(e,t)=>t?e!==t?"Passwords do not match":null:"Please confirm your password",Sw=e=>!e||!e.trim()||/^[A-Z]{2,6}\d{2,4}$/.test(e.trim())?null:"Volunteer ID must be in valid format (e.g., REG01, VOL15, TLDR02)",jw=()=>{const e=ot(),{signIn:t,isAuthenticated:r,getRoleBasedRedirect:n,loading:s,profile:i,user:o,isProfileComplete:a}=vn(),[l,c]=x.useState({email:"",password:""}),[d,f]=x.useState(!1),[g,y]=x.useState([]),[v,w]=x.useState(!1),[b,m]=x.useState(!1);x.useEffect(()=>{if(r&&!s&&i)if(console.log(" Login successful, checking profile status:",{role:i.role,profileComplete:i.profile_complete,isProfileComplete:a(i)}),i.profile_complete){const S=n();console.log(" Profile complete, redirecting to dashboard:",S),e(S,{replace:!0})}else{let S="/attendee-register";i.role==="volunteer"?S="/V0lunt33ringR3g":i.role==="attendee"&&(S="/attendee-register"),console.log(" Profile incomplete, redirecting to registration:",S),e(S,{replace:!0})}},[r,i,s,e,n,a]);const p=(S,N)=>{c(T=>({...T,[S]:N})),y(T=>T.filter(D=>D.field!==S))},h=()=>{const S=[],N=ru(l.email);N&&S.push({field:"email",message:N});const T=nu(l.password);return T&&S.push({field:"password",message:T}),S},_=async S=>{var T;S.preventDefault();const N=h();if(N.length>0){y(N);return}w(!0),y([]);try{console.log(" Starting login process...");const D=await t(l.email,l.password);if(!D.success){console.error(" Login failed:",D.error),y([{field:"general",message:((T=D.error)==null?void 0:T.message)||"Invalid email or password"}]);return}console.log(" Login successful, setting success flag"),m(!0)}catch(D){console.error(" Login exception:",D),y([{field:"general",message:D.message||"Login failed. Please try again."}])}finally{w(!1)}},j=S=>{var N;return(N=g.find(T=>T.field===S))==null?void 0:N.message};return s?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center fade-in-scale",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):b&&r?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center fade-in-scale",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Login successful! Checking your profile..."})]})}):u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("/images/careercenter.png")'},children:u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md overflow-hidden fade-in-up-blur modal-content-blur",children:[u.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4 text-center fade-in-blur",children:[u.jsx("div",{className:"mx-auto w-28 h-28 bg-white rounded-full flex items-center justify-center mb-2 shadow-lg fade-in-scale",children:u.jsx("img",{src:"/images/logo.png",alt:"ASU Career Week Logo",className:"w-24 h-24 rounded-full object-cover"})}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-orange-100",children:"Sign in to ASU Career Week"})]}),u.jsxs("form",{onSubmit:_,className:"p-8 stagger-children",children:[j("general")&&u.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex items-center space-x-2 mb-6 fade-in-blur",children:[u.jsx(er,{className:"h-5 w-5 text-red-600"}),u.jsx("p",{className:"text-red-700",children:j("general")})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{type:"email",value:l.email,onChange:S=>p("email",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${j("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email address"}),j("email")&&u.jsx("p",{className:"text-sm text-red-600 mt-2",children:j("email")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:d?"text":"password",value:l.password,onChange:S=>p("password",S.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${j("password")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),u.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-orange-600 transition-colors",children:d?u.jsx(Ha,{className:"h-5 w-5"}):u.jsx(qa,{className:"h-5 w-5"})})]}),j("password")&&u.jsx("p",{className:"text-sm text-red-600 mt-2",children:j("password")})]}),u.jsx("div",{className:"text-right fade-in-blur",children:u.jsx("button",{type:"button",onClick:()=>e("/forgot-password"),className:"text-sm text-orange-600 hover:text-orange-700 hover:underline font-medium transition-colors",children:"Forgot Password?"})}),u.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed fade-in-blur smooth-hover",children:v?u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Signing In..."})]}):"Sign In"}),u.jsxs("div",{className:"text-center pt-4 border-t border-gray-200 space-y-2 fade-in-blur",children:[u.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",u.jsx("button",{type:"button",onClick:()=>e("/auth-register"),className:"text-orange-600 hover:text-orange-700 font-medium hover:underline transition-colors",children:"Create Attendee Account"})]}),u.jsxs("p",{className:"text-gray-600",children:["Want to volunteer?"," ",u.jsx("button",{type:"button",onClick:()=>e("/volunteer-auth-register"),className:"text-orange-600 hover:text-orange-700 font-medium hover:underline transition-colors",children:"Register as Volunteer"})]})]})]})]})]})})]})},Ew=["Faculty of Engineering","Faculty of Medicine","Faculty of Commerce","Faculty of Law","Faculty of Arts","Faculty of Science","Faculty of Pharmacy","Faculty of Dentistry","Faculty of Veterinary Medicine","Faculty of Agriculture","Faculty of Education","Faculty of Nursing","Faculty of Computer and Information Sciences","Faculty of Economics and Political Science","Faculty of Mass Communication","Faculty of Physical Education","Faculty of Fine Arts","Faculty of Music Education","Faculty of Archaeology","Faculty of Social Work","Faculty of Tourism and Hotels","Faculty of Languages","Faculty of Business Administration","Faculty of Applied Arts","Other"],Nw=[{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"},{value:"5",label:"5th Year"}],Cw=[{value:"linkedin",label:"LinkedIn"},{value:"facebook",label:"Facebook"},{value:"instagram",label:"Instagram"},{value:"friends",label:"Friends"},{value:"banners_in_street",label:"Banners in Street"},{value:"information_session_at_faculty",label:"Information Session at Faculty"},{value:"campus_marketing",label:"Campus Marketing"},{value:"other",label:"Other"}],Pw=["Ain Shams University","Other"],Tw=({isLoading:e,message:t})=>e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md mx-4 shadow-xl",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Authentication in Progress"}),u.jsx("p",{className:"text-gray-600",children:t}),u.jsxs("div",{className:"mt-4 flex justify-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})}):null,Rw=({message:e,onClose:t,type:r="error"})=>(x.useEffect(()=>{const n=setTimeout(()=>{t()},5e3);return()=>clearTimeout(n)},[t]),u.jsx("div",{className:"fixed top-4 right-4 z-50 animate-fade-in",children:u.jsx("div",{className:`rounded-lg shadow-lg border p-4 max-w-sm ${r==="error"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:`flex-shrink-0 ${r==="error"?"text-red-600":"text-yellow-600"}`,children:u.jsx(er,{className:"w-5 h-5"})}),u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:`text-sm font-medium ${r==="error"?"text-red-800":"text-yellow-800"}`,children:e})}),u.jsx("button",{onClick:t,className:`flex-shrink-0 hover:opacity-70 transition-opacity ${r==="error"?"text-red-600":"text-yellow-600"}`,children:u.jsx(xw,{className:"w-4 h-4"})})]})})})),zc=({accept:e,maxSize:t,onFileSelect:r,onFileRemove:n,label:s,currentFile:i,required:o=!1})=>{const a=l=>{var d;const c=(d=l.target.files)==null?void 0:d[0];if(c){if(c.size>t){alert(`File size must be less than ${Math.round(t/1024/1024)}MB`);return}r(c)}};return u.jsx("div",{className:"space-y-2 fade-in-blur",children:u.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-all duration-300 ${i?"border-green-200 bg-green-50 transform hover:scale-[1.02]":"border-orange-200 hover:border-orange-300"}`,children:i?u.jsxs("div",{className:"flex items-center justify-center space-x-3 fade-in-scale",children:[u.jsx(yn,{className:"w-5 h-5 text-green-600"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.name}),u.jsx("button",{type:"button",onClick:n,className:"text-red-600 hover:text-red-800 transition-colors duration-200",children:"Remove"})]}):u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("input",{type:"file",accept:e,onChange:a,className:"hidden",id:`file-${s.replace(/\s+/g,"-").toLowerCase()}`,required:o}),u.jsxs("label",{htmlFor:`file-${s.replace(/\s+/g,"-").toLowerCase()}`,className:"cursor-pointer text-sm font-medium text-orange-600 hover:text-orange-700 transition-colors duration-200 smooth-hover",children:[s," ",o?"*":"(Optional)"]})]})})})},Aw=()=>{const e=ot(),{user:t,profile:r,isAuthenticated:n,loading:s,getRoleBasedRedirect:i,refreshProfile:o}=vn(),[a,l]=x.useState(1),[c,d]=x.useState({firstName:"",lastName:"",gender:"",nationality:"",email:"",phone:"",personalId:"",university:"",customUniversity:"",faculty:"",degreeLevel:"",program:"",classYear:"",howDidYouHear:"",volunteerId:"",password:"",confirmPassword:""}),[f,g]=x.useState({}),[y,v]=x.useState([]),[w,b]=x.useState(!1),[m,p]=x.useState(!1),[h,_]=x.useState(!1),[j,S]=x.useState(null),N=[{id:1,title:"Personal Information",icon:tu},{id:2,title:"Academic Information",icon:vw},{id:3,title:"Event & Documents",icon:gw}],T=(k,C="error")=>{S({message:k,type:C})},D=()=>{S(null)};x.useEffect(()=>{(async()=>{if(!s){if(!n){console.log("Not authenticated, redirecting to login"),e("/login",{replace:!0});return}if(t&&!r)if(console.log("User authenticated but profile not loaded, attempting to fetch..."),await o(),r)console.log("Profile found after refresh:",{role:r.role,profile_complete:r.profile_complete});else{console.log("Profile still not found - user needs to complete registration");return}r&&r.profile_complete?(console.log("Profile already complete (profile_complete=true), redirecting to dashboard"),e(i(),{replace:!0})):r&&(console.log("Profile exists but profile_complete=false, staying on registration form"),r.first_name&&!c.firstName&&d(C=>({...C,firstName:r.first_name})),r.last_name&&!c.lastName&&d(C=>({...C,lastName:r.last_name})),r.email&&!c.email&&d(C=>({...C,email:r.email})))}})()},[n,r,s,e,i,t,o,c.firstName,c.lastName,c.email]),x.useEffect(()=>{t&&r&&(console.log("Profile loaded, updating form data:",{firstName:r.first_name,lastName:r.last_name,email:r.email}),d(k=>({...k,firstName:r.first_name||k.firstName,lastName:r.last_name||k.lastName,email:r.email||k.email,...r.personal_id&&{personalId:r.personal_id},...r.phone&&{phone:r.phone},...r.university&&{university:r.university},...r.faculty&&{faculty:r.faculty},...r.gender&&{gender:r.gender},...r.nationality&&{nationality:r.nationality}})))},[t,r]),x.useEffect(()=>{const k=setTimeout(()=>{s&&(console.warn("Auth loading timeout - forcing state"),n&&t&&console.log("Timeout: User is authenticated, allowing registration form"))},1e4);return()=>clearTimeout(k)},[s,n,t]);const I=(k,C)=>{d(A=>({...A,[k]:C})),v(A=>A.filter(te=>te.field!==k))},se=async k=>{const C=[];if(k===1){const A=ln(c.firstName,"First name");A&&C.push({field:"firstName",message:A});const te=ln(c.lastName,"Last name");te&&C.push({field:"lastName",message:te}),c.gender||C.push({field:"gender",message:"Gender is required"}),c.nationality||C.push({field:"nationality",message:"Nationality is required"});const Oe=bw(c.phone);Oe&&C.push({field:"phone",message:Oe});const me=kw(c.personalId);me&&C.push({field:"personalId",message:me})}if(k===2&&(c.university||C.push({field:"university",message:"University is required"}),c.faculty||C.push({field:"faculty",message:"Faculty is required"}),c.degreeLevel||C.push({field:"degreeLevel",message:"Degree level is required"}),c.program||C.push({field:"program",message:"Program/Major is required"}),c.degreeLevel==="student"&&!c.classYear&&C.push({field:"classYear",message:"Class year is required for students"})),k===3){if(c.howDidYouHear||C.push({field:"howDidYouHear",message:"This field is required"}),c.volunteerId&&c.volunteerId.trim()){const A=Sw(c.volunteerId);A&&C.push({field:"volunteerId",message:A})}f.universityId||C.push({field:"universityId",message:"University ID is required"}),f.resume||C.push({field:"resume",message:"CV/Resume is required"})}return C},pt=async()=>{const k=await se(a);if(k.length>0){v(k),k.length>0&&T(k[0].message,"error");return}v([]),a<3&&l(a+1)},mt=()=>{a>1&&l(a-1)},jr=async k=>{var te,Oe;k.preventDefault();const C=await Promise.all([1,2,3].map(me=>se(me))).then(me=>me.flat());if(C.length>0){v(C),C.length>0&&T(C[0].message,"error");const me={firstName:1,lastName:1,gender:1,nationality:1,phone:1,personalId:1,university:2,faculty:2,degreeLevel:2,program:2,classYear:2,howDidYouHear:3,volunteerId:3},Le=Math.min(...C.map(gt=>me[gt.field]??1));l(Le);return}b(!0),v([]),_(!0);const A=[];try{if(!(t!=null&&t.id))throw new Error("User not authenticated");const me={id:t.id,first_name:c.firstName.trim(),last_name:c.lastName.trim(),gender:c.gender,nationality:c.nationality,phone:c.phone.trim(),personal_id:c.personalId.trim(),university:c.university==="Other"?c.customUniversity:c.university,faculty:c.faculty,degree_level:c.degreeLevel,program:c.program,class:c.degreeLevel==="student"?c.classYear:null,how_did_hear_about_event:c.howDidYouHear,volunteer_id:((te=c.volunteerId)==null?void 0:te.trim())||null,university_id_path:null,cv_path:null,profile_complete:!0,updated_at:new Date().toISOString()};console.log(" Starting attendee profile completion...");const Le={};if(f.universityId){const q=await Uc("university-ids",t.id,f.universityId);q&&"error"in q&&q.error?console.warn(" University ID upload failed:",q.error.message):q&&"data"in q&&q.data&&(Le.university_id_path=q.data.path,q.data.path&&A.push({bucket:"university-ids",path:q.data.path}),console.log(" University ID uploaded successfully"))}if(f.resume){const q=await Uc("cvs",t.id,f.resume);q&&"error"in q&&q.error?console.warn(" Resume upload failed:",q.error.message):q&&"data"in q&&q.data&&(Le.cv_path=q.data.path,q.data.path&&A.push({bucket:"cvs",path:q.data.path}),console.log(" Resume uploaded successfully"))}const gt={...me,...Le};console.log(" Checking if profile exists...");const{data:iu,error:ou}=await F.from("users_profiles").select("id").eq("id",t.id).single();ou&&!iu&&console.warn(" Profile lookup error (continuing with insert if needed):",ou);let Er=null;if(iu){console.log(" Updating existing profile...");const{error:q}=await F.from("users_profiles").update(gt).eq("id",t.id);Er=q}else{console.log(" Creating new profile...");const{error:q}=await F.from("users_profiles").insert([gt]);Er=q}if(Er){console.error(" Profile operation failed:",Er),Er.code==="23505"&&((Oe=Er.message)!=null&&Oe.includes("personal_id"))?T("This Personal ID is already registered. Please use a different ID.","error"):T("Failed to save profile. Please try again.","error"),await Fc(A),_(!1);return}console.log(" Profile saved successfully!"),await o(),console.log(" Attendee registration completed successfully!"),_(!1),p(!0),setTimeout(()=>{e(i(),{replace:!0})},3e3)}catch(me){console.error(" Unexpected error during profile completion:",me),await Fc(A),T("An unexpected error occurred. Please try again or contact support if the problem persists.","error"),_(!1)}finally{b(!1)}},$=k=>{var C;return(C=y.find(A=>A.field===k))==null?void 0:C.message},At=()=>u.jsxs("div",{className:"space-y-6 stagger-children",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),u.jsx("input",{type:"text",value:c.firstName,onChange:k=>I("firstName",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("firstName")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your first name"}),$("firstName")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("firstName")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),u.jsx("input",{type:"text",value:c.lastName,onChange:k=>I("lastName",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("lastName")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your last name"}),$("lastName")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("lastName")})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender *"}),u.jsxs("select",{value:c.gender,onChange:k=>I("gender",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("gender")?"border-red-300":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Select gender"}),u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"})]}),$("gender")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("gender")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality *"}),u.jsxs("select",{value:c.nationality,onChange:k=>I("nationality",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("nationality")?"border-red-300":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Select nationality"}),u.jsx("option",{value:"Egyptian",children:"Egyptian"}),u.jsx("option",{value:"Other",children:"Other"})]}),$("nationality")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("nationality")})]})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{type:"email",value:c.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",placeholder:"Your email address"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Email cannot be changed"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),u.jsx("input",{type:"tel",value:c.phone,onChange:k=>I("phone",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("phone")?"border-red-300":"border-gray-300"}`,placeholder:"01X-XXXXXXXX"}),$("phone")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("phone")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal ID *"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"text",value:c.personalId,onChange:k=>I("personalId",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("personalId")?"border-red-300":"border-gray-300"}`,placeholder:"14-digit Egyptian ID",maxLength:14})}),$("personalId")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("personalId")})]})]})]}),O=()=>u.jsxs("div",{className:"space-y-6 stagger-children",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"University *"}),u.jsxs("select",{value:c.university,onChange:k=>I("university",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("university")?"border-red-300":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Select university"}),Pw.map(k=>u.jsx("option",{value:k,children:k},k))]}),$("university")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("university")})]}),c.university==="Other"&&u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom University Name *"}),u.jsx("input",{type:"text",value:c.customUniversity,onChange:k=>I("customUniversity",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("customUniversity")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your university name"}),$("customUniversity")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("customUniversity")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Faculty *"}),u.jsxs("select",{value:c.faculty,onChange:k=>I("faculty",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("faculty")?"border-red-300":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Select faculty"}),Ew.map(k=>u.jsx("option",{value:k,children:k},k))]}),$("faculty")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("faculty")})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Degree Level *"}),u.jsxs("select",{value:c.degreeLevel,onChange:k=>I("degreeLevel",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("degreeLevel")?"border-red-300":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Select degree level"}),u.jsx("option",{value:"student",children:"Student"}),u.jsx("option",{value:"graduate",children:"Graduate"})]}),$("degreeLevel")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("degreeLevel")})]}),c.degreeLevel==="student"&&u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Year *"}),u.jsxs("select",{value:c.classYear,onChange:k=>I("classYear",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("classYear")?"border-red-300":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Select class year"}),Nw.map(k=>u.jsx("option",{value:k.value,children:k.label},k.value))]}),$("classYear")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("classYear")})]})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program/Major *"}),u.jsx("input",{type:"text",value:c.program,onChange:k=>I("program",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("program")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your program or major"}),$("program")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("program")})]})]}),E=()=>u.jsxs("div",{className:"space-y-6 stagger-children",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How did you hear about this event? *"}),u.jsxs("select",{value:c.howDidYouHear,onChange:k=>I("howDidYouHear",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("howDidYouHear")?"border-red-300":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Select an option"}),Cw.map(k=>u.jsx("option",{value:k.value,children:k.label},k.value))]}),$("howDidYouHear")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("howDidYouHear")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volunteer ID (Optional)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"text",value:c.volunteerId,onChange:k=>I("volunteerId",k.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${$("volunteerId")?"border-red-300":"border-gray-300"}`,placeholder:"Enter volunteer ID (if applicable)"})}),$("volunteerId")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("volunteerId")})]}),u.jsxs("div",{className:"space-y-4 fade-in-blur",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Documents (Optional)"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"University ID (Optional)"}),u.jsx(zc,{accept:".jpg,.jpeg,.png,.pdf",maxSize:10*1024*1024,onFileSelect:k=>{g(C=>({...C,universityId:k})),v(C=>C.filter(A=>A.field!=="universityId"))},onFileRemove:()=>g(k=>({...k,universityId:void 0})),label:"Upload University ID (JPG, PNG, PDF - Max 10MB)",currentFile:f.universityId,required:!0}),$("universityId")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("universityId")})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV/Resume (Optional)"}),u.jsx(zc,{accept:".pdf,.doc,.docx",maxSize:10*1024*1024,onFileSelect:k=>{g(C=>({...C,resume:k})),v(C=>C.filter(A=>A.field!=="resume"))},onFileRemove:()=>g(k=>({...k,resume:void 0})),label:"Upload CV/Resume (PDF, DOC, DOCX - Max 10MB)",currentFile:f.resume,required:!0}),$("resume")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:$("resume")})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(er,{className:"w-5 h-5 text-blue-600 mr-2"}),u.jsxs("p",{className:"text-blue-800 text-sm",children:[u.jsx("strong",{children:"Note:"})," File uploads are optional. You can upload these documents later if needed."]})]})})]})]}),R=()=>{switch(a){case 1:return At();case 2:return O();case 3:return E();default:return null}};return s?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center fade-in-scale",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):m?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border border-orange-100 fade-in-scale modal-content-blur",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 fade-in-scale",children:u.jsx(yn,{className:"w-8 h-8 text-green-600"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 fade-in-blur",children:"Profile Complete!"}),u.jsx("p",{className:"text-gray-600 mb-6 fade-in-blur",children:"Your attendee profile has been completed successfully. Redirecting to your dashboard..."}),u.jsx("div",{className:"animate-pulse",children:u.jsx("p",{className:"text-orange-600 font-medium",children:"Redirecting..."})})]})}):u.jsxs("div",{className:"min-h-screen relative",children:[j&&u.jsx(Rw,{message:j.message,type:j.type,onClose:D}),u.jsx(Tw,{isLoading:h,message:"Completing your profile..."}),u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("/images/careercenter.png")'},children:u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"})}),u.jsxs("div",{className:"relative z-10 py-8 px-4",children:[u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"text-center mb-8 fade-in-up-blur",children:[u.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Complete Your Profile"}),u.jsx("p",{className:"text-white drop-shadow",children:"Finish setting up your attendee account"})]})}),u.jsxs("div",{className:"mb-8 fade-in-up-blur",children:[u.jsx("div",{className:"flex items-center max-w-2xl mx-auto",children:N.map((k,C)=>u.jsxs(st.Fragment,{children:[u.jsx("div",{className:"flex flex-col items-center",children:u.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all duration-300 ${a>=k.id?"bg-orange-500 border-orange-500 text-white transform scale-110":"bg-white border-gray-300 text-gray-400"}`,children:u.jsx(k.icon,{className:"w-5 h-5"})})}),C<N.length-1&&u.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-all duration-300 ${a>k.id?"bg-orange-500":"bg-gray-300"}`})]},k.id))}),u.jsx("div",{className:"flex justify-between max-w-2xl mx-auto mt-2",children:N.map(k=>u.jsx("div",{className:"text-xs text-center",style:{width:"120px"},children:u.jsx("span",{className:`transition-all duration-300 ${a>=k.id?"text-white font-medium drop-shadow transform scale-105":"text-white drop-shadow"}`,children:k.title})},k.id))})]}),u.jsxs("form",{onSubmit:jr,className:"bg-white rounded-2xl shadow-2xl p-8 border border-orange-100 fade-in-up-blur modal-content-blur",children:[u.jsxs("div",{className:"mb-8 fade-in-blur",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:N[a-1].title}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${a/3*100}%`}})})]}),u.jsx("div",{className:"stagger-children",children:R()}),u.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200 fade-in-blur",children:[u.jsx("button",{type:"button",onClick:mt,disabled:a===1,className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${a===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300 smooth-hover transform hover:scale-105"}`,children:"Previous"}),a<3?u.jsxs("button",{type:"button",onClick:pt,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 flex items-center smooth-hover",children:["Next",u.jsx(mw,{className:"w-4 h-4 ml-2"})]}):u.jsx("button",{type:"submit",disabled:w,className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center smooth-hover",children:w?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Completing Profile..."]}):"Complete Profile"})]})]})]})]})},Ow=()=>{const e=ot(),[t,r]=x.useState({personalId:"",email:""}),[n,s]=x.useState([]),[i,o]=x.useState(!1),[a,l]=x.useState(!1),c=w=>{const b=w.trim();return b?/^\d{14}$/.test(b)?null:"Personal ID must be exactly 14 digits":"Personal ID is required"},d=w=>{const b=w.trim();return b?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)?null:"Please enter a valid email address":"Email is required"},f=(w,b)=>{r(m=>({...m,[w]:b})),s(m=>m.filter(p=>p.field!==w))},g=()=>{const w=[],b=c(t.personalId);b&&w.push({field:"personalId",message:b});const m=d(t.email);return m&&w.push({field:"email",message:m}),w},y=async w=>{w.preventDefault();const b=g();if(b.length>0){s(b);return}o(!0),s([]);try{const{error:m}=await cw(t.personalId,t.email);if(m){s([{field:"general",message:m.message}]);return}l(!0)}catch{s([{field:"general",message:"Password reset failed. Please try again."}])}finally{o(!1)}},v=w=>{var b;return(b=n.find(m=>m.field===w))==null?void 0:b.message};return a?u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md p-8 text-center",children:[u.jsx(yn,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent password reset instructions to your email address. Please check your inbox and follow the link to reset your password."}),u.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200",children:"Back to Login"})]})})]}):u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("https://ypiwfedtvgmazqcwolac.supabase.co/storage/v1/object/public/Assets/careercenter.png")'},children:u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-orange-100 w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-6 text-center",children:[u.jsx(Fh,{className:"mx-auto h-12 w-12 text-white mb-3"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),u.jsx("p",{className:"text-orange-100",children:"Enter your details to reset your password"})]}),u.jsxs("form",{onSubmit:y,className:"p-8",children:[v("general")&&u.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex items-center space-x-2 mb-6",children:[u.jsx(er,{className:"h-5 w-5 text-red-600"}),u.jsx("p",{className:"text-red-700",children:v("general")})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal ID"}),u.jsx("input",{type:"text",value:t.personalId,onChange:w=>f("personalId",w.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${v("personalId")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your 14-digit Personal ID",maxLength:14}),v("personalId")&&u.jsx("p",{className:"text-sm text-red-600 mt-2",children:v("personalId")})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{type:"email",value:t.email,onChange:w=>f("email",w.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${v("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your registered email address"}),v("email")&&u.jsx("p",{className:"text-sm text-red-600 mt-2",children:v("email")})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Sending Reset Link..."})]}):"Send Reset Link"}),u.jsxs("button",{type:"button",onClick:()=>e("/login"),className:"w-full flex items-center justify-center space-x-2 text-orange-600 hover:text-orange-700 font-medium py-2 transition-colors",children:[u.jsx(Wa,{className:"h-4 w-4"}),u.jsx("span",{children:"Back to Login"})]})]})]})]})})]})},Lw=({onSuccess:e})=>{const t=ot(),{signUp:r}=vn(),[n,s]=x.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[i,o]=x.useState([]),[a,l]=x.useState(!1),[c,d]=x.useState(!1),f=(w,b)=>{s(m=>({...m,[w]:b})),o(m=>m.filter(p=>p.field!==w))},g=()=>{const w=[],b=ln(n.firstName,"First name");b&&w.push({field:"firstName",message:b});const m=ln(n.lastName,"Last name");m&&w.push({field:"lastName",message:m});const p=ru(n.email);p&&w.push({field:"email",message:p});const h=nu(n.password);h&&w.push({field:"password",message:h});const _=Mh(n.password,n.confirmPassword);return _&&w.push({field:"confirmPassword",message:_}),o(w),w.length===0},y=async w=>{var b;if(w.preventDefault(),!!g()){l(!0),o([]);try{console.log("Starting registration...");const m=await r(n.email,n.password,{first_name:n.firstName.trim(),last_name:n.lastName.trim(),role:"attendee"});if(console.log("Registration completed:",m),m.success)console.log("Registration successful, showing success message..."),d(!0),setTimeout(()=>{console.log("Navigating to attendee registration..."),e()},1e3);else{console.error("Registration failed:",m.error);let p=((b=m.error)==null?void 0:b.message)||"Registration failed. Please try again.";p.includes("User already registered")?p="An account with this email already exists. Please sign in instead.":p.includes("Email not confirmed")&&(p="Please check your email to confirm your account before signing in."),o([{field:"general",message:p}])}}catch(m){console.error("Unexpected registration error:",m),o([{field:"general",message:"An unexpected error occurred. Please try again."}])}finally{l(!1)}}},v=w=>{var b;return(b=i.find(m=>m.field===w))==null?void 0:b.message};return c?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border border-orange-100 fade-in-scale",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(yn,{className:"w-8 h-8 text-green-600"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Account Created!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully. Please complete your attendee profile to continue."}),u.jsx("div",{className:"animate-pulse",children:u.jsx("p",{className:"text-orange-600 font-medium",children:"Redirecting to profile setup..."})})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full border border-orange-100 fade-in-scale",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(yw,{className:"w-8 h-8 text-orange-600"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create Account"}),u.jsx("p",{className:"text-gray-600",children:"Create your account to get started"})]}),v("general")&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center fade-in-blur",children:[u.jsx(er,{className:"w-5 h-5 text-red-600 mr-3"}),u.jsx("p",{className:"text-red-700",children:v("general")})]}),u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),u.jsxs("div",{className:"relative",children:[u.jsx(tu,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),u.jsx("input",{type:"text",value:n.firstName,onChange:w=>f("firstName",w.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${v("firstName")?"border-red-300":"border-gray-300"}`,placeholder:"Enter first name"})]}),v("firstName")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:v("firstName")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),u.jsx("input",{type:"text",value:n.lastName,onChange:w=>f("lastName",w.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${v("lastName")?"border-red-300":"border-gray-300"}`,placeholder:"Enter last name"}),v("lastName")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:v("lastName")})]})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),u.jsxs("div",{className:"relative",children:[u.jsx(zh,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),u.jsx("input",{type:"email",value:n.email,onChange:w=>f("email",w.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${v("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email"})]}),v("email")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:v("email")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ti,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),u.jsx("input",{type:"password",value:n.password,onChange:w=>f("password",w.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${v("password")?"border-red-300":"border-gray-300"}`,placeholder:"Create a password"})]}),v("password")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:v("password")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ti,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),u.jsx("input",{type:"password",value:n.confirmPassword,onChange:w=>f("confirmPassword",w.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${v("confirmPassword")?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password"})]}),v("confirmPassword")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:v("confirmPassword")})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center smooth-hover",children:a?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]}),u.jsx("div",{className:"text-center mt-6 pt-6 border-t border-gray-200 fade-in-blur",children:u.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",u.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-orange-600 hover:text-orange-700 font-medium transition-colors duration-200 hover:underline",children:"Sign in here"})]})})]})})},Iw=({onSuccess:e})=>{const t=ot(),{signUpVolunteer:r,setRegistrationState:n}=vn(),[s,i]=x.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[o,a]=x.useState([]),[l,c]=x.useState(!1),[d,f]=x.useState(!1),g=(b,m)=>{i(p=>({...p,[b]:m})),a(p=>p.filter(h=>h.field!==b))},y=()=>{const b=[],m=ln(s.firstName,"First name");m&&b.push({field:"firstName",message:m});const p=ln(s.lastName,"Last name");p&&b.push({field:"lastName",message:p});const h=ru(s.email);h&&b.push({field:"email",message:h});const _=nu(s.password);_&&b.push({field:"password",message:_});const j=Mh(s.password,s.confirmPassword);return j&&b.push({field:"confirmPassword",message:j}),a(b),b.length===0},v=async b=>{var m;if(b.preventDefault(),!!y()){c(!0),a([]);try{console.log("Starting volunteer auth registration via Edge Function...");const p=await r(s.email,s.password,{first_name:s.firstName.trim(),last_name:s.lastName.trim()});if(console.log("Volunteer auth registration completed:",p),p.success)console.log("Volunteer auth registration successful, showing success message..."),n({hasAuth:!0,role:"volunteer",profileComplete:!1,needsVolunteerRegistration:!0,timestamp:Date.now()}),f(!0),setTimeout(()=>{console.log("Navigating to volunteer registration..."),e()},1500);else{console.error("Volunteer auth registration failed:",p.error);let h=((m=p.error)==null?void 0:m.message)||"Registration failed. Please try again.";h.includes("User already registered")?h="An account with this email already exists. Please sign in instead.":h.includes("Email not confirmed")&&(h="Please check your email to confirm your account before signing in."),a([{field:"general",message:h}])}}catch(p){console.error("Unexpected volunteer registration error:",p),a([{field:"general",message:"An unexpected error occurred. Please try again."}])}finally{c(!1)}}},w=b=>{var m;return(m=o.find(p=>p.field===b))==null?void 0:m.message};return d?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border border-orange-100 fade-in-scale",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(yn,{className:"w-8 h-8 text-green-600"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Volunteer Account Created!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your volunteer account has been created successfully. Please complete your volunteer profile to continue."}),u.jsx("div",{className:"animate-pulse",children:u.jsx("p",{className:"text-orange-600 font-medium",children:"Redirecting to volunteer profile setup..."})})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full border border-orange-100 fade-in-scale",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ww,{className:"w-8 h-8 text-orange-600"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Become a Volunteer"}),u.jsx("p",{className:"text-gray-600",children:"Create your volunteer account to get started"})]}),w("general")&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center fade-in-blur",children:[u.jsx(er,{className:"w-5 h-5 text-red-600 mr-3"}),u.jsx("p",{className:"text-red-700",children:w("general")})]}),u.jsxs("form",{onSubmit:v,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),u.jsxs("div",{className:"relative",children:[u.jsx(tu,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),u.jsx("input",{type:"text",value:s.firstName,onChange:b=>g("firstName",b.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${w("firstName")?"border-red-300":"border-gray-300"}`,placeholder:"Enter first name"})]}),w("firstName")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:w("firstName")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),u.jsx("input",{type:"text",value:s.lastName,onChange:b=>g("lastName",b.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${w("lastName")?"border-red-300":"border-gray-300"}`,placeholder:"Enter last name"}),w("lastName")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:w("lastName")})]})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),u.jsxs("div",{className:"relative",children:[u.jsx(zh,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),u.jsx("input",{type:"email",value:s.email,onChange:b=>g("email",b.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${w("email")?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email"})]}),w("email")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:w("email")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ti,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),u.jsx("input",{type:"password",value:s.password,onChange:b=>g("password",b.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${w("password")?"border-red-300":"border-gray-300"}`,placeholder:"Create a password"})]}),w("password")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:w("password")})]}),u.jsxs("div",{className:"fade-in-blur",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ti,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),u.jsx("input",{type:"password",value:s.confirmPassword,onChange:b=>g("confirmPassword",b.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 ${w("confirmPassword")?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password"})]}),w("confirmPassword")&&u.jsx("p",{className:"mt-1 text-sm text-red-600 fade-in-blur",children:w("confirmPassword")})]}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center smooth-hover",children:l?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Volunteer Account..."]}):"Create Volunteer Account"})]}),u.jsx("div",{className:"text-center mt-6 pt-6 border-t border-gray-200 fade-in-blur",children:u.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",u.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-orange-600 hover:text-orange-700 font-medium transition-colors duration-200 hover:underline",children:"Sign in here"})]})}),u.jsx("div",{className:"text-center mt-4 fade-in-blur",children:u.jsxs("p",{className:"text-gray-600 text-sm",children:["Want to join as an attendee?"," ",u.jsx(Jl,{to:"/auth-register",className:"text-orange-600 hover:text-orange-700 font-medium transition-colors duration-200 hover:underline",children:"Register as attendee"})]})})]})})},$w=st.lazy(()=>Ae(()=>import("./AttendeeDashboard-DUQNFNfV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Dw=st.lazy(()=>Ae(()=>import("./VolunteerRegistration-DH786tCN.js"),__vite__mapDeps([8,2])).then(e=>({default:e.VolunteerRegistration}))),Uw=st.lazy(()=>Ae(()=>import("./VolunteerDashboard-CLnd6JOW.js"),__vite__mapDeps([9,1,2,3,5])).then(e=>({default:e.VolunteerDashboard}))),Fw=st.lazy(()=>Ae(()=>import("./RegTeamDashboard-7qDQZm_P.js"),__vite__mapDeps([10,1,2,11,6,5,12])).then(e=>({default:e.RegTeamDashboard}))),zw=st.lazy(()=>Ae(()=>import("./BuildTeamDashboard-3JoK8ekD.js"),__vite__mapDeps([13,1,2,11,4,5])).then(e=>({default:e.BuildTeamDashboard}))),Mw=st.lazy(()=>Ae(()=>import("./InfoDeskDashboard-DUaeNk8Z.js"),__vite__mapDeps([14,1,2,11,7,4,5,6,12])).then(e=>({default:e.InfoDeskDashboard}))),Bw=st.lazy(()=>Ae(()=>import("./TeamLeaderDashboard-DKLOVCf7.js"),__vite__mapDeps([15,1,2,11,16])).then(e=>({default:e.TeamLeaderDashboard}))),Vw=st.lazy(()=>Ae(()=>import("./AdminPanel-CFmPon0G.js"),__vite__mapDeps([17,1,2,4,16,5,6,3])).then(e=>({default:e.AdminPanel}))),Ww=st.lazy(()=>Ae(()=>import("./SuperAdminPanel-BNs25O9G.js"),__vite__mapDeps([18,1,2])).then(e=>({default:e.SuperAdminPanel}))),su=({message:e="Loading..."})=>u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:e})]})}),Hw=()=>u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white",children:[u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"bg-white shadow-sm border-b",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-48"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[1,2,3].map(e=>u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded"})]},e))}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4 w-1/3"}),u.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>u.jsx("div",{className:"h-4 bg-gray-200 rounded"},e))})]})]})]}),u.jsx("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-lg p-4 border",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"}),u.jsx("span",{className:"text-gray-600",children:"Loading dashboard..."})]})})]}),Ka=({children:e,requiredRole:t,requireCompleteProfile:r=!0,allowIncompleteVolunteer:n=!1})=>{const{isAuthenticated:s,profile:i,loading:o,sessionLoaded:a,hasRole:l,getRoleBasedRedirect:c}=vn();if(!a||o)return u.jsx(su,{message:"Checking authentication..."});if(!s)return console.log("Not authenticated, redirecting to login"),u.jsx(gr,{to:"/login",replace:!0});if(i&&!i.profile_complete){if(console.log(" Profile incomplete, checking redirect logic:",{role:i.role,requireCompleteProfile:r,allowIncompleteVolunteer:n}),n&&i.role==="volunteer")return console.log(" Allowing incomplete volunteer access"),u.jsx(u.Fragment,{children:e});if(!r)return console.log(" Allowing incomplete profile access"),u.jsx(u.Fragment,{children:e});const d=c(i.role,i.profile_complete);return console.log(" Redirecting incomplete profile to:",d),u.jsx(gr,{to:d,replace:!0})}if(t&&i&&!(Array.isArray(t),l(t))){console.log(" Access denied for role:",i.role,"Required:",t);const f=c();return u.jsx(gr,{to:f,replace:!0})}return console.log(" Access granted for role:",i==null?void 0:i.role,"Profile complete:",i==null?void 0:i.profile_complete),u.jsx(u.Fragment,{children:e})},Pn=({children:e,allowIncompleteProfile:t=!1})=>{const{isAuthenticated:r,profile:n,loading:s,sessionLoaded:i,getRoleBasedRedirect:o}=vn();if(!i||s)return u.jsx(su,{message:"Loading..."});if(r&&n){const a=o(n.role,n.profile_complete);if(console.log(" PublicRoute redirecting to:",a,{role:n.role,profileComplete:n.profile_complete}),!t)return u.jsx(gr,{to:a,replace:!0})}return u.jsx(u.Fragment,{children:e})},qw=()=>{const e=ot();return u.jsx(Iw,{onSuccess:()=>e("/V0lunt33ringR3g")})},Kw=()=>{const e=ot();return u.jsx(Lw,{onSuccess:()=>e("/attendee-register")})},It=({component:e,requiredRole:t,requireCompleteProfile:r=!0})=>u.jsx(Ka,{requiredRole:t,requireCompleteProfile:r,children:u.jsx(x.Suspense,{fallback:u.jsx(Hw,{}),children:u.jsx(e,{})})}),Gw=()=>u.jsxs(a0,{children:[u.jsx(ie,{path:"/login",element:u.jsx(Pn,{children:u.jsx(jw,{})})}),u.jsx(ie,{path:"/volunteer-auth-register",element:u.jsx(Pn,{children:u.jsx(qw,{})})}),u.jsx(ie,{path:"/auth-register",element:u.jsx(Pn,{children:u.jsx(Kw,{})})}),u.jsx(ie,{path:"/forgot-password",element:u.jsx(Pn,{children:u.jsx(Ow,{})})}),u.jsx(ie,{path:"/reset-password",element:u.jsx(Pn,{children:u.jsx(_w,{})})}),u.jsx(ie,{path:"/attendee-register",element:u.jsx(Ka,{requireCompleteProfile:!1,children:u.jsx(Aw,{})})}),u.jsx(ie,{path:"/V0lunt33ringR3g",element:u.jsx(Ka,{requireCompleteProfile:!1,allowIncompleteVolunteer:!0,children:u.jsx(x.Suspense,{fallback:u.jsx(su,{message:"Loading volunteer registration form..."}),children:u.jsx(Dw,{})})})}),u.jsx(ie,{path:"/attendee",element:u.jsx(It,{component:$w,requiredRole:"attendee",requireCompleteProfile:!0})}),u.jsx(ie,{path:"/regteam",element:u.jsx(It,{component:Fw,requiredRole:"registration",requireCompleteProfile:!0})}),u.jsx(ie,{path:"/buildteam",element:u.jsx(It,{component:zw,requiredRole:"building",requireCompleteProfile:!0})}),u.jsx(ie,{path:"/volunteer",element:u.jsx(It,{component:Uw,requiredRole:["ushers","marketing","media","ER","BD team","catering","feedback","stage"],requireCompleteProfile:!0})}),u.jsx(ie,{path:"/infodesk",element:u.jsx(It,{component:Mw,requiredRole:"info_desk",requireCompleteProfile:!0})}),u.jsx(ie,{path:"/teamleader",element:u.jsx(It,{component:Bw,requiredRole:"team_leader",requireCompleteProfile:!0})}),u.jsx(ie,{path:"/secure-9821panel",element:u.jsx(It,{component:Vw,requiredRole:"admin",requireCompleteProfile:!0})}),u.jsx(ie,{path:"/super-ctrl-92k1x",element:u.jsx(It,{component:Ww,requiredRole:"sadmin",requireCompleteProfile:!0})}),u.jsx(ie,{path:"/register",element:u.jsx(gr,{to:"/auth-register",replace:!0})}),u.jsx(ie,{path:"/",element:u.jsx(gr,{to:"/login",replace:!0})}),u.jsx(ie,{path:"*",element:u.jsx(gr,{to:"/login",replace:!0})})]});class Jw extends st.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("App Error Boundary caught an error:",t,r)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[u.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"The application encountered an unexpected error."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Reload Application"})]})}):this.props.children}}function Qw(){return u.jsx(Jw,{children:u.jsx(R0,{children:u.jsx(fw,{children:u.jsx(Gw,{})})})})}eh(document.getElementById("root")).render(u.jsx(x.StrictMode,{children:u.jsx(Qw,{})}));export{Tw as A,Ha as B,yn as C,qa as E,Ew as F,Ti as L,zh as M,st as R,ww as U,xw as X,ot as a,gx as b,mg as c,er as d,mw as e,tu as f,mx as g,bw as h,kw as i,u as j,je as k,yw as l,cx as m,lx as n,ux as o,ax as p,fx as q,x as r,F as s,dx as t,vn as u,ln as v,hx as w,He as x,Bh as y,px as z};
