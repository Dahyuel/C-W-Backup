import{o as F,r as a,s as u,w as Wt,j as e,U as Kt,E as ye,z as Xt}from"./index-CyW5l0GB.js";import{D as Pe,B as fe,X as P}from"./DashboardLayout-DUzv1ASr.js";import{X as Zt}from"./x-circle-DI7zkV_S.js";import{A as Gt}from"./activity-Dds5rGJq.js";import{C as je}from"./calendar-BPuBw_IZ.js";import{M as Ht,P as G}from"./plus-8Sno4iOU.js";import{C as Fe}from"./clock-DyC_oNWg.js";import{M as ve}from"./map-pin-rH9yd3tT.js";import"./heart-D9xwhhE9.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=F("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function ms(){const[qe,H]=a.useState(!1),[I,Q]=a.useState(null),[M,Be]=a.useState({total_users:0,total_sessions:0}),[f,J]=a.useState({inside_building:0,inside_event:0,total_attendees:0}),[Oe,Y]=a.useState(!1),[Re,ee]=a.useState(!1),[z,te]=a.useState(null),[q,se]=a.useState(null),[Ve,ae]=a.useState(!1),[We,le]=a.useState(!1),[Yt,Ke]=a.useState(null),[es,Xe]=a.useState(null),[Ze,Ge]=a.useState([]),[He,Qe]=a.useState([]),[Je,Ye]=a.useState([]),[j,we]=a.useState(1),[et,tt]=a.useState([]),[T,st]=a.useState("dashboard"),[at,B]=a.useState(!1),[lt,O]=a.useState(!1),[rt,re]=a.useState(!1),[nt,Se]=a.useState(!1),[ot,R]=a.useState(!1),[it,ne]=a.useState(!1),[dt,oe]=a.useState(!1),[h,Ce]=a.useState(null),[v,ie]=a.useState(null),[ke,de]=a.useState(!0),[ce,De]=a.useState(""),[me,_e]=a.useState(""),[E,Te]=a.useState(""),[U,xe]=a.useState([]),[ct,ue]=a.useState(""),[Ee,L]=a.useState([]),[mt,Me]=a.useState(!1),[xt,pe]=a.useState(!1),[ts,ut]=a.useState(null),[pt,ge]=a.useState(!1),[C,Ue]=a.useState(null),[n,N]=a.useState({id:"",name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),[c,w]=a.useState({id:"",title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),[i,S]=a.useState({id:"",title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),[o,k]=a.useState({name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),[m,D]=a.useState({title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),[d,_]=a.useState({title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),[y,he]=a.useState({day:1,image:null}),[p,x]=a.useState(!1),[gt,Le]=a.useState(!0),[V,Ae]=a.useState({message:"",type:null}),l=(t,s)=>{Ae({message:t,type:s}),setTimeout(()=>{Ae({message:"",type:null})},4e3)};a.useEffect(()=>{ht()},[]),a.useEffect(()=>{T==="events"&&K(j)},[T,j]);const ht=async()=>{Le(!0);try{const{count:t}=await u.from("users_profiles").select("*",{count:"exact",head:!0}),{count:s}=await u.from("sessions").select("*",{count:"exact",head:!0});console.log("Fetched stats:",{totalUsers:t,totalSessions:s}),Be({total_users:t||0,total_sessions:s||0}),await St(),await W(),await X()}catch(t){console.error("Error fetching dashboard data:",t)}finally{Le(!1)}},bt=t=>{Ke(t);const s=new Date(t.start_time);w({id:t.id,title:t.title||"",description:t.description||"",speaker:t.speaker||"",capacity:t.max_attendees||"",type:t.session_type||"session",date:s.toISOString().split("T")[0],hour:s.toTimeString().slice(0,5),location:t.location||""}),ae(!0)},yt=t=>{Xe(t);const s=new Date(t.start_time),r=t.end_time?new Date(t.end_time):null;S({id:t.id,title:t.title||"",description:t.description||"",startDate:s.toISOString().split("T")[0],startTime:s.toTimeString().slice(0,5),endDate:r?r.toISOString().split("T")[0]:"",endTime:r?r.toTimeString().slice(0,5):"",location:t.location||"",type:t.item_type||"general"}),le(!0)},ft=t=>{Ue(t),ge(!0)},jt=async()=>{if(!c.title||!c.date||!c.speaker){l("Please fill all required fields!","error");return}x(!0);try{const t=new Date(`${c.date}T${c.hour}`),s=new Date(t.getTime()+2*60*60*1e3),r=parseInt(c.capacity)||null,{error:g}=await u.from("sessions").update({title:c.title,description:c.description,speaker:c.speaker,start_time:t.toISOString(),end_time:s.toISOString(),location:c.location,capacity:r,max_attendees:r,session_type:c.type}).eq("id",c.id);g?l("Failed to update session","error"):(ae(!1),w({id:"",title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),l("Session updated successfully!","success"),await W())}catch{l("Failed to update session","error")}finally{x(!1)}},vt=async()=>{if(!i.title||!i.startDate||!i.startTime){l("Please fill all required fields!","error");return}x(!0);try{const t=new Date(`${i.startDate}T${i.startTime}`),s=i.endDate&&i.endTime?new Date(`${i.endDate}T${i.endTime}`):new Date(t.getTime()+2*60*60*1e3),{error:r}=await u.from("schedule_items").update({title:i.title,description:i.description,start_time:t.toISOString(),end_time:s.toISOString(),location:i.location,item_type:i.type}).eq("id",i.id);r?l("Failed to update event","error"):(le(!1),S({id:"",title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),l("Event updated successfully!","success"),await K(j))}catch{l("Failed to update event","error")}finally{x(!1)}},Nt=t=>{ut(t),N({id:t.id,name:t.name||"",logo:null,logoUrl:t.logo_url||"",logoType:"link",description:t.description||"",website:t.website||"",boothNumber:t.booth_number||""}),pe(!0)},wt=async()=>{if(!n.name||!n.website||!n.boothNumber){l("Please fill all required fields!","error");return}if(n.logoType==="link"&&!n.logoUrl){l("Please provide a logo URL!","error");return}if(n.logoType==="upload"&&!n.logo){l("Please select a logo file to upload!","error");return}x(!0);try{let t=n.logoUrl;if(n.logoType==="upload"&&n.logo){const r=n.logo.name.split(".").pop(),b=`company-logos/${`${Date.now()}-${n.name.replace(/[^a-zA-Z0-9]/g,"_")}.${r}`}`,{data:Z,error:$}=await u.storage.from("Assets").upload(b,n.logo);if($){console.error("Upload error:",$),l("Failed to upload logo","error"),x(!1);return}const{data:be}=u.storage.from("Assets").getPublicUrl(b);t=be.publicUrl}const{error:s}=await u.from("companies").update({name:n.name,logo_url:t,description:n.description,website:n.website,booth_number:n.boothNumber}).eq("id",n.id);s?l("Failed to update company","error"):(pe(!1),N({id:"",name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),l("Company updated successfully!","success"),await X())}catch{l("Failed to update company","error")}finally{x(!1)}},St=async()=>{try{const{data:t,error:s}=await Wt();if(s){console.error("Error fetching dynamic building stats:",s);const{count:r}=await u.from("users_profiles").select("*",{count:"exact",head:!0}).eq("role","attendee");J({inside_building:0,inside_event:0,total_attendees:r||0})}else t&&J({inside_building:t.inside_building,inside_event:t.inside_event,total_attendees:t.total_attendees})}catch(t){console.error("Error fetching building stats:",t),J({inside_building:0,inside_event:0,total_attendees:0})}},Ct=async()=>{if(z){x(!0);try{const{error:t}=await u.from("sessions").delete().eq("id",z.id);t?l("Failed to delete session","error"):(Y(!1),te(null),l("Session deleted successfully!","success"),await W())}catch{l("Failed to delete session","error")}finally{x(!1)}}},kt=async()=>{if(q){x(!0);try{const{error:t}=await u.from("schedule_items").delete().eq("id",q.id);t?l("Failed to delete event","error"):(ee(!1),se(null),l("Event deleted successfully!","success"),await K(j))}catch{l("Failed to delete event","error")}finally{x(!1)}}},W=async()=>{try{const{data:t,error:s}=await u.from("sessions").select("*").order("start_time",{ascending:!0});!s&&t&&Ge(t)}catch(t){console.error("Error fetching sessions:",t)}},K=async t=>{try{const{data:s,error:r}=await u.from("schedule_items").select("*").order("start_time",{ascending:!0});if(!r&&s){const g=s.filter(b=>Dt(b.start_time)===t);Qe(g)}}catch(s){console.error("Error fetching events:",s)}},Dt=t=>{const s=new Date(t),r=new Date("2024-03-18"),g=s.getTime()-r.getTime(),b=Math.ceil(g/(1e3*60*60*24));return Math.max(1,Math.min(5,b+1))},X=async()=>{try{const{data:t,error:s}=await u.from("companies").select("*").order("name",{ascending:!0});!s&&t&&Ye(t)}catch(t){console.error("Error fetching companies:",t)}},_t=async()=>{if(!o.name||!o.website||!o.boothNumber){l("Please fill all required fields!","error");return}if(o.logoType==="link"&&!o.logoUrl){l("Please provide a logo URL!","error");return}if(o.logoType==="upload"&&!o.logo){l("Please select a logo file to upload!","error");return}x(!0);try{let t=o.logoUrl;if(o.logoType==="upload"&&o.logo){const r=o.logo.name.split(".").pop(),b=`company-logos/${`${Date.now()}-${o.name.replace(/[^a-zA-Z0-9]/g,"_")}.${r}`}`,{data:Z,error:$}=await u.storage.from("Assets").upload(b,o.logo);if($){console.error("Upload error:",$),l("Failed to upload logo","error"),x(!1);return}const{data:be}=u.storage.from("Assets").getPublicUrl(b);t=be.publicUrl}const{error:s}=await u.from("companies").insert({name:o.name,logo_url:t,description:o.description,website:o.website,booth_number:o.boothNumber});s?l("Failed to add company","error"):(B(!1),k({name:"",logo:null,logoUrl:"",logoType:"link",description:"",website:"",boothNumber:""}),l("Company added successfully!","success"),await X())}catch{l("Failed to add company","error")}finally{x(!1)}},Tt=async()=>{if(!m.title||!m.date||!m.speaker){l("Please fill all required fields!","error");return}x(!0);try{const t=new Date(`${m.date}T${m.hour}`),s=new Date(t.getTime()+2*60*60*1e3),r=parseInt(m.capacity)||null,{error:g}=await u.from("sessions").insert({title:m.title,description:m.description,speaker:m.speaker,start_time:t.toISOString(),end_time:s.toISOString(),location:m.location,capacity:r,max_attendees:r,session_type:m.type});g?l("Failed to add session","error"):(O(!1),D({title:"",date:"",speaker:"",capacity:"",type:"session",hour:"",location:"",description:""}),l("Session added successfully!","success"),await W())}catch{l("Failed to add session","error")}finally{x(!1)}},Et=t=>{Q(t),H(!0)},Mt=async()=>{if(I){x(!0);try{const{error:t}=await Xt(I.id);t?l("Failed to delete company","error"):(H(!1),Q(null),l("Company deleted successfully!","success"),await X())}catch{l("Failed to delete company","error")}finally{x(!1)}}},Ut=async()=>{if(!d.title||!d.startDate||!d.startTime){l("Please fill all required fields!","error");return}x(!0);try{const t=new Date(`${d.startDate}T${d.startTime}`),s=d.endDate&&d.endTime?new Date(`${d.endDate}T${d.endTime}`):new Date(t.getTime()+2*60*60*1e3),{error:r}=await u.from("schedule_items").insert({title:d.title,description:d.description,start_time:t.toISOString(),end_time:s.toISOString(),location:d.location,item_type:d.type});r?l("Failed to add event","error"):(re(!1),_({title:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",location:"",type:"general"}),l("Event added successfully!","success"),await K(j))}catch{l("Failed to add event","error")}finally{x(!1)}},Lt=async t=>{te(t),Y(!0)},At=async t=>{se(t),ee(!0)},$t=async()=>{var t;if(!ce||!me||!E){l("Please fill all required fields!","error");return}if(E==="custom"&&U.length===0){l("Please select at least one user for custom notifications!","error");return}x(!0);try{const{data:{session:s}}=await u.auth.getSession();if(!((t=s==null?void 0:s.user)!=null&&t.id)){l("User not authenticated","error"),x(!1);return}let r={title:ce,message:me,created_by:s.user.id};E==="all"?(r.target_type="all",r.target_role=null,r.target_user_ids=null):E==="custom"?(r.target_type="specific_users",r.target_role=null,r.target_user_ids=U.map(b=>b.id)):(r.target_type="role",r.target_role=E,r.target_user_ids=null);const{error:g}=await u.from("notifications").insert([r]);g?(console.error("Notification error:",g),l("Failed to send announcement","error")):(l("Announcement sent successfully!","success"),De(""),_e(""),Te(""),A(),R(!1))}catch(s){console.error("Send announcement error:",s),l("Failed to send announcement","error")}finally{x(!1)}},Pt=async t=>{if(!t||t.trim().length<2){L([]);return}Me(!0);try{const{data:s,error:r}=await u.from("users_profiles").select("id, first_name, last_name, personal_id, role, email").ilike("personal_id",`%${t.trim()}%`).order("personal_id").limit(10);if(r)console.error("Search error:",r),L([]);else{const g=(s||[]).filter(b=>!U.some(Z=>Z.id===b.id));L(g)}}catch(s){console.error("Search exception:",s),L([])}finally{Me(!1)}},Ft=t=>{xe(s=>[...s,t]),L(s=>s.filter(r=>r.id!==t.id)),ue("")},It=t=>{xe(s=>s.filter(r=>r.id!==t))},A=()=>{xe([]),ue(""),L([])},zt=t=>{Ce(t),ne(!0)},qt=t=>{ie(t),oe(!0)},Bt=()=>{de(!1)},Ot=()=>{de(!1)};a.useEffect(()=>{de(!0)},[j]);const $e=()=>{const t=[];for(let s=1;s<=5;s++){const{data:r}=u.storage.from("Assets").getPublicUrl(`Maps/day${s}.png`);t.push(r.publicUrl)}tt(t)};a.useEffect(()=>{$e()},[]);const Rt=async()=>{if(!y.image){l("Please select an image!","error");return}x(!0);try{const t=`Maps/day${y.day}.png`,{data:s,error:r}=await u.storage.from("Assets").upload(t,y.image,{upsert:!0});r?(console.error("Map upload error:",r),l("Failed to upload map image","error")):(l(`Day ${y.day} map updated successfully!`,"success"),$e(),Se(!1),he({day:1,image:null}))}catch(t){console.error("Map upload exception:",t),l("Failed to update map","error")}finally{x(!1)}},Vt=[{key:"dashboard",label:"Dashboard"},{key:"sessions",label:"Sessions"},{key:"events",label:"Events"},{key:"maps",label:"Maps"},{key:"employers",label:"Employers"}];return gt?e.jsx(Pe,{title:"Admin Panel",subtitle:"System administration, user management, and analytics",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})}):e.jsx(Pe,{title:"Admin Panel",subtitle:"System administration, user management, and analytics",children:e.jsxs("div",{className:"space-y-8",children:[V.type&&e.jsxs("div",{className:`fixed top-4 right-4 z-[9999] flex items-center gap-2 p-4 rounded-lg shadow-lg text-white ${V.type==="success"?"bg-green-600":"bg-red-600"}`,children:[V.type==="success"?e.jsx(Qt,{className:"h-5 w-5"}):e.jsx(Zt,{className:"h-5 w-5"}),e.jsx("span",{children:V.message})]}),e.jsx("div",{className:"flex space-x-1 sm:space-x-4 border-b mb-6 overflow-x-auto scrollbar-hide",children:Vt.map(t=>e.jsx("button",{onClick:()=>st(t.key),className:`py-2 px-2 sm:px-4 font-semibold text-sm sm:text-base whitespace-nowrap ${T===t.key?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-orange-600"}`,children:t.label},t.key))}),T==="dashboard"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(M==null?void 0:M.total_users)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Kt,{className:"h-6 w-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(M==null?void 0:M.total_sessions)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Gt,{className:"h-6 w-6 text-blue-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 text-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-black-800 flex items-center justify-center gap-2 mb-6",children:[e.jsx(Jt,{className:"h-7 w-7 text-orange-500"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>B(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors",children:[e.jsx(fe,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Add Company"})]}),e.jsxs("button",{onClick:()=>O(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:[e.jsx(je,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Add Session"})]}),e.jsxs("button",{onClick:()=>R(!0),className:"flex flex-col items-center justify-center py-6 px-4 bg-purple-500 text-white rounded-xl hover:bg-purple-700 transition-colors",children:[e.jsx(Ht,{className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-base font-medium",children:"Send Announcement"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gray-50",children:e.jsxs("h2",{className:"text-3xl font-bold text-black-800 flex items-center gap-2 mx-auto",children:[e.jsx(fe,{className:"h-7 w-7 text-orange-500"}),"Flow Dashboard"]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 px-6 py-6 text-center",children:[e.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-green-900",children:f.inside_building}),e.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Inside Building"})]}),e.jsxs("div",{className:"bg-teal-100 p-4 rounded-lg shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-teal-900",children:f.inside_event}),e.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Inside Event"})]}),e.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:f.total_attendees}),e.jsx("p",{className:"text-lg font-bold text-gray-700",children:"Total Attendees"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-lg font-bold text-left border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-800 text-xl font-extrabold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Site"}),e.jsx("th",{className:"px-4 py-3",children:"Maximum Capacity"}),e.jsx("th",{className:"px-4 py-3",children:"Current Capacity"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Building"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"500"}),e.jsxs("td",{className:"px-4 py-3",children:[f.inside_building>0?Math.round(f.inside_building/500*100):0,"%"]})]}),e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Event"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"4000"}),e.jsxs("td",{className:"px-4 py-3",children:[f.inside_event>0?Math.round(f.inside_event/4e3*100):0,"%"]})]}),e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:"Total"}),e.jsx("td",{className:"px-4 py-3 text-red-600",children:"4500"}),e.jsxs("td",{className:"px-4 py-3",children:[f.inside_building+f.inside_event>0?Math.round((f.inside_building+f.inside_event)/4500*100):0,"%"]})]})]})]})})})]})]}),T==="sessions"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4 sm:mb-0",children:[e.jsx(je,{className:"h-5 w-5 mr-2 text-orange-600"})," Sessions Management"]}),e.jsxs("button",{onClick:()=>O(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Add Session"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ze.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 hover:shadow-md transition-all duration-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),t.speaker&&e.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["Speaker: ",t.speaker]}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fe,{className:"h-3 w-3 mr-1"}),new Date(t.start_time).toLocaleDateString()," ",new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"h-3 w-3 mr-1"}),t.location]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:t.session_type}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.current_bookings||0,"/",t.capacity||"Unlimited"]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>zt(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[e.jsx(ye,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>bt(t),className:"flex-1 bg-blue-500 text-white py-2 px-3 rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>Lt(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:[e.jsx(Ne,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]},t.id))})]}),T==="events"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4",children:[e.jsx(je,{className:"h-5 w-5 mr-2 text-orange-600"})," Events Management"]}),e.jsx("div",{className:"flex space-x-2 mb-4",children:[1,2,3,4,5].map(t=>e.jsxs("button",{onClick:()=>we(t),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${j===t?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",t]},t))}),e.jsxs("button",{onClick:()=>re(!0),className:"w-full sm:w-auto flex items-center justify-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Add Event"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:He.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fe,{className:"h-3 w-3 mr-1"}),new Date(t.start_time).toLocaleDateString()," ",new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"h-3 w-3 mr-1"}),t.location]})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:t.item_type})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>ft(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[e.jsx(ye,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>yt(t),className:"flex-1 bg-green-500 text-white py-2 px-3 rounded-lg hover:bg-green-600 transition-colors text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>At(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:[e.jsx(Ne,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]},t.id))})]}),T==="maps"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Event Maps"}),e.jsx("div",{className:"flex space-x-2 mb-4",children:[1,2,3,4,5].map(t=>e.jsxs("button",{onClick:()=>we(t),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${j===t?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Day ",t]},t))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 flex justify-center items-center min-h-[400px]",children:[ke&&e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading map..."})]}),e.jsx("img",{src:et[j-1],alt:`Day ${j} Map`,className:`max-w-full h-auto rounded-lg transition-opacity duration-200 ${ke?"opacity-0 absolute":"opacity-100"}`,onLoad:Bt,onError:t=>{Ot(),t.target.src="/src/Assets/placeholder-map.png"}})]})]}),T==="employers"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center mb-4 sm:mb-0",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 text-orange-600"})," Employers Management"]}),e.jsxs("button",{onClick:()=>B(!0),className:"flex items-center px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Je.map(t=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:t.logo_url,alt:`${t.name} logo`,className:"h-16 w-auto mx-auto mb-4 object-contain",onError:s=>{s.target.src="https://via.placeholder.com/64x64/orange/white?text=Logo"}}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:t.description}),t.booth_number&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 mb-4",children:["Booth ",t.booth_number]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>qt(t),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[e.jsx(ye,{className:"h-3 w-3 mr-1 inline"}),"View"]}),e.jsx("button",{onClick:()=>Nt(t),className:"flex-1 bg-orange-500 text-white py-2 px-3 rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium",children:"Edit"}),e.jsxs("button",{onClick:()=>Et(t),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:[e.jsx(Ne,{className:"h-3 w-3 mr-1 inline"}),"Delete"]})]})]})},t.id))})]}),at&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add New Company"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:o.name,onChange:t=>k({...o,name:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Company Name *"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo *"}),e.jsxs("div",{className:"flex space-x-4 mb-3",children:[e.jsxs("button",{type:"button",onClick:()=>k({...o,logoType:"link"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium ${o.logoType==="link"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"URL"]}),e.jsxs("button",{type:"button",onClick:()=>k({...o,logoType:"upload"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium ${o.logoType==="upload"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),o.logoType==="link"?e.jsx("input",{type:"url",value:o.logoUrl,onChange:t=>k({...o,logoUrl:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Logo URL *"}):e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return k({...o,logo:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2"})]}),e.jsx("textarea",{value:o.description,onChange:t=>k({...o,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Description",rows:3}),e.jsx("input",{type:"url",value:o.website,onChange:t=>k({...o,website:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Website *"}),e.jsx("input",{type:"text",value:o.boothNumber,onChange:t=>k({...o,boothNumber:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Booth Number *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:_t,disabled:p,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:p?"Adding...":"Save Company"})]})]})}),lt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add Session"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:m.title,onChange:t=>D({...m,title:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Title *"}),e.jsx("textarea",{value:m.description,onChange:t=>D({...m,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Description",rows:3}),e.jsxs("select",{value:m.type,onChange:t=>D({...m,type:t.target.value}),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"session",children:"Session"}),e.jsx("option",{value:"mentorship",children:"Mentorship"})]}),e.jsx("input",{type:"time",value:m.hour,onChange:t=>D({...m,hour:t.target.value}),className:"w-full border rounded-lg p-2"}),e.jsx("input",{type:"date",value:m.date,onChange:t=>D({...m,date:t.target.value}),className:"w-full border rounded-lg p-2"}),e.jsx("input",{type:"text",value:m.speaker,onChange:t=>D({...m,speaker:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Speaker *"}),e.jsx("input",{type:"number",value:m.capacity,onChange:t=>D({...m,capacity:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Capacity"}),e.jsx("input",{type:"text",value:m.location,onChange:t=>D({...m,location:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Location *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Tt,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Adding...":"Save Session"})]})]})}),rt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add Event"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:d.title,onChange:t=>_({...d,title:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Title *"}),e.jsx("textarea",{value:d.description,onChange:t=>_({...d,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Description",rows:3}),e.jsxs("select",{value:d.type,onChange:t=>_({...d,type:t.target.value}),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"networking",children:"Networking"}),e.jsx("option",{value:"keynote",children:"Keynote"}),e.jsx("option",{value:"panel",children:"Panel"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:d.startDate,onChange:t=>_({...d,startDate:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Start Date *"}),e.jsx("input",{type:"time",value:d.startTime,onChange:t=>_({...d,startTime:t.target.value}),className:"w-full border rounded-lg p-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:d.endDate,onChange:t=>_({...d,endDate:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"End Date (Optional)"}),e.jsx("input",{type:"time",value:d.endTime,onChange:t=>_({...d,endTime:t.target.value}),className:"w-full border rounded-lg p-2"})]}),e.jsx("input",{type:"text",value:d.location,onChange:t=>_({...d,location:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Location"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Ut,disabled:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:p?"Adding...":"Save Event"})]})]})}),nt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Modify Map"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day"}),e.jsx("select",{value:y.day,onChange:t=>he({...y,day:parseInt(t.target.value)}),className:"w-full border rounded-lg p-2",children:[1,2,3,4,5].map(t=>e.jsxs("option",{value:t,children:["Day ",t]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload New Map Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return he({...y,image:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2"}),y.image&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),e.jsx("img",{src:URL.createObjectURL(y.image),alt:"Map preview",className:"max-w-full h-32 object-contain mx-auto rounded"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:[y.image.name," (",Math.round(y.image.size/1024),"KB)"]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>Se(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Rt,disabled:p||!y.image,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:p?"Uploading...":"Update Map"})]})]})}),ot&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto relative",children:[e.jsx("button",{onClick:()=>{R(!1),A()},className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:e.jsx(P,{className:"h-6 w-6"})}),e.jsx("h2",{className:"text-lg font-semibold text-black mb-4 text-center",children:"Send Announcement"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:ce,onChange:t=>De(t.target.value),placeholder:"Message Title",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),e.jsx("textarea",{value:me,onChange:t=>_e(t.target.value),placeholder:"Message Description",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3}),e.jsxs("select",{value:E,onChange:t=>{Te(t.target.value),t.target.value!=="custom"&&A()},className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[e.jsx("option",{value:"",children:"Select Target"}),e.jsx("option",{value:"all",children:"All Users"}),e.jsx("option",{value:"volunteer",children:"Volunteers"}),e.jsx("option",{value:"team_leader",children:"Team Leaders"}),e.jsx("option",{value:"admin",children:"Admins"}),e.jsx("option",{value:"attendee",children:"Attendees"}),e.jsx("option",{value:"custom",children:"Custom Selection"})]}),E==="custom"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:ct,onChange:t=>{ue(t.target.value),Pt(t.target.value)},placeholder:"Search by Personal ID...",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),mt&&e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})})]}),Ee.length>0&&e.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-lg",children:Ee.map(t=>e.jsx("div",{onClick:()=>Ft(t),className:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",t.personal_id," | ",t.role]})]}),e.jsx(G,{className:"h-4 w-4 text-blue-500"})]})},t.id))}),U.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Selected Users (",U.length,")"]}),e.jsx("button",{onClick:A,className:"text-xs text-red-500 hover:text-red-700",children:"Clear All"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg bg-gray-50",children:U.map(t=>e.jsxs("div",{className:"p-2 flex justify-between items-center border-b last:border-b-0",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",t.personal_id]})]}),e.jsx("button",{onClick:()=>It(t.id),className:"text-red-500 hover:text-red-700",children:e.jsx(P,{className:"h-4 w-4"})})]},t.id))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{R(!1),A()},className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:$t,disabled:p,className:"px-4 py-2 rounded-lg bg-purple-500 text-white hover:bg-purple-600 disabled:opacity-50",children:p?"Sending...":"Send"})]})]})}),it&&h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Session Details"}),e.jsx("button",{onClick:()=>{ne(!1),Ce(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(P,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:h.description})]}),h.speaker&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Speaker"}),e.jsx("p",{className:"text-gray-900",children:h.speaker})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),e.jsxs("p",{className:"text-gray-900",children:[new Date(h.start_time).toLocaleDateString()," at"," ",new Date(h.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),h.end_time&&e.jsxs("p",{className:"text-gray-500 text-sm",children:["Ends at ",new Date(h.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:h.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:h.session_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capacity"}),e.jsxs("p",{className:"text-gray-900",children:[h.current_bookings||0," / ",h.capacity||"Unlimited"," booked"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>ne(!1),className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Close Details"})})]})]})})}),dt&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Company Details"}),e.jsx("button",{onClick:()=>{oe(!1),ie(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(P,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:v.logo_url,alt:`${v.name} logo`,className:"h-24 w-auto mx-auto mb-4 object-contain",onError:t=>{t.target.src="https://via.placeholder.com/96x96/orange/white?text=Logo"}}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v.name}),v.booth_number&&e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800 mt-2",children:[e.jsx(ve,{className:"h-4 w-4 mr-1"}),"Booth ",v.booth_number]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Company"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("a",{href:v.website,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 break-all",children:v.website})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx("button",{onClick:()=>window.open(v.website,"_blank"),className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Visit Career Page"}),e.jsx("button",{onClick:()=>{oe(!1),ie(null)},className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})]})]})]})})}),Ve&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Edit Session"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:c.title,onChange:t=>w({...c,title:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Title *"}),e.jsx("textarea",{value:c.description,onChange:t=>w({...c,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Description",rows:3}),e.jsxs("select",{value:c.type,onChange:t=>w({...c,type:t.target.value}),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"session",children:"Session"}),e.jsx("option",{value:"mentorship",children:"Mentorship"})]}),e.jsx("input",{type:"time",value:c.hour,onChange:t=>w({...c,hour:t.target.value}),className:"w-full border rounded-lg p-2"}),e.jsx("input",{type:"date",value:c.date,onChange:t=>w({...c,date:t.target.value}),className:"w-full border rounded-lg p-2"}),e.jsx("input",{type:"text",value:c.speaker,onChange:t=>w({...c,speaker:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Speaker *"}),e.jsx("input",{type:"number",value:c.capacity,onChange:t=>w({...c,capacity:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Capacity"}),e.jsx("input",{type:"text",value:c.location,onChange:t=>w({...c,location:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Session Location *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>ae(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:jt,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Updating...":"Update Session"})]})]})}),We&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Edit Event"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:i.title,onChange:t=>S({...i,title:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Title *"}),e.jsx("textarea",{value:i.description,onChange:t=>S({...i,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Description",rows:3}),e.jsxs("select",{value:i.type,onChange:t=>S({...i,type:t.target.value}),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"networking",children:"Networking"}),e.jsx("option",{value:"keynote",children:"Keynote"}),e.jsx("option",{value:"panel",children:"Panel"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:i.startDate,onChange:t=>S({...i,startDate:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Start Date *"}),e.jsx("input",{type:"time",value:i.startTime,onChange:t=>S({...i,startTime:t.target.value}),className:"w-full border rounded-lg p-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"date",value:i.endDate,onChange:t=>S({...i,endDate:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"End Date (Optional)"}),e.jsx("input",{type:"time",value:i.endTime,onChange:t=>S({...i,endTime:t.target.value}),className:"w-full border rounded-lg p-2"})]}),e.jsx("input",{type:"text",value:i.location,onChange:t=>S({...i,location:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Event Location"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:vt,disabled:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:p?"Updating...":"Update Event"})]})]})}),xt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Edit Company"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:n.name,onChange:t=>N({...n,name:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Company Name *"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo *"}),e.jsxs("div",{className:"flex space-x-4 mb-3",children:[e.jsxs("button",{type:"button",onClick:()=>N({...n,logoType:"link"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium ${n.logoType==="link"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"URL"]}),e.jsxs("button",{type:"button",onClick:()=>N({...n,logoType:"upload"}),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium ${n.logoType==="upload"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Upload New"]})]}),n.logoType==="link"?e.jsx("input",{type:"url",value:n.logoUrl,onChange:t=>N({...n,logoUrl:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Logo URL *"}):e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{var s;return N({...n,logo:((s=t.target.files)==null?void 0:s[0])||null})},className:"w-full border rounded-lg p-2"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to keep current logo"})]}),n.logoUrl&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Logo:"}),e.jsx("img",{src:n.logoUrl,alt:"Current logo",className:"h-16 w-auto object-contain",onError:t=>{t.target.src="https://via.placeholder.com/64x64/orange/white?text=Logo"}})]})]}),e.jsx("textarea",{value:n.description,onChange:t=>N({...n,description:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Description",rows:3}),e.jsx("input",{type:"url",value:n.website,onChange:t=>N({...n,website:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Website *"}),e.jsx("input",{type:"text",value:n.boothNumber,onChange:t=>N({...n,boothNumber:t.target.value}),className:"w-full border rounded-lg p-2",placeholder:"Booth Number *"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>pe(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:wt,disabled:p,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:p?"Updating...":"Update Company"})]})]})}),pt&&C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Event Details"}),e.jsx("button",{onClick:()=>{ge(!1),Ue(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(P,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:C.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),e.jsxs("p",{className:"text-gray-900",children:[new Date(C.start_time).toLocaleDateString()," at"," ",new Date(C.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),C.end_time&&e.jsxs("p",{className:"text-gray-500 text-sm",children:["Ends at ",new Date(C.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:C.location||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:C.item_type})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>ge(!1),className:"w-full bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 transition-colors font-medium",children:"Close Details"})})]})]})})}),qe&&I&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Delete Company"}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:I.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{H(!1),Q(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Mt,disabled:p,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:p?"Deleting...":"Delete Company"})]})]})}),Oe&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Delete Session"}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete the session ",e.jsxs("strong",{children:['"',z.title,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{Y(!1),te(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:Ct,disabled:p,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:p?"Deleting...":"Delete Session"})]})]})}),Re&&q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Delete Event"}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete the event ",e.jsxs("strong",{children:['"',q.title,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{ee(!1),se(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{onClick:kt,disabled:p,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:p?"Deleting...":"Delete Event"})]})]})})]})})}export{ms as AdminPanel,ms as default};
