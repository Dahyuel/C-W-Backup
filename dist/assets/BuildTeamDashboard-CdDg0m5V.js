import{o as ue,u as Ie,r as n,q as De,l as te,j as e,C as Ae,A as Re,d as re,U as ae,m as F,n as ne,t as le}from"./index-BZ-lMGb5.js";import{D as Te,X as L,Q as ie}from"./DashboardLayout-DQBksLY-.js";import{Q as oe}from"./QRScanner-CEgQwBc9.js";import{A as Pe}from"./AttendeeCard-DAdsECUy.js";import{S as O}from"./user-x-Cfplimxs.js";import{C as ce}from"./calendar-C-X2uTfF.js";import{C as de}from"./clock-CjQDwbwz.js";import"./heart-B27IaqBN.js";import"./map-pin-DbJtNWhk.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ue("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),y=i=>({...i,current_status:i.building_entry?"inside":"outside",building_entry:i.building_entry}),Ve=()=>{Ie();const[i,H]=n.useState("building"),[E,x]=n.useState(null),[d,w]=n.useState(""),[v,k]=n.useState(!1),[C,j]=n.useState([]),[V,b]=n.useState(!1),[_,me]=n.useState(null),[X,he]=n.useState([]),[r,$]=n.useState(null),[xe,Z]=n.useState(!0),[p,B]=n.useState(null),[z,g]=n.useState(null),[u,I]=n.useState(""),[D,A]=n.useState(!1),[R,N]=n.useState([]),[G,f]=n.useState(!1),[T,ge]=n.useState(null),[h,c]=n.useState(null),[ye,m]=n.useState(!1),[be,P]=n.useState(!1),[Q,K]=n.useState(null);n.useEffect(()=>{i==="session"&&J()},[i]),n.useEffect(()=>{if(_&&clearTimeout(_),i==="building"&&d.trim().length>=2){const s=setTimeout(()=>{pe(d.trim())},300);me(s)}else j([]),b(!1);return()=>{_&&clearTimeout(_)}},[d,i]),n.useEffect(()=>{if(T&&clearTimeout(T),i==="session"&&u.trim().length>=2){const s=setTimeout(()=>{fe(u.trim())},300);ge(s)}else N([]),f(!1);return()=>{T&&clearTimeout(T)}},[u,i]);const J=async()=>{try{Z(!0);const{data:s,error:t}=await De();t?(console.error("Error fetching sessions:",t),l("error","Failed to load sessions")):he(s||[])}catch(s){console.error("Error fetching sessions:",s),l("error","An unexpected error occurred")}finally{Z(!1)}},pe=async s=>{try{k(!0);const{data:t,error:o}=await te(s);if(o)console.error("Building search error:",o),j([]);else{const a=(t||[]).map(S=>y(S));j(a),b(!0)}}catch(t){console.error("Building search exception:",t),j([])}finally{k(!1)}},fe=async s=>{try{A(!0);const{data:t,error:o}=await te(s);if(o)console.error("Session search error:",o),N([]);else{const a=(t||[]).map(S=>y(S));N(a),f(!0)}}catch(t){console.error("Session search exception:",t),N([])}finally{A(!1)}},l=(s,t)=>{K({type:s,message:t}),setTimeout(()=>K(null),5e3)},U=s=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s),W=async()=>{if(!d.trim()){l("error","Please enter a Personal ID");return}try{k(!0);const{data:s,error:t}=await F(d.trim());t||!s?l("error","Personal ID not found"):s.role!=="attendee"?l("error","Only attendees can be processed through this system"):(c(y(s)),m(!0),w(""),b(!1),x(null))}catch(s){console.error("Building search exception:",s),l("error","Search failed. Please try again.")}finally{k(!1)}},Y=async()=>{if(!u.trim()){l("error","Please enter a Personal ID");return}try{A(!0);const{data:s,error:t}=await F(u.trim());t||!s?l("error","Personal ID not found"):s.role!=="attendee"?l("error","Only attendees can be processed through this system"):(c(y(s)),m(!0),I(""),f(!1),g(null))}catch(s){console.error("Session search exception:",s),l("error","Search failed. Please try again.")}finally{A(!1)}},je=s=>{c(s),m(!0),w(""),b(!1),j([]),x(null)},Ne=s=>{c(s),m(!0),I(""),f(!1),N([]),g(null)},Se=async s=>{try{console.log("Processing Building QR data:",s);let t=null,o;if(U(s)){console.log("Detected UUID format, searching by UUID...");const a=await ne(s);t=a.data?y(a.data):null,o=a.error}else{console.log("Detected Personal ID format, searching by Personal ID...");const a=await F(s);t=a.data?y(a.data):null,o=a.error}if(o||!t){const a=U(s)?"Invalid QR code: UUID not found in system":"Invalid QR code: Personal ID not found";l("error",a);return}if(t.role!=="attendee"){l("error","Only attendees can be processed through this system");return}c(t),m(!0),x(null)}catch(t){console.error("Building QR scan error:",t),l("error","Failed to process QR code")}},we=async s=>{try{console.log("Processing Session QR data:",s);let t=null,o;if(U(s)){console.log("Detected UUID format, searching by UUID...");const a=await ne(s);t=a.data?y(a.data):null,o=a.error}else{console.log("Detected Personal ID format, searching by Personal ID...");const a=await F(s);t=a.data?y(a.data):null,o=a.error}if(o||!t){const a=U(s)?"Invalid QR code: UUID not found in system":"Invalid QR code: Personal ID not found";l("error",a);return}if(t.role!=="attendee"){l("error","Only attendees can be processed through this system");return}c(t),m(!0),g(null)}catch(t){console.error("Session QR scan error:",t),l("error","Failed to process QR code")}},ve=async s=>{if(h)try{P(!0);const t=s==="enter"?"building_entry":"building_exit",{data:o,error:a}=await le(h.personal_id,t);if(a){l("error",a.message||`Failed to process ${s}`);return}l("success",o.message||`Building ${s.toUpperCase()} successful!`);const S=s==="enter"?"inside":"outside";c(se=>se?{...se,current_status:S,last_scan:new Date().toISOString()}:null),setTimeout(()=>{m(!1),c(null)},2e3)}catch(t){console.error("Building attendance action error:",t),l("error",`Failed to process ${s}`)}finally{P(!1)}},ke=async s=>{if(!(!h||!r))try{P(!0);const{data:t,error:o}=await le(h.personal_id,"session_entry",r.id);if(o){l("error",o.message||"Failed to add to session");return}l("success",t.message||"Successfully added to session!"),J(),setTimeout(()=>{m(!1),c(null),B(null)},2e3)}catch(t){console.error("Session attendance action error:",t),l("error","Failed to add to session")}finally{P(!1)}},q=()=>{w(""),j([]),b(!1)},ee=()=>{I(""),N([]),f(!1)},Ce=()=>{x(null),c(null),m(!1),q()},_e=()=>{B(null),g(null),$(null),c(null),m(!1),ee()},M=s=>{try{return new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return s}},Be=s=>{try{return new Date(s).toLocaleDateString()}catch{return s}};return e.jsxs(Te,{title:"Build Team Dashboard",subtitle:"Manage building and session attendance",children:[Q&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center space-x-2 px-4 py-3 rounded-lg shadow-lg ${Q.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[Q.type==="success"?e.jsx(Ae,{className:"h-5 w-5"}):e.jsx(Re,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:Q.message}),e.jsx("button",{onClick:()=>K(null),className:"ml-2 hover:bg-black hover:bg-opacity-20 rounded p-1",children:e.jsx(L,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex space-x-6 mb-8 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>{H("building"),_e()},className:`pb-2 px-2 text-sm font-medium ${i==="building"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:"Building"}),e.jsx("button",{onClick:()=>{H("session"),Ce()},className:`pb-2 px-2 text-sm font-medium ${i==="session"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:"Sessions"})]}),e.jsxs("div",{className:"space-y-8",children:[i==="building"&&e.jsxs(e.Fragment,{children:[!E&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-8 space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 text-center flex items-center justify-center gap-2",children:[e.jsx(Qe,{className:"h-6 w-6 text-orange-500"}),"Building Attendance Management"]}),e.jsx("p",{className:"text-gray-600 text-center",children:"Manage entry and exit for attendees using QR code scanning or manual search"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("button",{onClick:()=>x("qr"),className:"flex items-center justify-center p-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(ie,{className:"h-5 w-5 mr-2"}),"QR Code Scanner"]}),e.jsxs("button",{onClick:()=>x("manual"),className:"flex items-center justify-center p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(O,{className:"h-5 w-5 mr-2"}),"Search by Personal ID"]})]})]}),E==="manual"&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Attendees by Personal ID"}),e.jsxs("div",{className:"flex items-center space-x-3 relative",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Start typing Personal ID (e.g., 123456...)",value:d,onChange:s=>w(s.target.value),onKeyDown:s=>s.key==="Enter"&&W(),onBlur:()=>{setTimeout(()=>b(!1),200)},onFocus:()=>C.length>0&&b(!0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors"}),d&&e.jsx("button",{onClick:q,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(L,{className:"h-5 w-5"})}),V&&C.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:C.map(s=>e.jsx("button",{onClick:()=>je(s),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-orange-50 focus:outline-none",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[s.first_name," ",s.last_name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",s.personal_id]}),s.university&&e.jsx("p",{className:"text-xs text-gray-500",children:s.university})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.current_status==="inside"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.current_status==="inside"?"Inside":"Outside"})})]})},s.id))}),V&&C.length===0&&d.trim().length>=2&&!v&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:['No attendees found matching "',d,'"']})}),v&&d.trim().length>=2&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Searching attendees..."})]})})]}),e.jsx("button",{onClick:W,disabled:v||!d.trim(),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:v?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-5 w-5"}),e.jsx("span",{children:"Search"})]})})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-medium mb-1",children:"Search Tips:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Start typing to see dynamic suggestions (minimum 2 characters)"}),e.jsx("li",{children:"Only attendees will appear in search results"}),e.jsx("li",{children:"Click on a suggestion to select that attendee"}),e.jsx("li",{children:"Use QR Scanner for faster lookup"})]})]}),e.jsx("button",{onClick:()=>x(null),className:"text-sm text-gray-500 underline",children:"← Back to options"})]})})]}),i==="session"&&e.jsxs(e.Fragment,{children:[!r&&e.jsx(e.Fragment,{children:xe?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading sessions..."})]}):X.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(ce,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sessions Available"}),e.jsx("p",{className:"text-gray-600",children:"There are currently no sessions scheduled."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 cursor-pointer hover:shadow-md transition",onClick:()=>$(s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:s.title}),e.jsx(ce,{className:"h-5 w-5 text-orange-500 flex-shrink-0"})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2",children:[s.start_time&&e.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(de,{className:"inline-block h-4 w-4 mr-1"}),M(s.start_time)," - ",M(s.end_time)]}),s.speaker&&e.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(re,{className:"inline-block h-4 w-4 mr-1"}),s.speaker]}),s.location&&e.jsxs("p",{className:"text-sm text-gray-500",children:["📍 ",s.location]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(ae,{className:"inline-block h-4 w-4 mr-1"}),s.current_attendees,s.capacity&&`/${s.capacity}`," attendees"]}),s.capacity&&s.current_attendees>=s.capacity&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"Full"})]})]})]},s.id))})}),r&&!p&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.title}),e.jsx("button",{onClick:()=>$(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(L,{className:"h-5 w-5"})})]}),r.description&&e.jsx("p",{className:"text-gray-600",children:r.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.start_time&&e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"text-sm",children:[Be(r.start_time)," • ",M(r.start_time)," - ",M(r.end_time)]})]}),r.speaker&&e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"text-sm",children:["Speaker: ",r.speaker]})]}),r.location&&e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx("span",{className:"mr-2",children:"📍"}),e.jsx("span",{className:"text-sm",children:r.location})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"text-sm",children:[r.current_attendees,r.capacity&&`/${r.capacity}`," attendees"]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:()=>B("session_entry"),disabled:r.capacity&&r.current_attendees>=r.capacity,className:"w-full flex items-center justify-center p-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[e.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Add Attendee to Session",r.capacity&&r.current_attendees>=r.capacity&&e.jsx("span",{className:"ml-2 text-xs",children:"(Session Full)"})]})})]}),p==="session_entry"&&!z&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 space-y-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Add Attendee to: ",r==null?void 0:r.title]}),e.jsx("p",{className:"text-gray-600",children:"Choose how you want to identify the attendee"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>g("qr"),className:"flex items-center justify-center p-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(ie,{className:"h-5 w-5 mr-2"}),"QR Code Scanner"]}),e.jsxs("button",{onClick:()=>g("manual"),className:"flex items-center justify-center p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(O,{className:"h-5 w-5 mr-2"}),"Search by Personal ID"]})]}),e.jsx("button",{onClick:()=>B(null),className:"text-sm text-gray-500 underline",children:"← Back to session details"})]}),z==="manual"&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Attendees by Personal ID"}),e.jsxs("div",{className:"flex items-center space-x-3 relative",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Start typing Personal ID (e.g., 123456...)",value:u,onChange:s=>I(s.target.value),onKeyDown:s=>s.key==="Enter"&&Y(),onBlur:()=>{setTimeout(()=>f(!1),200)},onFocus:()=>R.length>0&&f(!0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors"}),u&&e.jsx("button",{onClick:ee,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(L,{className:"h-5 w-5"})}),G&&R.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:R.map(s=>e.jsx("button",{onClick:()=>Ne(s),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-orange-50 focus:outline-none",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[s.first_name," ",s.last_name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",s.personal_id]}),s.university&&e.jsx("p",{className:"text-xs text-gray-500",children:s.university})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.current_status==="inside"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.current_status==="inside"?"Inside":"Outside"})})]})},s.id))}),G&&R.length===0&&u.trim().length>=2&&!D&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:['No attendees found matching "',u,'"']})}),D&&u.trim().length>=2&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Searching attendees..."})]})})]}),e.jsx("button",{onClick:Y,disabled:D||!u.trim(),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:D?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-5 w-5"}),e.jsx("span",{children:"Search"})]})})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-medium mb-1",children:"Search Tips:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Start typing to see dynamic suggestions (minimum 2 characters)"}),e.jsx("li",{children:"Only attendees will appear in search results"}),e.jsx("li",{children:"Click on a suggestion to select that attendee"}),e.jsx("li",{children:"Use QR Scanner for faster lookup"})]})]}),e.jsx("button",{onClick:()=>g(null),className:"text-sm text-gray-500 underline",children:"← Back to options"})]})})]}),i==="building"&&E==="qr"&&e.jsx(oe,{isOpen:!0,onClose:()=>x(null),onScan:Se,title:"Building Entry Scanner",description:"Point your camera at the attendee's QR code"}),i==="session"&&z==="qr"&&e.jsx(oe,{isOpen:!0,onClose:()=>g(null),onScan:we,title:"Session Entry Scanner",description:"Point your camera at the attendee's QR code"}),e.jsx(Pe,{isOpen:ye,onClose:()=>{m(!1),c(null)},attendee:h,onAction:i==="session"&&p==="session_entry"?ke:ve,loading:be,mode:i==="session"&&p==="session_entry"?"session":"building",sessionTitle:i==="session"&&p==="session_entry"?r==null?void 0:r.title:void 0,disableAction:i==="session"&&p==="session_entry"&&h&&!h.building_entry,disableReason:i==="session"&&p==="session_entry"&&h&&!h.building_entry?"Attendee must be inside the building to join a session":void 0})]})]})};export{Ve as BuildTeamDashboard};
